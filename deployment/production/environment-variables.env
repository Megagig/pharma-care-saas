# Reports & Analytics Module - Production Environment Variables

# =============================================================================
# REPORTS & ANALYTICS CONFIGURATION
# =============================================================================

# Core Settings
REPORTS_MODULE_ENABLED=true
REPORTS_VERSION=1.0.0
REPORTS_DEBUG_MODE=false

# Performance Settings
REPORTS_CACHE_TTL=300
REPORTS_MAX_CONCURRENT_REPORTS=10
REPORTS_EXPORT_TIMEOUT=30000
REPORTS_MAX_EXPORT_SIZE=52428800
REPORTS_AGGREGATION_BATCH_SIZE=1000
REPORTS_QUERY_TIMEOUT=15000

# Export Configuration
REPORTS_ALLOWED_FORMATS=pdf,csv,excel,json
REPORTS_EXPORT_STORAGE_PATH=/app/exports
REPORTS_EXPORT_CLEANUP_INTERVAL=3600000
REPORTS_EXPORT_RETENTION_DAYS=7

# Email Configuration
REPORTS_EMAIL_ENABLED=true
REPORTS_EMAIL_FROM=reports@pharma-care.com
REPORTS_EMAIL_TEMPLATE_PATH=/app/templates/email
REPORTS_EMAIL_MAX_ATTACHMENTS=5
REPORTS_EMAIL_MAX_ATTACHMENT_SIZE=10485760

# Scheduling Configuration
REPORTS_SCHEDULER_ENABLED=true
REPORTS_SCHEDULER_INTERVAL=60000
REPORTS_MAX_SCHEDULED_REPORTS=100
REPORTS_SCHEDULE_RETRY_ATTEMPTS=3
REPORTS_SCHEDULE_RETRY_DELAY=300000

# Security Settings
REPORTS_RBAC_ENABLED=true
REPORTS_AUDIT_ENABLED=true
REPORTS_DATA_ANONYMIZATION=true
REPORTS_AUDIT_RETENTION_DAYS=365
REPORTS_MAX_FILTER_COMPLEXITY=10
REPORTS_RATE_LIMIT_REQUESTS=100
REPORTS_RATE_LIMIT_WINDOW=3600000

# Cache Configuration
REPORTS_CACHE_ENABLED=true
REPORTS_CACHE_PREFIX=pharma_reports
REPORTS_CACHE_REDIS_URL=redis://reports-redis-service:6379
REPORTS_CACHE_REDIS_DB=0
REPORTS_CACHE_REDIS_PASSWORD=
REPORTS_CACHE_MAX_MEMORY=512mb

# Background Jobs
REPORTS_BACKGROUND_JOBS=true
REPORTS_JOB_QUEUE_NAME=report_jobs
REPORTS_JOB_CONCURRENCY=5
REPORTS_JOB_MAX_ATTEMPTS=3
REPORTS_JOB_RETRY_DELAY=60000
REPORTS_JOB_CLEANUP_INTERVAL=86400000

# Database Configuration
REPORTS_DB_CONNECTION_POOL_SIZE=10
REPORTS_DB_CONNECTION_TIMEOUT=10000
REPORTS_DB_QUERY_TIMEOUT=15000
REPORTS_DB_RETRY_ATTEMPTS=3
REPORTS_DB_RETRY_DELAY=1000

# Monitoring and Logging
REPORTS_METRICS_ENABLED=true
REPORTS_METRICS_PORT=9090
REPORTS_METRICS_PATH=/metrics
REPORTS_LOG_LEVEL=info
REPORTS_LOG_FORMAT=json
REPORTS_LOG_FILE_PATH=/var/log/pharma-care/reports
REPORTS_LOG_MAX_SIZE=100mb
REPORTS_LOG_MAX_FILES=10

# Feature Flags
REPORTS_ADVANCED_ANALYTICS=true
REPORTS_CUSTOM_TEMPLATES=true
REPORTS_REAL_TIME_UPDATES=true
REPORTS_EXPORT_SCHEDULING=true
REPORTS_COLLABORATIVE_FEATURES=false
REPORTS_AI_INSIGHTS=false

# Integration Settings
REPORTS_WEBHOOK_ENABLED=true
REPORTS_WEBHOOK_TIMEOUT=5000
REPORTS_WEBHOOK_RETRY_ATTEMPTS=3
REPORTS_API_VERSION=v1
REPORTS_API_RATE_LIMIT=1000

# Development/Testing (Production should be false)
REPORTS_MOCK_DATA_ENABLED=false
REPORTS_TEST_MODE=false
REPORTS_SEED_DATA=false

# =============================================================================
# EXTERNAL SERVICE CONFIGURATION
# =============================================================================

# SMTP Configuration
SMTP_HOST=smtp.pharma-care.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=reports@pharma-care.com
SMTP_PASS=${SMTP_PASSWORD}

# File Storage (if using external storage)
FILE_STORAGE_TYPE=local
FILE_STORAGE_BUCKET=pharma-care-reports
FILE_STORAGE_REGION=us-east-1
FILE_STORAGE_ACCESS_KEY=${AWS_ACCESS_KEY_ID}
FILE_STORAGE_SECRET_KEY=${AWS_SECRET_ACCESS_KEY}

# Notification Services
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
TEAMS_WEBHOOK_URL=${TEAMS_WEBHOOK_URL}

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Encryption
REPORTS_ENCRYPTION_KEY=${REPORTS_ENCRYPTION_KEY}
REPORTS_ENCRYPTION_ALGORITHM=aes-256-gcm

# JWT Configuration
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# CORS Configuration
CORS_ORIGIN=https://app.pharma-care.com,https://pharma-care.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_ENDPOINT=/metrics

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_TIMEOUT=5000

# Error Tracking
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=${APP_VERSION}

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Node.js Configuration
NODE_ENV=production
NODE_OPTIONS=--max-old-space-size=2048
UV_THREADPOOL_SIZE=16

# Memory Management
MEMORY_LIMIT=2048
MEMORY_WARNING_THRESHOLD=1536
MEMORY_CRITICAL_THRESHOLD=1843

# CPU Configuration
CPU_LIMIT=2
CPU_WARNING_THRESHOLD=70
CPU_CRITICAL_THRESHOLD=85

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups/reports
BACKUP_COMPRESSION=true

# Recovery Configuration
RECOVERY_ENABLED=true
RECOVERY_TIMEOUT=300000
RECOVERY_MAX_ATTEMPTS=3

# =============================================================================
# COMPLIANCE AND AUDIT
# =============================================================================

# Audit Configuration
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=info
AUDIT_LOG_RETENTION_DAYS=2555
AUDIT_LOG_ENCRYPTION=true

# Compliance Settings
HIPAA_COMPLIANCE=true
GDPR_COMPLIANCE=true
SOX_COMPLIANCE=true
DATA_RETENTION_POLICY=7years

# =============================================================================
# ENVIRONMENT SPECIFIC OVERRIDES
# =============================================================================

# These should be set in the deployment environment
# DATABASE_URL=${DATABASE_URL}
# REDIS_URL=${REDIS_URL}
# ELASTICSEARCH_URL=${ELASTICSEARCH_URL}
# MONGODB_URI=${MONGODB_URI}