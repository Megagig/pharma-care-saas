{"code":26,"codeName":"NamespaceNotFound","level":"error","message":"Failed to create index on conversations: ns does not exist: pharma-care-test.conversations","ok":0,"service":"pharma-care-api","stack":"MongoServerError: ns does not exist: pharma-care-test.conversations\n    at Connection.onMessage (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:413:18)\n    at MessageStream.<anonymous> (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:243:56)\n    at MessageStream.emit (node:events:518:28)\n    at MessageStream.emit (node:domain:489:12)\n    at processIncomingData (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:193:12)\n    at MessageStream._write (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)","timestamp":"2025-09-20 18:04:34"}
{"code":26,"codeName":"NamespaceNotFound","level":"error","message":"Failed to create index on conversations: ns does not exist: pharma-care-test.conversations","ok":0,"service":"pharma-care-api","stack":"MongoServerError: ns does not exist: pharma-care-test.conversations\n    at Connection.onMessage (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:413:18)\n    at MessageStream.<anonymous> (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:243:56)\n    at MessageStream.emit (node:events:518:28)\n    at MessageStream.emit (node:domain:489:12)\n    at processIncomingData (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:193:12)\n    at MessageStream._write (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)","timestamp":"2025-09-20 18:04:34"}
{"code":26,"codeName":"NamespaceNotFound","level":"error","message":"Failed to create index on conversations: ns does not exist: pharma-care-test.conversations","ok":0,"service":"pharma-care-api","stack":"MongoServerError: ns does not exist: pharma-care-test.conversations\n    at Connection.onMessage (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:413:18)\n    at MessageStream.<anonymous> (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:243:56)\n    at MessageStream.emit (node:events:518:28)\n    at MessageStream.emit (node:domain:489:12)\n    at processIncomingData (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:193:12)\n    at MessageStream._write (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)","timestamp":"2025-09-20 18:04:34"}
{"code":26,"codeName":"NamespaceNotFound","level":"error","message":"Failed to create index on conversations: ns does not exist: pharma-care-test.conversations","ok":0,"service":"pharma-care-api","stack":"MongoServerError: ns does not exist: pharma-care-test.conversations\n    at Connection.onMessage (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:413:18)\n    at MessageStream.<anonymous> (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:243:56)\n    at MessageStream.emit (node:events:518:28)\n    at MessageStream.emit (node:domain:489:12)\n    at processIncomingData (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:193:12)\n    at MessageStream._write (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)","timestamp":"2025-09-20 18:04:34"}
{"code":85,"codeName":"IndexOptionsConflict","level":"error","message":"Failed to create index on conversations: An equivalent index already exists with a different name and options. Requested index: { v: 2, key: { _fts: \"text\", _ftsx: 1 }, name: \"title_text_metadata.clinicalContext.diagnosis_text_metadata.clinicalContext.conditions_text\", background: true, weights: { metadata.clinicalContext.conditions: 1, metadata.clinicalContext.diagnosis: 1, title: 1 }, default_language: \"english\", language_override: \"language\", textIndexVersion: 3 }, existing index: { v: 2, key: { _fts: \"text\", _ftsx: 1 }, name: \"title_text\", background: true, weights: { title: 1 }, default_language: \"english\", language_override: \"language\", textIndexVersion: 3 }","ok":0,"service":"pharma-care-api","stack":"MongoServerError: An equivalent index already exists with a different name and options. Requested index: { v: 2, key: { _fts: \"text\", _ftsx: 1 }, name: \"title_text_metadata.clinicalContext.diagnosis_text_metadata.clinicalContext.conditions_text\", background: true, weights: { metadata.clinicalContext.conditions: 1, metadata.clinicalContext.diagnosis: 1, title: 1 }, default_language: \"english\", language_override: \"language\", textIndexVersion: 3 }, existing index: { v: 2, key: { _fts: \"text\", _ftsx: 1 }, name: \"title_text\", background: true, weights: { title: 1 }, default_language: \"english\", language_override: \"language\", textIndexVersion: 3 }\n    at Connection.onMessage (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:413:18)\n    at MessageStream.<anonymous> (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:243:56)\n    at MessageStream.emit (node:events:518:28)\n    at MessageStream.emit (node:domain:489:12)\n    at processIncomingData (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:193:12)\n    at MessageStream._write (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)","timestamp":"2025-09-20 18:04:34"}
{"_message":"CommunicationAuditLog validation failed","errors":{"complianceCategory":{"kind":"required","message":"Path `complianceCategory` is required.","name":"ValidatorError","path":"complianceCategory","properties":{"message":"Path `complianceCategory` is required.","path":"complianceCategory","type":"required"}},"riskLevel":{"kind":"required","message":"Path `riskLevel` is required.","name":"ValidatorError","path":"riskLevel","properties":{"message":"Path `riskLevel` is required.","path":"riskLevel","type":"required"}}},"level":"error","message":"Communication Hub models validation failed: CommunicationAuditLog validation failed: complianceCategory: Path `complianceCategory` is required., riskLevel: Path `riskLevel` is required.","service":"pharma-care-api","stack":"ValidationError: CommunicationAuditLog validation failed: complianceCategory: Path `complianceCategory` is required., riskLevel: Path `riskLevel` is required.\n    at model.Document.invalidate (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongoose/lib/document.js:3012:17\n    at /home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-20 18:04:35"}
{"code":85,"codeName":"IndexOptionsConflict","level":"error","message":"Failed to create index on conversations: An equivalent index already exists with a different name and options. Requested index: { v: 2, key: { _fts: \"text\", _ftsx: 1 }, name: \"title_text_metadata.clinicalContext.diagnosis_text_metadata.clinicalContext.conditions_text\", background: true, weights: { metadata.clinicalContext.conditions: 1, metadata.clinicalContext.diagnosis: 1, title: 1 }, default_language: \"english\", language_override: \"language\", textIndexVersion: 3 }, existing index: { v: 2, key: { _fts: \"text\", _ftsx: 1 }, name: \"title_text\", background: true, weights: { title: 1 }, default_language: \"english\", language_override: \"language\", textIndexVersion: 3 }","ok":0,"service":"pharma-care-api","stack":"MongoServerError: An equivalent index already exists with a different name and options. Requested index: { v: 2, key: { _fts: \"text\", _ftsx: 1 }, name: \"title_text_metadata.clinicalContext.diagnosis_text_metadata.clinicalContext.conditions_text\", background: true, weights: { metadata.clinicalContext.conditions: 1, metadata.clinicalContext.diagnosis: 1, title: 1 }, default_language: \"english\", language_override: \"language\", textIndexVersion: 3 }, existing index: { v: 2, key: { _fts: \"text\", _ftsx: 1 }, name: \"title_text\", background: true, weights: { title: 1 }, default_language: \"english\", language_override: \"language\", textIndexVersion: 3 }\n    at Connection.onMessage (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:413:18)\n    at MessageStream.<anonymous> (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/connection.ts:243:56)\n    at MessageStream.emit (node:events:518:28)\n    at MessageStream.emit (node:domain:489:12)\n    at processIncomingData (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:193:12)\n    at MessageStream._write (/home/megagig/PROJECTS/MERN/pharma-care-saas/backend/node_modules/mongodb/src/cmap/message_stream.ts:74:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at MessageStream.Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)","timestamp":"2025-09-20 18:06:32"}
