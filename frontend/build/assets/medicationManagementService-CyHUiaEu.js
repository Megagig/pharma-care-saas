import{a as n}from"./api-Ce5h1_pV.js";const R={createMedication:async t=>(await n.post("/medication-management",t)).data.data,getMedicationsByPatient:async(t,e="active")=>(await n.get(`/medication-management/patient/${t}`,{params:{status:e}})).data.data,getMedicationById:async t=>(await n.get(`/medication-management/${t}`)).data.data,updateMedication:async(t,e)=>(await n.put(`/medication-management/${t}`,e)).data.data,archiveMedication:async(t,e)=>(await n.patch(`/medication-management/${t}/archive`,{reason:e})).data.data,logAdherence:async t=>(await n.post("/medication-management/adherence",t)).data.data,getAdherenceLogs:async(t,e,o)=>(await n.get(`/medication-management/adherence/patient/${t}`,{params:{startDate:e,endDate:o}})).data.data,checkInteractions:async t=>(await n.post("/medication-management/check-interactions",{medications:t})).data.data,getDashboardStats:async()=>(await n.get("/medication-management/dashboard/stats")).data.data,getAdherenceTrends:async t=>(await n.get("/medication-management/dashboard/adherence-trends",{params:{period:t}})).data.data,getRecentPatientsWithMedications:async t=>(await n.get("/medication-management/dashboard/recent-patients",{params:{limit:t}})).data.data,getAdherenceAnalytics:async(t,e="6months")=>{try{return{...(await n.get(`/medication-analytics/adherence/${t}`,{params:{period:e}})).data,currencyCode:"NGN",currencySymbol:"₦"}}catch(o){console.error("Error fetching enhanced adherence analytics:",o);const i=new Date,a=[];for(let r=5;r>=0;r--){const c=new Date(i);c.setMonth(i.getMonth()-r),a.push(c.toLocaleDateString("en-US",{month:"short"}))}const s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d=["Morning","Noon","Evening","Night"];return{monthlyAdherence:a.map(r=>({month:r,adherence:0})),averageAdherence:0,trendDirection:"stable",complianceDays:s.map(r=>({day:r,count:0})),missedDoses:s.map(r=>({day:r,count:0})),adherenceByTimeOfDay:d.map(r=>({time:r,adherence:0})),costsData:{saved:0,potential:0,formattedSaved:"₦0.00",formattedPotential:"₦0.00"},currencyCode:"NGN",currencySymbol:"₦"}}},getPrescriptionPatternAnalytics:async t=>{try{return{...(await n.get(`/medication-analytics/prescriptions/${t}`)).data,currencyCode:"NGN",currencySymbol:"₦"}}catch(e){return console.error("Error fetching enhanced prescription pattern analytics:",e),{medicationsByCategory:[],medicationsByRoute:[],prescriptionFrequency:[{month:"Jan",count:3},{month:"Feb",count:2},{month:"Mar",count:4},{month:"Apr",count:1},{month:"May",count:5},{month:"Jun",count:2}],topPrescribers:[{prescriber:"Dr. Smith",count:8},{prescriber:"Dr. Johnson",count:5},{prescriber:"Dr. Williams",count:4},{prescriber:"Dr. Brown",count:3}],medicationDurationTrends:[{duration:"< 7 days",count:6},{duration:"1-4 weeks",count:8},{duration:"1-3 months",count:4},{duration:"3-6 months",count:3},{duration:"> 6 months",count:7}],seasonalPrescriptionPatterns:[{season:"Winter",count:9},{season:"Spring",count:6},{season:"Summer",count:4},{season:"Fall",count:7}],costByMonth:[{month:"Jan",cost:12500,formattedCost:"₦12,500.00"},{month:"Feb",cost:8900,formattedCost:"₦8,900.00"},{month:"Mar",cost:15200,formattedCost:"₦15,200.00"},{month:"Apr",cost:7600,formattedCost:"₦7,600.00"},{month:"May",cost:18700,formattedCost:"₦18,700.00"},{month:"Jun",cost:9800,formattedCost:"₦9,800.00"}],currencyCode:"NGN",currencySymbol:"₦"}}},getMedicationInteractionAnalytics:async t=>{try{return{...(await n.get(`/medication-analytics/interactions/${t}`)).data,currencyCode:"NGN",currencySymbol:"₦"}}catch(e){return console.error("Error fetching enhanced interaction analytics:",e),{severityDistribution:[{severity:"Minor",count:0},{severity:"Moderate",count:0},{severity:"Severe",count:0}],interactionTrends:[],commonInteractions:[],riskFactorsByMedication:[],interactionsByBodySystem:[]}}},getMedicationCostAnalytics:async t=>{try{return(await n.get(`/medication-analytics/costs/${t}`)).data}catch(e){return console.error("Error fetching medication cost analytics:",e),{monthlyCosts:Array.from({length:6},(o,i)=>{const a=new Date;return a.setMonth(a.getMonth()-i),{month:a.toLocaleDateString("en-US",{month:"short",year:"numeric"}),totalCost:0,formattedCost:"₦0.00"}}).reverse(),costByCategory:[],totalCost:0,formattedTotalCost:"₦0.00",totalRevenue:0,totalProfit:0,profitMargin:0,formattedTotalRevenue:"₦0.00",formattedTotalProfit:"₦0.00",formattedProfitMargin:"0%",monthlyFinancials:[],financialsByCategory:[],topProfitableMedications:[],currency:{code:"NGN",symbol:"₦"}}}},getPatientMedicationSummary:async t=>{try{return{...(await n.get(`/medication-analytics/dashboard/${t}`)).data,currency:{code:"NGN",symbol:"₦"}}}catch(e){return console.error("Error fetching enhanced patient medication summary:",e),{activeCount:0,archivedCount:0,cancelledCount:0,adherenceRate:0,interactionCount:0,mostCommonCategory:"None",mostCommonRoute:"None",lastUpdated:new Date().toISOString(),adherenceTrend:"stable",costAnalysis:{totalMonthlyCost:0,formattedMonthlyCost:"₦0.00",costByCategory:[],insuranceCoverageRate:0},medicationComplexity:{complexityScore:0,doseFrequency:0,uniqueScheduleCount:0}}}},getPatientMedicationSettings:async t=>{try{return(await n.get(`/medication-management/settings/${t}`)).data.data}catch(e){return console.error("Error fetching patient medication settings:",e),{reminderSettings:{enabled:!1,defaultReminderTimes:[],reminderMethod:"email",defaultNotificationLeadTime:0,customMessage:"",repeatReminders:!1,repeatInterval:30,smartReminders:!1,allowSnooze:!0,snoozeOptions:[5,10,15,30],notifyCaregiver:!1,caregiverContact:""},monitoringSettings:{adherenceMonitoring:!0,refillReminders:!0,interactionChecking:!0,refillThreshold:20,missedDoseThreshold:2,adherenceReporting:!0,reportFrequency:"weekly",alertOnLowAdherence:!0,lowAdherenceThreshold:70,stockoutPrediction:!0}}}},updatePatientMedicationSettings:async(t,e)=>{var o,i,a,s,d,r,c,m,u,l,h,y,g,p,f,S,C,M,w,v,b,T;try{return(await n.put(`/medication-management/settings/${t}`,e)).data.data}catch(D){return console.error("Error updating patient medication settings:",D),{reminderSettings:{enabled:((o=e.reminderSettings)==null?void 0:o.enabled)??!1,defaultReminderTimes:((i=e.reminderSettings)==null?void 0:i.defaultReminderTimes)??[],reminderMethod:((a=e.reminderSettings)==null?void 0:a.reminderMethod)??"email",defaultNotificationLeadTime:((s=e.reminderSettings)==null?void 0:s.defaultNotificationLeadTime)??0,customMessage:((d=e.reminderSettings)==null?void 0:d.customMessage)??"",repeatReminders:((r=e.reminderSettings)==null?void 0:r.repeatReminders)??!1,repeatInterval:((c=e.reminderSettings)==null?void 0:c.repeatInterval)??0,smartReminders:((m=e.reminderSettings)==null?void 0:m.smartReminders)??!1,allowSnooze:((u=e.reminderSettings)==null?void 0:u.allowSnooze)??!1,snoozeOptions:((l=e.reminderSettings)==null?void 0:l.snoozeOptions)??[],notifyCaregiver:((h=e.reminderSettings)==null?void 0:h.notifyCaregiver)??!1,caregiverContact:((y=e.reminderSettings)==null?void 0:y.caregiverContact)??""},monitoringSettings:{adherenceMonitoring:((g=e.monitoringSettings)==null?void 0:g.adherenceMonitoring)??!0,refillReminders:((p=e.monitoringSettings)==null?void 0:p.refillReminders)??!0,interactionChecking:((f=e.monitoringSettings)==null?void 0:f.interactionChecking)??!0,refillThreshold:((S=e.monitoringSettings)==null?void 0:S.refillThreshold)??20,missedDoseThreshold:((C=e.monitoringSettings)==null?void 0:C.missedDoseThreshold)??2,adherenceReporting:((M=e.monitoringSettings)==null?void 0:M.adherenceReporting)??!0,reportFrequency:((w=e.monitoringSettings)==null?void 0:w.reportFrequency)??"weekly",alertOnLowAdherence:((v=e.monitoringSettings)==null?void 0:v.alertOnLowAdherence)??!0,lowAdherenceThreshold:((b=e.monitoringSettings)==null?void 0:b.lowAdherenceThreshold)??70,stockoutPrediction:((T=e.monitoringSettings)==null?void 0:T.stockoutPrediction)??!0}}}},testNotification:async(t,e,o,i)=>{try{return(await n.post(`/medication-management/settings/${t}/test-notification`,{type:e,contact:o,testMessage:i})).data}catch(a){return console.error("Error sending test notification:",a),{success:!1,message:"Failed to send test notification",details:"Could not connect to notification service. Please try again or check your network connection."}}}};export{R as m};
