import{g as y,aV as N,b0 as C,j as t,aX as I,B as s,h as v,T as l,aY as B,Q as S,aZ as k,a_ as z,a$ as E}from"./index-louytu0d.js";import{C as $}from"./ClinicalNoteForm-CsfDrTFY.js";import{C as w}from"./ClinicalNotesUXEnhancer-BH-yuQhb.js";import{A as L}from"./ArrowBack-BItWCU58.js";import{H as A}from"./Home-CwO1tyR0.js";import{b as d}from"./clinicalNote-CntUytxg.js";import{A as x}from"./Add-DinP5QbX.js";import"./useClinicalNotesErrorHandling-zsNhAG95.js";import"./Refresh-BWfz7OQR.js";import"./ExpandLess-BOUZH1RV.js";import"./BugReport-Bln5s9ri.js";import"./usePatients--qdYAPd6.js";import"./CloudUpload-CGSNiQ02.js";import"./CardActions-DyO_kInq.js";import"./Download-vzkMIyVG.js";import"./Delete-CTgRaLP1.js";import"./Snackbar-CN1k-M3c.js";import"./Image-LpuW3ErK.js";import"./LocalizationProvider-Dw4E6yUa.js";import"./AdapterDateFns-BacIp4vz.js";import"./addMonths-BF41cc2b.js";import"./format-CuO4PcXN.js";import"./Switch-Cd_KxpXf.js";import"./Save-D3qEpRI-.js";import"./Cancel-ngHfCh8l.js";import"./Autocomplete-DW-SeE61.js";import"./DateTimePicker-Dzc-KkZ0.js";import"./useMobilePicker-GDqmrovO.js";import"./index-DgEE6Mbq.js";import"./CloudOff-Z9x89yWa.js";import"./Sync-CKENTmTt.js";const dt=()=>{var p;const o=y(),i=N(),c=C(),n=c.id,r=i.pathname.includes("/edit"),h=((p=i.state)==null?void 0:p.patientId)||c.patientId,m=()=>{var a;const e=(a=i.state)==null?void 0:a.from;o(e||"/notes")},f=e=>{o(`/notes/${e._id}`,{replace:!0,state:{from:"/notes",message:"Note created successfully"}})},u=e=>{o(`/notes/${e._id}`,{replace:!0,state:{from:"/notes",message:"Note updated successfully"}})},j=()=>{const e=[{label:"Dashboard",path:"/dashboard",icon:t.jsx(A,{fontSize:"small"})},{label:"Clinical Notes",path:"/notes",icon:t.jsx(d,{fontSize:"small"})}];return r?e.push({label:"Note Details",path:`/notes/${n}`,icon:t.jsx(d,{fontSize:"small"})},{label:"Edit",path:`/notes/${n}/edit`,icon:t.jsx(x,{fontSize:"small"})}):e.push({label:"New Note",path:"/notes/new",icon:t.jsx(x,{fontSize:"small"})}),e},g=()=>{const e=j();return t.jsx(k,{"aria-label":"breadcrumb",sx:{mb:2,"& .MuiBreadcrumbs-separator":{mx:1}},children:e.map((a,b)=>b===e.length-1?t.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:.5,color:"text.primary",fontWeight:500},children:[a.icon,t.jsx(l,{variant:"body2",color:"textPrimary",children:a.label})]},a.path):t.jsxs(z,{component:E,to:a.path,sx:{display:"flex",alignItems:"center",gap:.5,color:"text.secondary",textDecoration:"none","&:hover":{color:"primary.main",textDecoration:"underline"}},children:[a.icon,t.jsx(l,{variant:"body2",children:a.label})]},a.path))})};return t.jsx(w,{context:"clinical-note-form-page",children:t.jsxs(I,{maxWidth:"xl",sx:{py:3,px:{xs:2,sm:3},minHeight:"calc(100vh - 120px)"},children:[t.jsxs(s,{sx:{mb:3},children:[g(),t.jsx(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:2},children:t.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(v,{variant:"outlined",startIcon:t.jsx(L,{}),onClick:m,size:"sm",children:"Back"}),t.jsx(l,{variant:"h4",component:"h1",sx:{fontWeight:600,color:"text.primary"},children:r?"Edit Clinical Note":"Create New Clinical Note"})]})})]}),t.jsx(B,{in:!0,timeout:300,children:t.jsx(S,{elevation:1,sx:{p:3},children:t.jsx($,{noteId:n,patientId:h,onSave:r?u:f,onCancel:m})})})]})})};export{dt as default};
