import{c as y,j as d,bm as i,bd as n,ca as u,cb as r}from"./index-B_pWc9hu.js";const v=y(d.jsx("path",{d:"m22 10-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99zm-7-4.5 5.5 5.5H15z"})),a={all:["clinical-notes"],lists:()=>[...a.all,"list"],list:e=>[...a.lists(),e],details:()=>[...a.all,"detail"],detail:e=>[...a.details(),e],patient:e=>[...a.all,"patient",e],search:(e,t)=>[...a.all,"search",e,t],statistics:e=>[...a.all,"statistics",e]},p=(e={})=>(console.log("useClinicalNotes called with filters:",e),i({queryKey:e.search?a.search(e.search,Object.fromEntries(Object.entries(e).filter(([t])=>t!=="search"))):a.list(e),queryFn:()=>{if(console.log("Query function called, filters:",e),e.search){console.log("Using search with query:",e.search);const{search:t,...s}=e;return n.searchNotes(t,s)}return console.log("Using regular getNotes"),n.getNotes(e)},staleTime:5*60*1e3,gcTime:10*60*1e3,retry:3,retryDelay:t=>Math.min(1e3*2**t,3e4)})),g=e=>i({queryKey:a.detail(e),queryFn:()=>n.getNote(e),enabled:!!e,staleTime:5*60*1e3,retry:3}),q=(e,t={})=>i({queryKey:a.patient(e),queryFn:()=>n.getPatientNotes(e,t),enabled:!!e,staleTime:2*60*1e3,retry:(s,l)=>{var o,c;return((o=l==null?void 0:l.response)==null?void 0:o.status)===404||((c=l==null?void 0:l.response)==null?void 0:c.status)===403?!1:s<2},retryDelay:s=>Math.min(1e3*2**s,3e4)}),h=()=>{const e=u();return r({mutationFn:t=>n.createNote(t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:a.lists()}),s.patient&&e.invalidateQueries({queryKey:a.patient(s.patient)}),e.invalidateQueries({queryKey:a.statistics({})}),e.setQueryData(a.detail(t.note._id),{note:t.note})},onError:t=>{console.error("Failed to create note:",t)}})},b=h,N=()=>{const e=u();return r({mutationFn:({id:t,data:s})=>n.updateNote(t,s),onSuccess:(t,s)=>{e.setQueryData(a.detail(s.id),{note:t.note}),e.invalidateQueries({queryKey:a.lists()}),s.data.patient&&e.invalidateQueries({queryKey:a.patient(s.data.patient)})},onError:t=>{console.error("Failed to update note:",t)}})},C=N,Q=[{value:"consultation",label:"Consultation"},{value:"medication_review",label:"Medication Review"},{value:"follow_up",label:"Follow-up"},{value:"adverse_event",label:"Adverse Event"},{value:"other",label:"Other"}],E=[{value:"low",label:"Low",color:"#4caf50"},{value:"medium",label:"Medium",color:"#ff9800"},{value:"high",label:"High",color:"#f44336"}];export{Q as N,E as a,v as b,g as c,b as d,C as e,q as f,p as u};
