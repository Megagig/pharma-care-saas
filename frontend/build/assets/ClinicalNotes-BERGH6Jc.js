var ac=Object.defineProperty;var cc=(e,t,n)=>t in e?ac(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gt=(e,t,n)=>cc(e,typeof t!="symbol"?t+"":t,n);import{r as c,c as uc,j as h,ab as f,u as er,e as Rr,ac as dc,ad as gc,ae as _e,a5 as Jn,af as hc,ag as fc,ah as mc,ai as pc,aj as bc,p as Cc,ak as wc,al as Q,a6 as Vr,a7 as Nr,a8 as Br,am as Fe,t as _r,an as ut,ao as He,aa as Wr,$ as li,x as xc,h as ct,l as ft,I as Gt,d as Ur,S as Sc,ap as yc,f as _t,aq as Tl,a4 as Pn,ar as vc,as as Ic,at as Mc,au as Pc,Q as si,av as Ht,aw as nl,ax as ii,ay as kc,az as st,aA as Me,aB as pn,aC as Oe,aD as Rt,aE as Fc,aF as $e,aG as dn,aH as Ec,aI as An,aJ as ai,aK as ol,aL as Mo,aM as Tc,g as ci,aN as Dc,aO as Dl,B as Ae,T as je,C as Kn,b as Po,a9 as bt,M as Hl,a1 as ko,aP as Ol,aQ as $l,aR as Gl,aS as Ll,D as jl,q as Al,V as zl,aT as Hc,aU as Oc,aV as $c,aW as Gc,aX as Lc,aY as jc,aZ as Ac,a_ as zc,a$ as Rc}from"./index-louytu0d.js";import{C as ui}from"./useClinicalNotesErrorHandling-zsNhAG95.js";import{S as Rl}from"./Search-BDaMMIPP.js";import{A as Ho}from"./Add-DinP5QbX.js";import{E as Vl}from"./Edit-B2er_J4R.js";import{D as xr}from"./Delete-CTgRaLP1.js";import{F as Nl}from"./FilterList-BXxQXbYc.js";import{M as Bl}from"./MoreVert-nhhWlZ7h.js";import{A as _l}from"./AttachFile-Dz8yytRl.js";import{C as Fo}from"./Clear-De3B6C8y.js";import{E as Vc}from"./ExpandLess-BOUZH1RV.js";import{u as Nc,N as Sr,a as yr,b as di}from"./clinicalNote-CntUytxg.js";import{u as Bc}from"./useResponsive-Bux_zWod.js";import{f as vr}from"./format-CuO4PcXN.js";import{p as Ir}from"./parseISO-DJ7zThPR.js";import{P as N}from"./index-DgEE6Mbq.js";import{c as _c,l as rl,w as Wc,s as gi}from"./reselect-BYKfjCpY.js";import{T as Uc,t as Wl}from"./TablePagination-F3GtdUGZ.js";import{S as Ul}from"./Switch-Cd_KxpXf.js";import{A as Kc}from"./Autocomplete-DW-SeE61.js";import{C as qc,S as Yc}from"./Snackbar-CN1k-M3c.js";import{C as Xc}from"./CardActions-DyO_kInq.js";import{C as Qc}from"./ClinicalNotesUXEnhancer-BH-yuQhb.js";import{H as Zc}from"./Home-CwO1tyR0.js";import"./Refresh-BWfz7OQR.js";import"./ArrowBack-BItWCU58.js";import"./BugReport-Bln5s9ri.js";import"./TableCell-ZA4nZKqC.js";import"./LastPage-fqBHFQFA.js";import"./CloudOff-Z9x89yWa.js";import"./Sync-CKENTmTt.js";const Jc=parseInt(c.version,10),fe=e=>{if(Jc>=19){const t=n=>e(n,n.ref??null);return t.displayName=e.displayName??e.name,t}return c.forwardRef(e)},Ue=uc,Kl=Ue(h.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),ql=Ue(h.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),Yl=Ue(h.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),Xl=Ue(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),eu=Ue(h.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})),Ql=Ue(h.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"})),tu=Ue(h.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}));Ue(h.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}));Ue(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}));const nu=Ue(h.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),ou=Ue(h.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"})),ru=Ue(h.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"})),lu=Ue(h.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"})),su=Ue(h.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"})),iu=Ue(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),Zl=Ue(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Jl=Ue(h.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),au=Ue(h.jsx("path",{d:"M19 13H5v-2h14v2z"})),cu=Ue(h.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})),es=Ue(h.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),ts=Ue(h.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),uu=Ue(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),du=Ue(h.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),gu=Ue(h.jsx("g",{children:h.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})})),ns=Ue(h.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}));Ue(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}));const hu=Ue(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),fu=Ue(h.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),hi=c.createContext(void 0);function be(){const e=c.useContext(hi);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const fi=c.createContext(void 0),Z=()=>{const e=c.useContext(fi);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},mu=new TextEncoder;let Oo=2*1024,no=new ArrayBuffer(Oo),Mr=new Uint8Array(no),sn=new Int32Array(no);const pu=bu;function bu(e){const t=e.length*2;t>Oo&&(Oo=t+(4-t%4),no=new ArrayBuffer(Oo),Mr=new Uint8Array(no),sn=new Int32Array(no));const n=mu.encodeInto(e,Mr).written,o=0,r=n|0;let l=0,s=(o+r|0)+374761393|0;if(r<16)for(;(l+3|0)<r;l=l+4|0)s=Math.imul(It(s+Math.imul(sn[l]|0,3266489917)|0,17)|0,668265263);else{let i=o+606290984|0,a=o+2246822519|0,d=o,u=o-2654435761|0;for(;(l+15|0)<r;l=l+16|0)i=Math.imul(It(i+Math.imul(sn[l+0|0]|0,2246822519)|0,13)|0,2654435761),a=Math.imul(It(a+Math.imul(sn[l+4|0]|0,2246822519)|0,13)|0,2654435761),d=Math.imul(It(d+Math.imul(sn[l+8|0]|0,2246822519)|0,13)|0,2654435761),u=Math.imul(It(u+Math.imul(sn[l+12|0]|0,2246822519)|0,13)|0,2654435761);for(s=(((It(i,1)|0+It(a,7)|0)+It(d,12)|0)+It(u,18)|0)+r|0;(l+3|0)<r;l=l+4|0)s=Math.imul(It(s+Math.imul(sn[l]|0,3266489917)|0,17)|0,668265263)}for(;l<r;l=l+1|0)s=Math.imul(It(s+Math.imul(Mr[l]|0,374761393)|0,11)|0,2654435761);return s=Math.imul(s^s>>>15,2246822519),s=Math.imul(s^s>>>13,3266489917),((s^s>>>16)>>>0).toString()}function It(e,t){return e<<t|e>>>32-t}function Cu(e){const t=new WeakSet;return JSON.stringify(e,(n,o)=>{if(typeof window<"u"&&o===window||typeof document<"u"&&o===document)return o.toString();if(o!==null&&typeof o=="object"){if(t.has(o))return null;t.add(o)}return o})}const mi={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:e=>{const t=mi.values;return`@media (min-width:${typeof t[e]=="number"?t[e]:e}px)`}},pi={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},wu=bi(pi),ne=f({breakpoints:mi,spacing:xu,transition:Su,keys:pi},wu);function xu(e,t,n,o){return e===void 0?Mt(1):t===void 0?Mt(e):n===void 0?Mt(e)+" "+Mt(t):o===void 0?Mt(e)+" "+Mt(t)+" "+Mt(n):Mt(e)+" "+Mt(t)+" "+Mt(n)+" "+Mt(o)}function Mt(e){return e===0?"0":`calc(var(--DataGrid-t-spacing-unit) * ${e})`}function Su(e,t){const{duration:n=ne.transitions.duration.base,easing:o=ne.transitions.easing.easeInOut,delay:r=0}=t??{};return e.map(l=>`${l} ${n} ${o} ${r}ms`).join(", ")}function bi(e){if(typeof e=="string")return`var(${e})`;const t={};for(const n in e)Object.hasOwn(e,n)&&(t[n]=bi(e[n]));return t}function yu(){const e=er();return c.useMemo(()=>{const t=pu(Cu(e)),n=vu(e);return{id:t,variables:n}},[e])}function vu(e){var v,S,b,x,T,D;const t=Mu(e),n=(e.vars||e).palette.DataGrid,o=(n==null?void 0:n.bg)??(e.vars||e).palette.background.default,r=(n==null?void 0:n.headerBg)??o,l=(n==null?void 0:n.pinnedBg)??o,s=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:Rr(e.palette.background.default,e.palette.action.disabledOpacity),i=e.palette.mode==="dark"?`color-mix(in srgb, ${(e.vars||e).palette.background.paper} 95%, #fff)`:(e.vars||e).palette.background.paper,a=e.vars?`rgb(${e.vars.palette.primary.mainChannel})`:e.palette.primary.main,d=Iu(e),u=((S=(v=e.vars)==null?void 0:v.font)==null?void 0:S.body2)??Pr(e.typography.body2),g=((x=(b=e.vars)==null?void 0:b.font)==null?void 0:x.caption)??Pr(e.typography.caption),m=((D=(T=e.vars)==null?void 0:T.font)==null?void 0:D.body1)??Pr(e.typography.body1),p=ne.keys;return{[p.spacingUnit]:e.vars?e.vars.spacing??e.spacing(1):e.spacing(1),[p.colors.border.base]:t,[p.colors.background.base]:o,[p.colors.background.overlay]:i,[p.colors.background.backdrop]:s,[p.colors.foreground.base]:(e.vars||e).palette.text.primary,[p.colors.foreground.muted]:(e.vars||e).palette.text.secondary,[p.colors.foreground.accent]:(e.vars||e).palette.primary.dark,[p.colors.foreground.disabled]:(e.vars||e).palette.text.disabled,[p.colors.foreground.error]:(e.vars||e).palette.error.dark,[p.colors.interactive.hover]:(e.vars||e).palette.action.hover,[p.colors.interactive.hoverOpacity]:(e.vars||e).palette.action.hoverOpacity,[p.colors.interactive.focus]:os((e.vars||e).palette.primary.main),[p.colors.interactive.focusOpacity]:(e.vars||e).palette.action.focusOpacity,[p.colors.interactive.disabled]:os((e.vars||e).palette.action.disabled),[p.colors.interactive.disabledOpacity]:(e.vars||e).palette.action.disabledOpacity,[p.colors.interactive.selected]:a,[p.colors.interactive.selectedOpacity]:(e.vars||e).palette.action.selectedOpacity,[p.header.background.base]:r,[p.cell.background.pinned]:l,[p.radius.base]:d,[p.typography.fontFamily.base]:e.typography.fontFamily,[p.typography.fontWeight.light]:e.typography.fontWeightLight,[p.typography.fontWeight.regular]:e.typography.fontWeightRegular,[p.typography.fontWeight.medium]:e.typography.fontWeightMedium,[p.typography.fontWeight.bold]:e.typography.fontWeightBold,[p.typography.font.body]:u,[p.typography.font.small]:g,[p.typography.font.large]:m,[p.transitions.easing.easeIn]:e.transitions.easing.easeIn,[p.transitions.easing.easeOut]:e.transitions.easing.easeOut,[p.transitions.easing.easeInOut]:e.transitions.easing.easeInOut,[p.transitions.duration.short]:`${e.transitions.duration.shorter}ms`,[p.transitions.duration.base]:`${e.transitions.duration.short}ms`,[p.transitions.duration.long]:`${e.transitions.duration.standard}ms`,[p.shadows.base]:(e.vars||e).shadows[2],[p.shadows.overlay]:(e.vars||e).shadows[8],[p.zIndex.panel]:(e.vars||e).zIndex.modal,[p.zIndex.menu]:(e.vars||e).zIndex.modal}}function Iu(e){return e.vars?e.vars.shape.borderRadius:typeof e.shape.borderRadius=="number"?`${e.shape.borderRadius}px`:e.shape.borderRadius}function Mu(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?dc(Rr(e.palette.divider,1),.88):gc(Rr(e.palette.divider,1),.68)}function Pu(e,t){return`rgba(from ${e} r g b / ${t})`}function os(e){return Pu(e,1)}function Pr(e){if(e)return`${e.fontWeight} ${e.fontSize} / ${e.lineHeight} ${e.fontFamily}`}const ku=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],Fu=["onRowsPerPageChange","material","disabled"],Eu=["material"],Tu=["autoFocus","label","fullWidth","slotProps","className","material"],Du=["material"],Hu=["material"],Ou=["material"],$u=["material"],Gu=["material"],Lu=["material"],ju=["material"],Au=["material"],zu=["material","label","className"],Ru=["material"],Vu=["inert","iconStart","iconEnd","children","material"],Nu=["slotProps","material"],Bu=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],_u=["key"],Wu=["inputProps","InputProps","InputLabelProps"],Uu=["slotProps","material"],Ku=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],qu=["native"],rs=_e(Jn)(({theme:e})=>({[`&.${hc.positionEnd} .${fc.sizeSmall}`]:{marginRight:e.spacing(-.75)}})),Ci=_e(mc,{shouldForwardProp:e=>e!=="fullWidth"})(({theme:e})=>({gap:e.spacing(.5),margin:0,overflow:"hidden",[`& .${pc.label}`]:{fontSize:e.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),ls=_e(bc,{shouldForwardProp:e=>e!=="density"})(({theme:e})=>({variants:[{props:{density:"compact"},style:{padding:e.spacing(.5)}}]})),Yu=_e(Cc)({[`& .${wc.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),Xu=fe(function(t,n){const{id:o,label:r,labelId:l,material:s,disabled:i,slotProps:a,onChange:d,onKeyDown:u,onOpen:g,onClose:m,size:p,style:v,fullWidth:S}=t,b=Q(t,ku),x={PaperProps:{onKeyDown:u}};return m&&(x.onClose=m),h.jsxs(Vr,{size:p,fullWidth:S,style:v,disabled:i,ref:n,children:[h.jsx(Nr,{id:l,htmlFor:o,shrink:!0,variant:"outlined",children:r}),h.jsx(Br,f({id:o,labelId:l,label:r,displayEmpty:!0,onChange:d,variant:"outlined"},b,{notched:!0,inputProps:a==null?void 0:a.htmlInput,onOpen:g,MenuProps:x,size:p},s))]})}),Qu=_e(Uc)(({theme:e})=>({[`& .${Wl.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Wl.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),Zu=fe(function(t,n){const{onRowsPerPageChange:o,material:r,disabled:l}=t,s=Q(t,Fu),i=c.useMemo(()=>{if(l)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[l]),a=be(),d=Z(),{estimatedRowCount:u}=d;return h.jsx(Qu,f({component:"div",onRowsPerPageChange:Fe(g=>{o==null||o(Number(g.target.value))}),labelRowsPerPage:a.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:g=>a.current.getLocaleText("paginationDisplayedRows")(f({},g,{estimated:u})),getItemAriaLabel:a.current.getLocaleText("paginationItemAriaLabel")},i,s,r,{ref:n}))}),Ju=fe(function(t,n){const{material:o}=t,r=Q(t,Eu);return h.jsx(_r,f({},r,o,{ref:n}))}),ed=fe(function(t,n){const{autoFocus:o,label:r,fullWidth:l,slotProps:s,className:i,material:a}=t,d=Q(t,Tu),u=c.useRef(null),g=ut(u,n),m=c.useRef(null);return c.useEffect(()=>{var p;if(o){const v=(p=u.current)==null?void 0:p.querySelector("input");v==null||v.focus({preventScroll:!0})}else o===!1&&m.current&&m.current.stop({})},[o]),r?h.jsx(Ci,{className:i,control:h.jsx(ls,f({},d,a,{inputProps:s==null?void 0:s.htmlInput,ref:g,touchRippleRef:m})),label:r,fullWidth:l}):h.jsx(ls,f({},d,a,{className:He(i,a==null?void 0:a.className),inputProps:s==null?void 0:s.htmlInput,ref:g,touchRippleRef:m}))}),td=fe(function(t,n){const{material:o}=t,r=Q(t,Du);return h.jsx(Wr,f({},r,o,{ref:n}))}),nd=fe(function(t,n){const{material:o}=t,r=Q(t,Hu);return h.jsx(li,f({},r,o,{ref:n}))}),od=fe(function(t,n){const{material:o}=t,r=Q(t,Ou);return h.jsx(xc,f({},r,o,{ref:n}))}),rd=fe(function(t,n){const{material:o}=t,r=Q(t,$u);return h.jsx(ct,f({},r,o,{ref:n}))}),ld=fe(function(t,n){const{material:o}=t,r=Q(t,Gu);return h.jsx(ft,f({},r,o,{ref:n}))}),sd=fe(function(t,n){const{material:o}=t,r=Q(t,Lu);return h.jsx(Gt,f({},r,o,{ref:n}))}),id=fe(function(t,n){const{material:o}=t,r=Q(t,ju);return h.jsx(Ur,f({},r,o,{ref:n}))}),ad=fe(function(t,n){const{material:o}=t,r=Q(t,Au);return h.jsx(Sc,f({},r,o,{ref:n}))}),cd=fe(function(t,n){const{material:o,label:r,className:l}=t,s=Q(t,zu);return r?h.jsx(Ci,{className:l,control:h.jsx(Ul,f({},s,o,{ref:n})),label:r}):h.jsx(Ul,f({},s,o,{className:l,ref:n}))}),ud=fe(function(t,n){const{material:o}=t,r=Q(t,Ru);return h.jsx(yc,f({},r,o,{ref:n}))});function dd(e){const{inert:t,iconStart:n,iconEnd:o,children:r,material:l}=e,s=Q(e,Vu);return t&&(s.disableRipple=!0),c.createElement(_t,f({},s,l),[n&&h.jsx(Tl,{children:n},"1"),h.jsx(Yu,{children:r},"2"),o&&h.jsx(Tl,{children:o},"3")])}function gd(e){const{slotProps:t,material:n}=e,o=Q(e,Nu);return h.jsx(Pn,f({variant:"outlined"},o,n,{inputProps:t==null?void 0:t.htmlInput,InputProps:ll(t==null?void 0:t.input),InputLabelProps:f({shrink:!0},t==null?void 0:t.inputLabel)}))}function hd(e){const t=Z(),{id:n,multiple:o,freeSolo:r,options:l,getOptionLabel:s,isOptionEqualToValue:i,value:a,onChange:d,label:u,placeholder:g,slotProps:m,material:p}=e,v=Q(e,Bu);return h.jsx(Kc,f({id:n,multiple:o,freeSolo:r,options:l,getOptionLabel:s,isOptionEqualToValue:i,value:a,onChange:d,renderTags:(S,b)=>S.map((x,T)=>{const D=b({index:T}),{key:O}=D,k=Q(D,_u);return h.jsx(ft,f({variant:"outlined",size:"small",label:typeof x=="string"?x:s==null?void 0:s(x)},k),O)}),renderInput:S=>{var O;const{inputProps:b,InputProps:x,InputLabelProps:T}=S,D=Q(S,Wu);return h.jsx(Pn,f({},D,{label:u,placeholder:g,inputProps:b,InputProps:ll(x,!1),InputLabelProps:f({shrink:!0},T)},m==null?void 0:m.textField,(O=t.slotProps)==null?void 0:O.baseTextField))}},v,p))}function fd(e){return h.jsx(vc,f({},ll(e)))}function ll(e,t=!0){if(!e)return;const{slotProps:n,material:o}=e,l=Q(e,Uu);t&&(l.startAdornment&&(l.startAdornment=h.jsx(rs,{position:"start",children:l.startAdornment})),l.endAdornment&&(l.endAdornment=h.jsx(rs,{position:"end",children:l.endAdornment})));for(const s in o)Object.hasOwn(o,s)&&(l[s]=o[s]);return n!=null&&n.htmlInput&&(l.inputProps?l.inputProps=f({},l.inputProps,n==null?void 0:n.htmlInput):l.inputProps=n==null?void 0:n.htmlInput),l}const md={"bottom-start":"top left","bottom-end":"top right"};function pd(e){const{open:t,children:n,className:o,flip:r,onExited:l,onDidShow:s,onDidHide:i,id:a,target:d,transition:u,placement:g,material:m}=e,p=Q(e,Ku),v=c.useMemo(()=>{const b=[{name:"preventOverflow",options:{padding:8}}];return r&&b.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(s||i)&&b.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{s==null||s()},effect:()=>()=>{i==null||i()}}),b},[r,s,i]);let S;if(!u)S=ss(e,n);else{const b=x=>T=>{x&&x(),l&&l(T)};S=x=>{var T;return ss(e,h.jsx(Pc,f({},x.TransitionProps,{style:{transformOrigin:md[x.placement]},onExited:b((T=x.TransitionProps)==null?void 0:T.onExited),children:h.jsx(si,{children:n})})))}}return h.jsx(Ic,f({id:a,className:o,open:t,anchorEl:d,transition:u,placement:g,modifiers:v},p,m,{children:S}))}function ss(e,t){return Cd(e,bd(e,t))}function bd(e,t){return e.onClickAway===void 0?t:h.jsx(qc,{onClickAway:e.onClickAway,touchEvent:e.clickAwayTouchEvent,mouseEvent:e.clickAwayMouseEvent,children:t})}function Cd(e,t){return e.focusTrap===void 0?t:h.jsx(Mc,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:h.jsx("div",{tabIndex:-1,children:t})})}function wd(e){let{native:t}=e,n=Q(e,qu);return t?h.jsx("option",f({},n)):h.jsx(_t,f({},n))}const xd={booleanCellTrueIcon:ts,booleanCellFalseIcon:Zl,columnMenuIcon:iu,openFilterButtonIcon:eu,filterPanelDeleteIcon:Zl,columnFilteredIcon:Ql,columnSelectorIcon:nu,columnSortedAscendingIcon:Kl,columnSortedDescendingIcon:ql,columnResizeIcon:ou,densityCompactIcon:ru,densityStandardIcon:lu,densityComfortableIcon:su,exportIcon:fu,moreActionsIcon:uu,treeDataCollapseIcon:Xl,treeDataExpandIcon:Yl,groupingCriteriaCollapseIcon:Xl,groupingCriteriaExpandIcon:Yl,detailPanelExpandIcon:Jl,detailPanelCollapseIcon:au,rowReorderIcon:es,quickFilterIcon:tu,quickFilterClearIcon:ns,columnMenuHideIcon:du,columnMenuSortAscendingIcon:Kl,columnMenuSortDescendingIcon:ql,columnMenuUnsortIcon:null,columnMenuFilterIcon:Ql,columnMenuManageColumnsIcon:gu,columnMenuClearIcon:ns,loadIcon:cu,filterPanelAddIcon:Jl,filterPanelRemoveAllIcon:hu,columnReorderIcon:es,menuItemCheckIcon:ts},Sd={baseAutocomplete:hd,baseBadge:Ju,baseCheckbox:ed,baseChip:ld,baseCircularProgress:td,baseDivider:nd,baseInput:fd,baseLinearProgress:od,baseMenuList:ud,baseMenuItem:dd,baseTextField:gd,baseButton:rd,baseIconButton:sd,baseTooltip:id,basePagination:Zu,basePopper:pd,baseSelect:Xu,baseSelectOption:wd,baseSkeleton:ad,baseSwitch:cd},yd=f({},Sd,xd),vd=_c({memoize:rl,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),$o=(e,t,n,o,r,l,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let i;if(e&&t&&n&&o&&r&&l)i=(a,d,u,g)=>{const m=e(a,d,u,g),p=t(a,d,u,g),v=n(a,d,u,g),S=o(a,d,u,g),b=r(a,d,u,g);return l(m,p,v,S,b,d,u,g)};else if(e&&t&&n&&o&&r)i=(a,d,u,g)=>{const m=e(a,d,u,g),p=t(a,d,u,g),v=n(a,d,u,g),S=o(a,d,u,g);return r(m,p,v,S,d,u,g)};else if(e&&t&&n&&o)i=(a,d,u,g)=>{const m=e(a,d,u,g),p=t(a,d,u,g),v=n(a,d,u,g);return o(m,p,v,d,u,g)};else if(e&&t&&n)i=(a,d,u,g)=>{const m=e(a,d,u,g),p=t(a,d,u,g);return n(m,p,d,u,g)};else if(e&&t)i=(a,d,u,g)=>{const m=e(a,d,u,g);return t(m,d,u,g)};else if(e)i=e;else throw new Error("Missing arguments");return i},wi=(...e)=>{const t=new WeakMap;let n=1;const o=e[e.length-1],r=e.length-1||1,l=Math.max(o.length-r,0);if(l>3)throw new Error("Unsupported number of arguments");return(i,a,d,u)=>{let g=i.__cacheKey__;g||(g={id:n},i.__cacheKey__=g,n+=1);let m=t.get(g);if(!m){const p=e.length===1?[b=>b,o]:e;let v=e;const S=[void 0,void 0,void 0];switch(l){case 0:break;case 1:{v=[...p.slice(0,-1),()=>S[0],o];break}case 2:{v=[...p.slice(0,-1),()=>S[0],()=>S[1],o];break}case 3:{v=[...p.slice(0,-1),()=>S[0],()=>S[1],()=>S[2],o];break}default:throw new Error("Unsupported number of arguments")}m=vd(...v),m.selectorArgs=S,t.set(g,m)}switch(l){case 3:m.selectorArgs[2]=u;case 2:m.selectorArgs[1]=d;case 1:m.selectorArgs[0]=a}switch(l){case 0:return m(i);case 1:return m(i,a);case 2:return m(i,a,d);case 3:return m(i,a,d,u);default:throw new Error("unreachable")}}};function Wt(e,t,n,o,r){const l=s=>t(s,n,o,r);return Wc.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,l)}const Id=()=>{};function No(e,t,n){const o=Ht(Md,{store:e,selector:t}).current;o.effect=n,nl(o.onMount)}function Md(e){const{store:t,selector:n}=e;let o=n(t.state);const r={effect:Id,dispose:null,subscribe:()=>{r.dispose??(r.dispose=t.subscribe(l=>{const s=n(l);r.effect(o,s),o=s}))},onMount:()=>(r.subscribe(),()=>{var l;(l=r.dispose)==null||l.call(r),r.dispose=null})};return r.subscribe(),r}class tr{constructor(t){gt(this,"subscribe",t=>(this.listeners.add(t),()=>{this.listeners.delete(t)}));gt(this,"getSnapshot",()=>this.state);this.state=t,this.listeners=new Set,this.updateTick=0}static create(t){return new tr(t)}setState(t){this.state=t,this.updateTick+=1;const n=this.updateTick,o=this.listeners.values();let r;for(;r=o.next(),!r.done;){if(n!==this.updateTick)return;const l=r.value;l(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){this.setState(f({},this.state,t));return}}set(t,n){Object.is(this.state[t],n)||this.setState(f({},this.state,{[t]:n}))}}const le=(...e)=>{const t=$o(...e);return(o,r,l,s)=>t(sl(o),r,l,s)},Le=(...e)=>{const t=wi(...e);return(o,r,l,s)=>t(sl(o),r,l,s)},Ke=e=>(t,n)=>e(sl(t),n);function sl(e){return"current"in e?e.current.state:e}const Qe=Ke(e=>e.dimensions),il=le(Qe,e=>e.columnsTotalWidth),Pd=le(Qe,e=>e.rowHeight);le(Qe,e=>e.contentSize.height);const kd=le(Qe,e=>e.hasScrollX),Fd=le(Qe,e=>e.hasScrollY),xi=le(Qe,e=>e.columnsTotalWidth<e.viewportOuterSize.width),Ed=le(Qe,e=>e.headerHeight),Td=le(Qe,e=>e.groupHeaderHeight);le(Qe,e=>e.headerFilterHeight);const Dd=le(Qe,e=>e.hasScrollX?e.scrollbarSize:0),Si=le(Qe,e=>e.hasScrollY?e.scrollbarSize:0),Hd=le(Qe,Dd,(e,t)=>{const n=e.viewportOuterSize.height-e.minimumSize.height>0;return!(t===0&&!n)}),nr=Ke(e=>e.rowsMeta),Ot=Ke(e=>e.rows),zn=le(Ot,e=>e.totalRowCount),Od=le(Ot,e=>e.loading),$d=le(Ot,e=>e.totalTopLevelRowCount),xt=le(Ot,e=>e.dataRowIdToModelLookup);le(xt,(e,t)=>e[t]);const lt=le(Ot,e=>e.tree),jt=le(lt,(e,t)=>e[t]),Gd=le(Ot,e=>e.groupsToFetch),Ld=le(Ot,e=>e.groupingName),is=le(Ot,e=>e.treeDepths),Rn=Le(Ot,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:(t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,o)=>o-n)[0]??0)+1}),an=le(Ot,e=>e.dataRowIds),jd=Le(an,xt,(e,t)=>e.reduce((n,o)=>(t[o]&&n.push(t[o]),n),[])),Ad=le(Ot,e=>e==null?void 0:e.additionalRowGroups),go=Le(Ad,e=>{var n,o;const t=e==null?void 0:e.pinnedRows;return{bottom:((n=t==null?void 0:t.bottom)==null?void 0:n.map(r=>({id:r.id,model:r.model??{}})))??[],top:((o=t==null?void 0:t.top)==null?void 0:o.map(r=>({id:r.id,model:r.model??{}})))??[]}}),yi=le(go,e=>{var t,n;return(((t=e==null?void 0:e.top)==null?void 0:t.length)||0)+(((n=e==null?void 0:e.bottom)==null?void 0:n.length)||0)}),nt="auto-generated-group-node-root",On=Symbol("mui.id_autogenerated"),zd=()=>({type:"group",id:nt,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function Rd(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const or=(e,t,n)=>{const o=t?t(e):e.id;return Rd(o,e,n),o},Vd=(e,t,n)=>{const o=t.field;if(!t||!t.valueGetter)return e[o];const r=e[t.field];return t.valueGetter(r,e,t,n)},Go=({rows:e,getRowId:t,loading:n,rowCount:o})=>{const r={type:"full",rows:[]},l={};for(let s=0;s<e.length;s+=1){const i=e[s],a=or(i,t);l[a]=i,r.rows.push(a)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:o,updates:r,dataRowIdToModelLookup:l}},vi=({tree:e,rowCountProp:t=0})=>{const n=e[nt];return Math.max(t,n.children.length+(n.footerId==null?0:1))},Ii=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:o,previousTreeDepths:r,previousGroupsToFetch:l})=>{const s=e.current.caches.rows,{tree:i,treeDepths:a,dataRowIds:d,groupingName:u,groupsToFetch:g=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:o,previousTreeDepths:r,updates:s.updates,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:l}),m=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:i,treeDepths:a,dataRowIds:d,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},f({},m,{totalRowCount:Math.max(t,m.dataRowIds.length),totalTopLevelRowCount:vi({tree:m.tree,rowCountProp:t}),groupingName:u,loading:n,groupsToFetch:g})},$n=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,al=(e,t,n,o)=>{const r=e[t];if(r.type!=="group")return[];const l=[];for(let s=0;s<r.children.length;s+=1){const i=r.children[s];if((!n||!$n(e[i]))&&l.push(i),o)continue;const a=al(e,i,n,o);for(let d=0;d<a.length;d+=1)l.push(a[d])}return!n&&r.footerId!=null&&l.push(r.footerId),l},as=({previousCache:e,getRowId:t,updates:n,groupKeys:o})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const r=new Map;n.forEach(d=>{const u=or(d,t,"A row was provided without id when calling updateRows():");r.has(u)?r.set(u,f({},r.get(u),d)):r.set(u,d)});const l={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:f({},e.updates.idToActionLookup),groupKeys:o},s=f({},e.dataRowIdToModelLookup),i={insert:{},modify:{},remove:{}};r.forEach((d,u)=>{const g=l.idToActionLookup[u];if(d._action==="delete"){if(g==="remove"||!s[u])return;g!=null&&(i[g][u]=!0),l.actions.remove.push(u),delete s[u];return}const m=s[u];if(m){g==="remove"?(i.remove[u]=!0,l.actions.modify.push(u)):g==null&&l.actions.modify.push(u),s[u]=f({},m,d);return}g==="remove"?(i.remove[u]=!0,l.actions.insert.push(u)):g==null&&l.actions.insert.push(u),s[u]=d});const a=Object.keys(i);for(let d=0;d<a.length;d+=1){const u=a[d],g=i[u];Object.keys(g).length>0&&(l.actions[u]=l.actions[u].filter(m=>!g[m]))}return{dataRowIdToModelLookup:s,updates:l,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}},Mi="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function cs(e,t,n){const o=[];return t.forEach(r=>{const l=or(r,n,"A row was provided without id when calling updateRows():"),s=jt(e,l);if((s==null?void 0:s.type)==="pinnedRow"){const i=e.current.caches.pinnedRows,a=i.idLookup[l];a&&(i.idLookup[l]=f({},a,r))}else o.push(r)}),o}const Pi=(e,t,n)=>typeof e=="number"&&e>0?e:t,Nd=Object.is;function ki(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,o=0;for(const r in e)if(n+=1,!Nd(e[r],t[r])||!(r in t))return!1;for(const r in t)o+=1;return n===o}function qt(e){return c.memo(e,ki)}const Bd={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`${e} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:e,to:t,count:n,estimated:o})=>{if(!o)return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`;const r=o&&o>t?`around ${o}`:`more than ${t}`;return`${e}–${t} of ${n!==-1?n:r}`},paginationItemAriaLabel:e=>e==="first"?"Go to first page":e==="last"?"Go to last page":e==="next"?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt…",promptFieldPlaceholderWithRecording:"Type or record a prompt…",promptFieldPlaceholderListening:"Listening for prompt…",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing…",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>`Group by ${e}`,promptChangeAggregationLabel:(e,t)=>`${e} (${t})`,promptChangeAggregationDescription:(e,t)=>`Aggregate ${e} (${t})`,promptChangeFilterLabel:(e,t,n)=>t==="is any of"?`${e} is any of: ${n}`:`${e} ${t} ${n}`,promptChangeFilterDescription:(e,t,n)=>t==="is any of"?`Filter where ${e} is any of: ${n}`:`Filter where ${e} ${t} ${n}`,promptChangeSortDescription:(e,t)=>`Sort by ${e} (${t})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>`Columns (${e})`,promptChangePivotColumnsDescription:(e,t)=>`${e}${t?` (${t})`:""}`,promptChangePivotRowsLabel:e=>`Rows (${e})`,promptChangePivotValuesLabel:e=>`Values (${e})`,promptChangePivotValuesDescription:(e,t)=>`${e} (${t})`};function Pe(e){return kc("MuiDataGrid",e)}const w=ii("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]);let Et=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e}({});const us=1e3;class _d{constructor(t=us){gt(this,"timeouts",new Map);gt(this,"cleanupTimeout",us);this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const r=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,r)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Wd{constructor(){gt(this,"registry",new FinalizationRegistry(t=>{typeof t=="function"&&t()}))}register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}class cl{static create(){return new cl}}const Eo={current:Kd()};let ds=0;function re(e,t,n,o){const r=c.useState(cl.create)[0],l=c.useRef(null),s=c.useRef(null);s.current=n;const i=c.useRef(null);if(!l.current&&s.current){const a=(d,u,g)=>{var m;u.defaultMuiPrevented||(m=s.current)==null||m.call(s,d,u,g)};l.current=e.current.subscribeEvent(t,a,o),ds+=1,i.current={cleanupToken:ds},Eo.current.register(r,()=>{var d;(d=l.current)==null||d.call(l),l.current=null,i.current=null},i.current)}else!s.current&&l.current&&(l.current(),l.current=null,i.current&&(Eo.current.unregister(i.current),i.current=null));c.useEffect(()=>{if(!l.current&&s.current){const a=(d,u,g)=>{var m;u.defaultMuiPrevented||(m=s.current)==null||m.call(s,d,u,g)};l.current=e.current.subscribeEvent(t,a,o)}return i.current&&Eo.current&&(Eo.current.unregister(i.current),i.current=null),()=>{var a;(a=l.current)==null||a.call(l),l.current=null}},[e,t,o])}const Ud={isFirst:!0};function Ve(e,t,n){re(e,t,n,Ud)}function Kd(){return typeof FinalizationRegistry<"u"?new Wd:new _d}const qd=Object.is,Fi=ki,Yd=(e,t)=>e===t?!0:e.length===t.length&&e.every((n,o)=>n===t[o]),Xd=(e,t)=>{let n=Object.is;return t instanceof Array?n=Yd:t instanceof Object&&(n=Fi),n(e,t)},Qd=()=>({state:null,equals:null,selector:null,args:void 0}),gs=[],Zd=()=>null;function K(e,t,n=void 0,o=qd){const r=Ht(Qd),l=r.current.selector!==null,[s,i]=c.useState(l?null:t(e,n));r.current.state=s,r.current.equals=o,r.current.selector=t;const a=r.current.args;if(r.current.args=n,l&&!Xd(a,n)){const g=r.current.selector(e,r.current.args);r.current.equals(r.current.state,g)||(r.current.state=g,i(g))}const d=c.useCallback(()=>(r.current.subscription||(r.current.subscription=e.current.store.subscribe(()=>{const g=r.current.selector(e,r.current.args);r.current.equals(r.current.state,g)||(r.current.state=g,i(g))})),null),gs),u=c.useCallback(()=>(r.current.subscription||d(),()=>{r.current.subscription&&(r.current.subscription(),r.current.subscription=void 0)}),gs);return gi.useSyncExternalStore(u,d,Zd),s}const Jd=.7,eg=1.3,tg={compact:Jd,comfortable:eg,standard:1},cn=Ke(e=>e.density),ho=le(cn,e=>tg[e]);function Yt(e){throw new Error("Failed assertion: should not be rendered")}const ng=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],og=e=>{const{classes:t}=e;return Me({root:["editInputCell"]},Pe,t)},rg=_e(Yt,{name:"MuiDataGrid",slot:"EditInputCell"})({font:ne.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),lg=fe((e,t)=>{const n=Z(),{id:o,value:r,field:l,colDef:s,hasFocus:i,debounceMs:a=200,isProcessingProps:d,onValueChange:u,slotProps:g}=e,m=Q(e,ng),p=be(),v=c.useRef(null),[S,b]=c.useState(r),x=og(n),T=c.useCallback(async O=>{const k=O.target.value,$=p.current.getColumn(l);let E=k;$.valueParser&&(E=$.valueParser(k,p.current.getRow(o),$,p)),b(E),p.current.setEditCellValue({id:o,field:l,value:E,debounceMs:a,unstable_skipValueParser:!0},O),u&&await u(O,k)},[p,a,l,o,u]),D=p.current.unstable_getEditCellMeta(o,l);return c.useEffect(()=>{(D==null?void 0:D.changeReason)!=="debouncedSetEditCellValue"&&b(r)},[D,r]),st(()=>{i&&v.current.focus()},[i]),h.jsx(rg,f({as:n.slots.baseInput,inputRef:v,className:x.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:S??"",onChange:T,endAdornment:d?h.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},m,g==null?void 0:g.root,{ref:t}))}),sg=e=>h.jsx(lg,f({},e)),Ei=(e,t)=>t&&e.length>1?[e[0]]:e,hs=(e,t)=>n=>f({},n,{sorting:f({},n.sorting,{sortModel:Ei(e,t)})}),ig=e=>e==="desc",ag=(e,t)=>{const n=t.current.getColumn(e.field);if(!n||e.sort===null)return null;let o;return n.getSortComparator?o=n.getSortComparator(e.sort):o=ig(e.sort)?(...l)=>-1*n.sortComparator(...l):n.sortComparator,o?{getSortCellParams:l=>({id:l,field:n.field,rowNode:jt(t,l),value:t.current.getCellValue(l,n.field),api:t.current}),comparator:o}:null},cg=(e,t,n)=>e.reduce((o,r,l)=>{if(o!==0)return o;const s=t.params[l],i=n.params[l];return o=r.comparator(s.value,i.value,s,i),o},0),ug=(e,t)=>{const n=e.map(o=>ag(o,t)).filter(o=>!!o);return n.length===0?null:o=>o.map(r=>({node:r,params:n.map(l=>l.getSortCellParams(r.id))})).sort((r,l)=>cg(n,r,l)).map(r=>r.node.id)},fs=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},ul=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,dg=new Intl.Collator,gg=(e,t)=>{const n=ul(e,t);return n!==null?n:typeof e=="string"?dg.compare(e.toString(),t.toString()):e-t},Ti=(e,t)=>{const n=ul(e,t);return n!==null?n:Number(e)-Number(t)},Di=(e,t)=>{const n=ul(e,t);return n!==null?n:e>t?1:e<t?-1:0},hg=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function wt(e){var k,$,E;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,tabIndex:s,disabled:i,slotProps:a,clearButton:d,headerFilterMenu:u}=e,g=Q(e,hg),m=a==null?void 0:a.root,p=pn(),[v,S]=c.useState(kr(t.value)),[b,x]=c.useState(!1),T=Oe(),D=Z(),O=c.useCallback(y=>{const C=kr(y.target.value);S(C),x(!0),p.start(D.filterDebounceMs,()=>{const I=f({},t,{value:o==="number"&&!Number.isNaN(Number(C))?Number(C):C,fromInput:T});n(I),x(!1)})},[p,D.filterDebounceMs,t,o,T,n]);return c.useEffect(()=>{(t.fromInput!==T||t.value==null)&&S(kr(t.value))},[T,t]),h.jsxs(c.Fragment,{children:[h.jsx(D.slots.baseTextField,f({id:T,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),value:v??"",onChange:O,type:o||"text",disabled:i,slotProps:f({},m==null?void 0:m.slotProps,{input:f({endAdornment:b?h.jsx(D.slots.loadIcon,{fontSize:"small",color:"action"}):null},(k=m==null?void 0:m.slotProps)==null?void 0:k.input),htmlInput:f({tabIndex:s},($=m==null?void 0:m.slotProps)==null?void 0:$.htmlInput)}),inputRef:l},(E=D.slotProps)==null?void 0:E.baseTextField,g,m)),u,d]})}function kr(e){if(!(e==null||e===""))return String(e)}function fg(e){return typeof e=="number"&&!Number.isNaN(e)}function mg(e){return typeof e=="function"}function dl(e){return typeof e=="object"&&e!==null}function pg(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Bo(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const gn=(e,t,n)=>Math.max(t,Math.min(n,e));function bg(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Cg(e){const t=bg(e);return(n,o)=>n+(o-n)*t()}function Hi(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const tn=(e,t)=>n=>{e&&t(n)};function Oi(e){const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,slotProps:s}=e,i=Oe(),[a,d]=c.useState([]),[u,g]=c.useState(t.value||[]),m=Z();c.useEffect(()=>{const b=t.value??[];g(b.map(String))},[t.value]);const p=c.useCallback((b,x)=>{g(x.map(String)),n(f({},t,{value:[...x.map(T=>o==="number"?Number(T):T)]}))},[n,t,o]),v=c.useCallback((b,x)=>{d(x===""?[]:[x])},[d]),S=m.slots.baseAutocomplete;return h.jsx(S,f({multiple:!0,freeSolo:!0,options:a,id:i,value:u,onChange:p,onInputChange:v,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:o||"text",inputRef:l}}},s==null?void 0:s.root))}var zt=function(e){return e.Cell="cell",e.Row="row",e}(zt||{}),ze=function(e){return e.Edit="edit",e.View="view",e}(ze||{}),We=function(e){return e.Edit="edit",e.View="view",e}(We||{}),dt=function(e){return e.And="and",e.Or="or",e}(dt||{});class wg{constructor(t){this.data=t.ids}has(t){return this.data.has(t)}select(t){this.data.add(t)}unselect(t){this.data.delete(t)}}class xg{constructor(t){this.data=t.ids}has(t){return!this.data.has(t)}select(t){this.data.delete(t)}unselect(t){this.data.add(t)}}const nn=e=>e.type==="include"?new wg(e):new xg(e);var Bt=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(Bt||{}),kt=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(kt||{}),Zt=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(Zt||{}),Lt=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(Lt||{});function $i(e){return e.field!==void 0}const Gi={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},so=()=>({items:[],logicOperator:dt.And,quickFilterValues:[],quickFilterLogicOperator:dt.And});function Li(e){return{current:e.current.getPublicApi()}}let Jt=function(e){return e.LEFT="left",e.RIGHT="right",e}({});const _o={left:[],right:[]},ji=Ke(e=>e.isRtl),Ai=Ke(e=>e.props.listView??!1),zi=Ke(e=>e.listViewColumn),Tt=Ke(e=>e.columns),At=le(Tt,e=>e.orderedFields),Vt=le(Tt,e=>e.lookup),yt=Le(At,Vt,(e,t)=>e.map(n=>t[n])),St=le(Tt,e=>e.columnVisibilityModel),Sg=le(Tt,e=>e.initialColumnVisibilityModel),Xe=Le(yt,St,Ai,zi,(e,t,n,o)=>n&&o?[o]:e.filter(r=>t[r.field]!==!1)),fo=Le(Xe,e=>e.map(t=>t.field)),Ri=Ke(e=>e.pinnedColumns);Le(Ri,At,ji,(e,t,n)=>Vi(e,t,n));const rr=Le(Tt,Ri,fo,ji,Ai,(e,t,n,o,r)=>{if(r)return _o;const l=Vi(t,n,o);return{left:l.left.map(i=>e.lookup[i]),right:l.right.map(i=>e.lookup[i])}});function Vi(e,t,n){var i,a;if(!Array.isArray(e.left)&&!Array.isArray(e.right)||((i=e.left)==null?void 0:i.length)===0&&((a=e.right)==null?void 0:a.length)===0)return _o;const o=(d,u)=>Array.isArray(d)?d.filter(g=>u.includes(g)):[],r=o(e.left,t),l=t.filter(d=>!r.includes(d)),s=o(e.right,l);return n?{left:s,right:r}:{left:r,right:s}}const bn=Le(Xe,e=>{const t=[];let n=0;for(let o=0;o<e.length;o+=1)t.push(n),n+=e[o].computedWidth;return t}),Ni=Le(yt,e=>e.filter(t=>t.filterable)),yg=Le(yt,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),vg=Le(yt,e=>e.some(t=>t.colSpan!==void 0));let qn;function Ig(){if(qn!==void 0)return qn;try{qn=new Function("return true")()}catch{qn=!1}return qn}const Kr=(e,t)=>{const n=f({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const o=Vt(t)[n.field];n.operator=o&&o.filterOperators[0].value}return n},gl=(e,t,n)=>{const o=e.items.length>1;let r;o&&t?r=[e.items[0]]:r=e.items;const l=o&&r.some(i=>i.id==null);return r.some(i=>i.operator==null)||l?f({},e,{items:r.map(i=>Kr(i,n))}):e.items!==r?f({},e,{items:r}):e},ms=(e,t,n)=>o=>f({},o,{filterModel:gl(e,t,n)}),io=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,Bi=(e,t)=>{var u;if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let o;if(n.valueParser){const g=n.valueParser;o=Array.isArray(e.value)?(u=e.value)==null?void 0:u.map(m=>g(m,void 0,n,t)):g(e.value,void 0,n,t)}else o=e.value;const{ignoreDiacritics:r}=t.current.rootProps;r&&(o=io(o));const l=f({},e,{value:o}),s=n.filterOperators;if(!(s!=null&&s.length))throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const i=s.find(g=>g.value===l.operator);if(!i)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${l.operator}'.`);const a=Li(t),d=i.getApplyFilterFn(l,n);return typeof d!="function"?null:{item:l,fn:g=>{let m=t.current.getRowValue(g,n);return r&&(m=io(m)),d(m,g,n,a)}}};let ps=1;const Mg=(e,t,n)=>{const{items:o}=e,r=o.map(i=>Bi(i,t)).filter(i=>!!i);if(r.length===0)return null;if(n||!Ig())return(i,a)=>{const d={};for(let u=0;u<r.length;u+=1){const g=r[u];(!a||a(g.item.field))&&(d[g.item.id]=g.fn(i))}return d};const l=new Function("appliers","row","shouldApplyFilter",`"use strict";
${r.map((i,a)=>`const shouldApply${a} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(i.item.field)});`).join(`
`)}

const result$$ = {
${r.map((i,a)=>`  ${JSON.stringify(String(i.item.id))}: !shouldApply${a} ? false : appliers[${a}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(ps)));return ps+=1,(i,a)=>l(r,i,a)},_i=e=>e.quickFilterExcludeHiddenColumns??!0,Pg=(e,t)=>{var d;const n=((d=e.quickFilterValues)==null?void 0:d.filter(Boolean))??[];if(n.length===0)return null;const o=At(t),r=St(t);let l;_i(e)?l=o.filter(u=>r[u]!==!1):l=o;const s=[],{ignoreDiacritics:i}=t.current.rootProps,a=Li(t);return l.forEach(u=>{const g=t.current.getColumn(u),m=g==null?void 0:g.getApplyQuickFilterFn;m&&s.push({column:g,appliers:n.map(p=>{const v=i?io(p):p;return{fn:m(v,g,a)}})})}),function(g,m){const p={};e:for(let v=0;v<n.length;v+=1){const S=n[v];for(let b=0;b<s.length;b+=1){const{column:x,appliers:T}=s[b],{field:D}=x;if(m&&!m(D))continue;const O=T[v];let k=t.current.getRowValue(g,x);if(O.fn===null)continue;if(i&&(k=io(k)),O.fn(k,g,x,a)){p[S]=!0;continue e}}p[S]=!1}return p}},kg=(e,t,n)=>{const o=Mg(e,t,n),r=Pg(e,t);return function(s,i,a){a.passingFilterItems=(o==null?void 0:o(s,i))??null,a.passingQuickFilterValues=(r==null?void 0:r(s,i))??null}},bs=e=>e!=null,Fg=(e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter(o=>Bi(o,t)!==null)),e.cleanedFilterItems),Eg=(e,t,n,o,r)=>{const l=Fg(r,o,n.items),s=e.filter(bs),i=t.filter(bs);if(s.length>0){const a=u=>s.some(g=>g[u.id]);if((n.logicOperator??so().logicOperator)===dt.And){if(!l.every(a))return!1}else if(!l.some(a))return!1}if(i.length>0&&n.quickFilterValues!=null){const a=u=>i.some(g=>g[u]);if((n.quickFilterLogicOperator??so().quickFilterLogicOperator)===dt.And){if(!n.quickFilterValues.every(a))return!1}else if(!n.quickFilterValues.some(a))return!1}return!0},Tg=e=>{if(!e)return null;const t=new RegExp(Bo(e),"i");return(n,o,r,l)=>{let s=l.current.getRowFormattedValue(o,r);return l.current.ignoreDiacritics&&(s=io(s)),s!=null?t.test(s.toString()):!1}},Cs=(e,t)=>n=>{if(!n.value)return null;const o=e?n.value:n.value.trim(),r=new RegExp(Bo(o),"i");return l=>{if(l==null)return t;const s=r.test(String(l));return t?!s:s}},ws=(e,t)=>n=>{if(!n.value)return null;const o=e?n.value:n.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return l=>{if(l==null)return t;const s=r.compare(o,l.toString())===0;return t?!s:s}},xs=e=>()=>t=>{const n=t===""||t==null;return e?!n:n},Dg=(e=!1)=>[{value:"contains",getApplyFilterFn:Cs(e,!1),InputComponent:wt},{value:"doesNotContain",getApplyFilterFn:Cs(e,!0),InputComponent:wt},{value:"equals",getApplyFilterFn:ws(e,!1),InputComponent:wt},{value:"doesNotEqual",getApplyFilterFn:ws(e,!0),InputComponent:wt},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(`^${Bo(n)}.*$`,"i");return r=>r!=null?o.test(r.toString()):!1},InputComponent:wt},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(`.*${Bo(n)}$`,"i");return r=>r!=null?o.test(r.toString()):!1},InputComponent:wt},{value:"isEmpty",getApplyFilterFn:xs(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:xs(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(r=>r.trim()),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return r=>r!=null?n.some(l=>o.compare(l,r.toString()||"")===0):!1},InputComponent:Oi}],Dt={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:gg,type:"string",align:"left",filterOperators:Dg(),renderEditCell:sg,getApplyQuickFilterFn:Tg};function Wi(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Wo=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",Hg=e=>!!e.key,Ui=e=>e==="Tab"||e==="Escape";function Ki(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="V"&&!e.shiftKey&&!e.altKey}function Og(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="C"&&!e.shiftKey&&!e.altKey}const qi=c.createContext(void 0),lr=()=>{const e=c.useContext(qi);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e},$g="MuiDataGridVariables",hl=c.createContext({className:"unset",tag:h.jsx("style",{href:"/unset"})});function Yi(){return c.useContext(hl).className}function Gg(){return c.useContext(hl)}function Lg(e){const t=lr(),n=Z(),o=t.hooks.useCSSVariables(),r=c.useMemo(()=>{const l=`${$g}-${o.id}`,s=`.${l}{${jg(o.variables)}}`,i=h.jsx("style",{href:`/${l}`,nonce:n.nonce,children:s});return{className:l,tag:i}},[n.nonce,o]);return h.jsx(hl.Provider,{value:r,children:e.children})}function jg(e){let t="";for(const n in e)Object.hasOwn(e,n)&&e[n]!==void 0&&(t+=`${n}:${e[n]};`);return t}const Ag=["open","target","onClose","children","position","className","onExited"],zg=e=>{const{classes:t}=e;return Me({root:["menu"]},Pe,t)},Rg=_e(Yt,{name:"MuiDataGrid",slot:"Menu"})({zIndex:ne.zIndex.menu,[`& .${w.menuList}`]:{outline:0}});function mo(e){var b;const{open:t,target:n,onClose:o,children:r,position:l,className:s,onExited:i}=e,a=Q(e,Ag),d=be(),u=Z(),g=zg(u),m=Yi(),p=c.useRef(null);st(()=>{var x,T;t?p.current=document.activeElement instanceof HTMLElement?document.activeElement:null:((T=(x=p.current)==null?void 0:x.focus)==null||T.call(x),p.current=null)},[t]),c.useEffect(()=>{const x=t?"menuOpen":"menuClose";d.current.publishEvent(x,{target:n})},[d,t,n]);const v=x=>{x.target&&(n===x.target||n!=null&&n.contains(x.target))||o(x)},S=x=>{Ui(x.key)&&o(x)};return h.jsx(Rg,f({as:u.slots.basePopper,className:He(g.root,s,m),ownerState:u,open:t,target:n,transition:!0,placement:l,onClickAway:v,onExited:i,clickAwayMouseEvent:"onMouseDown",onKeyDown:S},a,(b=u.slotProps)==null?void 0:b.basePopper,{children:r}))}const Vg=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Ng=e=>typeof e.getActions=="function";function Bg(e){var F;const{colDef:t,id:n,hasFocus:o,tabIndex:r,position:l="bottom-end",focusElementRef:s}=e,i=Q(e,Vg),[a,d]=c.useState(-1),[u,g]=c.useState(!1),m=be(),p=c.useRef(null),v=c.useRef(null),S=c.useRef(!1),b=c.useRef({}),x=Rt(),T=Oe(),D=Oe(),O=Z();if(!Ng(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const k=t.getActions(m.current.getRowParams(n)),$=k.filter(P=>!P.props.showInMenu),E=k.filter(P=>P.props.showInMenu),y=$.length+(E.length?1:0);c.useLayoutEffect(()=>{o||Object.entries(b.current).forEach(([P,H])=>{H==null||H.stop({},()=>{delete b.current[P]})})},[o]),c.useEffect(()=>{if(a<0||!p.current||a>=p.current.children.length)return;p.current.children[a].focus({preventScroll:!0})},[a]),c.useEffect(()=>{o||(d(-1),S.current=!1)},[o]),c.useImperativeHandle(s,()=>({focus(){if(!S.current){const P=k.findIndex(H=>!H.props.disabled);d(P)}}}),[k]),c.useEffect(()=>{a>=y&&d(y-1)},[a,y]);const C=()=>{g(!0),d(y-1),S.current=!0},I=()=>{g(!1)},M=P=>{P.stopPropagation(),P.preventDefault(),u?I():C()},j=P=>H=>{b.current[P]=H},G=(P,H)=>V=>{d(P),S.current=!0,H&&H(V)},z=P=>{if(y<=1)return;const H=(W,L)=>{var Y;if(W<0||W>k.length)return W;const B=(L==="left"?-1:1)*(x?-1:1);return(Y=k[W+B])!=null&&Y.props.disabled?H(W+B,L):W+B};let V=a;P.key==="ArrowRight"?V=H(a,"right"):P.key==="ArrowLeft"&&(V=H(a,"left")),!(V<0||V>=y)&&V!==a&&(P.preventDefault(),P.stopPropagation(),d(V))};return h.jsxs("div",f({role:"menu",ref:p,tabIndex:-1,className:w.actionsCell,onKeyDown:z},i,{children:[$.map((P,H)=>c.cloneElement(P,{key:H,touchRippleRef:j(H),onClick:G(H,P.props.onClick),tabIndex:a===H?r:-1})),E.length>0&&D&&h.jsx(O.slots.baseIconButton,f({ref:v,id:D,"aria-label":m.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?T:void 0,role:"menuitem",size:"small",onClick:M,touchRippleRef:j(D),tabIndex:a===$.length?r:-1},(F=O.slotProps)==null?void 0:F.baseIconButton,{children:h.jsx(O.slots.moreActionsIcon,{fontSize:"small"})})),E.length>0&&h.jsx(mo,{open:u,target:v.current,position:l,onClose:I,children:h.jsx(O.slots.baseMenuList,{id:T,className:w.menuList,"aria-labelledby":D,autoFocusItem:!0,children:E.map((P,H)=>c.cloneElement(P,{key:H,closeMenu:I}))})})]}))}const _g=e=>h.jsx(Bg,f({},e)),sr="actions",Wg=f({},Dt,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:_g,getApplyQuickFilterFn:()=>null}),Ug="__tree_data_group__",Xi="__row_group_by_columns_group__",fl="__detail_panel_toggle__";let Ee=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e}({});const Kg=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],qg=e=>{const{classes:t}=e;return Me({root:["booleanCell"]},Pe,t)};function Yg(e){const{value:t,rowNode:n}=e,o=Q(e,Kg),r=be(),l=Z(),s={classes:l.classes},i=qg(s),d=K(r,Rn)>0&&n.type==="group"&&l.treeData===!1,u=c.useMemo(()=>t?l.slots.booleanCellTrueIcon:l.slots.booleanCellFalseIcon,[l.slots.booleanCellFalseIcon,l.slots.booleanCellTrueIcon,t]);return d&&t===void 0?null:h.jsx(u,f({fontSize:"small",className:i.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},o))}const Xg=c.memo(Yg),Qg=e=>e.field!==Xi&&$n(e.rowNode)?"":h.jsx(Xg,f({},e)),Zg=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],Jg=e=>{const{classes:t}=e;return Me({root:["editBooleanCell"]},Pe,t)};function eh(e){var x;const{id:t,value:n,field:o,className:r,hasFocus:l,onValueChange:s}=e,i=Q(e,Zg),a=be(),d=c.useRef(null),u=Oe(),[g,m]=c.useState(n),p=Z(),v={classes:p.classes},S=Jg(v),b=c.useCallback(async T=>{const D=T.target.checked;s&&await s(T,D),m(D),await a.current.setEditCellValue({id:t,field:o,value:D},T)},[a,o,t,s]);return c.useEffect(()=>{m(n)},[n]),st(()=>{l&&d.current.focus()},[l]),h.jsx("label",f({htmlFor:u,className:He(S.root,r)},i,{children:h.jsx(p.slots.baseCheckbox,f({id:u,inputRef:d,checked:!!g,onChange:b,size:"small"},(x=p.slotProps)==null?void 0:x.baseCheckbox))}))}const th=e=>h.jsx(eh,f({},e)),nh=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function oh(e){var k,$;const{item:t,applyValue:n,apiRef:o,focusElementRef:r,headerFilterMenu:l,clearButton:s,tabIndex:i,slotProps:a}=e,d=Q(e,nh),[u,g]=c.useState(Lo(t.value)),m=Z(),p=Oe(),v=Oe(),S=((k=m.slotProps)==null?void 0:k.baseSelect)||{},b=S.native??!1,x=(($=m.slotProps)==null?void 0:$.baseSelectOption)||{},T=c.useCallback(E=>{const y=Lo(E.target.value);g(y),n(f({},t,{value:y}))},[n,t]);c.useEffect(()=>{g(Lo(t.value))},[t.value]);const D=(a==null?void 0:a.root.label)??o.current.getLocaleText("filterPanelInputLabel"),O=a==null?void 0:a.root.slotProps;return h.jsxs(c.Fragment,{children:[h.jsxs(m.slots.baseSelect,f({fullWidth:!0,labelId:p,id:v,label:D,value:u===void 0?"":String(u),onChange:T,native:b,slotProps:{htmlInput:f({ref:r,tabIndex:i},O==null?void 0:O.htmlInput)}},S,d,a==null?void 0:a.root,{children:[h.jsx(m.slots.baseSelectOption,f({},x,{native:b,value:"",children:o.current.getLocaleText("filterValueAny")})),h.jsx(m.slots.baseSelectOption,f({},x,{native:b,value:"true",children:o.current.getLocaleText("filterValueTrue")})),h.jsx(m.slots.baseSelectOption,f({},x,{native:b,value:"false",children:o.current.getLocaleText("filterValueFalse")}))]})),l,s]})}function Lo(e){if(String(e).toLowerCase()==="true")return!0;if(String(e).toLowerCase()==="false")return!1}const rh=()=>[{value:"is",getApplyFilterFn:e=>{const t=Lo(e.value);return t===void 0?null:n=>!!n===t},InputComponent:oh}],lh=(e,t,n,o)=>e?o.current.getLocaleText("booleanCellTrueLabel"):o.current.getLocaleText("booleanCellFalseLabel"),sh=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},Qi=f({},Dt,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:Qg,renderEditCell:th,sortComparator:Ti,valueFormatter:lh,filterOperators:rh(),getApplyQuickFilterFn:()=>null,aggregable:!1,pastedValueParser:e=>sh(e)});function ir(e){for(const t in e)return!1;return!0}const Zi=Ke(e=>e.sorting),po=le(Zi,e=>e.sortedRows),ml=Le(po,xt,lt,(e,t,n)=>e.reduce((o,r)=>{const l=t[r];if(l)o.push({id:r,model:l});else{const s=n[r];s&&$n(s)&&o.push({id:r,model:{[On]:r}})}return o},[])),Ct=le(Zi,e=>e.sortModel),ih=Le(Ct,e=>e.reduce((n,o,r)=>(n[o.field]={sortDirection:o.sort,sortIndex:e.length>1?r+1:void 0},n),{}));Le(po,e=>e.reduce((t,n,o)=>(t[n]=o,t),Object.create(null)));const ar=Ke(e=>e.filter),et=le(ar,e=>e.filterModel),Ji=le(et,e=>e.quickFilterValues),ah=Ke(e=>e.visibleRowsLookup),Vn=le(ar,e=>e.filteredRowsLookup);le(ar,e=>e.filteredChildrenCountLookup);le(ar,e=>e.filteredDescendantCountLookup);const ln=Le(ah,ml,(e,t)=>ir(e)?t:t.filter(n=>e[n.id]!==!1)),Fn=Le(ln,e=>e.map(t=>t.id)),ea=Le(Vn,ml,(e,t)=>ir(e)?t:t.filter(n=>e[n.id]!==!1)),ta=Le(ea,e=>e.map(t=>t.id));Le(Fn,lt,(e,t)=>{const n={};let o=0;return e.reduce((r,l)=>{const s=t[l];return n[s.depth]||(n[s.depth]=0),s.depth>o&&(n[s.depth]=0),o=s.depth,n[s.depth]+=1,r[l]=n[s.depth],r},{})});const na=Le(ln,lt,Rn,(e,t,n)=>n<2?e:e.filter(o=>{var r;return((r=t[o.id])==null?void 0:r.depth)===0})),pl=le(ln,e=>e.length),bl=le(na,e=>e.length),oa=le(ea,e=>e.length);le(oa,bl,(e,t)=>e-t);const cr=Le(et,Vt,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(o=>{var s,i;if(!o.field)return!1;const r=t[o.field];if(!(r!=null&&r.filterOperators)||((s=r==null?void 0:r.filterOperators)==null?void 0:s.length)===0)return!1;const l=r.filterOperators.find(a=>a.value===o.operator);return l?!l.InputComponent||o.value!=null&&((i=o.value)==null?void 0:i.toString())!=="":!1})}),ch=Le(cr,e=>e.reduce((n,o)=>(n[o.field]?n[o.field].push(o):n[o.field]=[o],n),{})),Ft=Ke(e=>e.rowSelection),bo=Le(Ft,nn),ur=le(Ft,oa,(e,t)=>e.type==="include"?e.ids.size:t-e.ids.size),ra=Le(Ft,xt,an,(e,t,n)=>{const o=new Map;if(e.type==="include")for(const r of e.ids)o.set(r,t[r]);else for(let r=0;r<n.length;r+=1){const l=n[r];e.ids.has(l)||o.set(l,t[l])}return o});function la(e,t){var a;const n=lt(e),o=po(e),r=Vn(e),l=n[t];if(!l||l.type!=="group")return[];const s=[],i=o.findIndex(d=>d===t)+1;for(let d=i;d<o.length&&((a=n[o[d]])==null?void 0:a.depth)>l.depth;d+=1){const u=o[d];r[u]!==!1&&e.current.isRowSelectable(u)&&s.push(u)}return s}const uh=le(lt,Vn,bo,(e,t,n,{groupId:o,autoSelectParents:r})=>{const l=e[o];if(!l||l.type!=="group"||n.has(o))return{isIndeterminate:!1,isChecked:n.has(o)};let s=!1,i=!1;const a=d=>{if(t[d]===!1||s&&i)return;const u=e[d];(u==null?void 0:u.type)==="group"&&u.children.forEach(a),n.has(d)?s=!0:i=!0};return a(o),{isIndeterminate:s&&i,isChecked:r?s&&!i:!1}});function Cl(e){return e.signature===Et.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const dh=(e,t)=>{const n=[];let o=t;for(;o!=null&&o!==nt;){const r=e[o];if(!r)return n;n.push(o),o=r.parent}return n},gh=(e,t,n)=>{const o=e[n];if(!o)return[];const r=o.parent;return r==null?[]:e[r].children.filter(s=>s!==n&&t[s]!==!1)},Yn=(e,t,n,o,r,l,s=bo(e))=>{const i=Vn(e),a=new Set([]);if(!(!o&&!r||i[n]===!1)){if(o){const d=t[n];(d==null?void 0:d.type)==="group"&&la(e,n).forEach(g=>{l(g),a.add(g)})}if(r){const d=m=>{if(!s.has(m)&&!a.has(m))return!1;const p=t[m];return p?p.type!=="group"?!0:p.children.every(d):!1},u=m=>{const p=gh(t,i,m);if(p.length===0||p.every(d)){const v=t[m],S=v==null?void 0:v.parent;S!=null&&S!==nt&&e.current.isRowSelectable(S)&&(l(S),a.add(S),u(S))}},g=t[n];if(!g||g.parent===nt)return;u(n)}}},Ss=(e,t,n,o,r,l)=>{const s=bo(e);if(!(!r&&!o)&&(r&&dh(t,n).forEach(a=>{s.has(a)&&l(a)}),o)){const i=t[n];(i==null?void 0:i.type)==="group"&&la(e,n).forEach(d=>{l(d)})}},hh=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],fh=e=>{const{classes:t}=e;return Me({root:["checkboxInput"]},Pe,t)},mh=fe(function(t,n){var T,D;const{field:o,id:r,rowNode:l,tabIndex:s}=t,i=Q(t,hh),a=be(),d=Z(),u={classes:d.classes},g=fh(u),m=O=>{const k={value:O.target.checked,id:r};a.current.publishEvent("rowSelectionCheckboxChange",k,O)};c.useLayoutEffect(()=>{if(s===0){const O=a.current.getCellElement(r,o);O&&(O.tabIndex=-1)}},[a,s,r,o]);const p=c.useCallback(O=>{O.key===" "&&O.stopPropagation()},[]),v=a.current.isRowSelectable(r),{isIndeterminate:S,isChecked:b}=K(a,uh,{groupId:r,autoSelectParents:((T=d.rowSelectionPropagation)==null?void 0:T.parents)??!1});if(l.type==="footer"||l.type==="pinnedRow")return null;const x=a.current.getLocaleText(b&&!S?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return h.jsx(d.slots.baseCheckbox,f({tabIndex:s,checked:b&&!S,onChange:m,className:g.root,slotProps:{htmlInput:{"aria-label":x,name:"select_row"}},onKeyDown:p,indeterminate:S,disabled:!v},(D=d.slotProps)==null?void 0:D.baseCheckbox,i,{ref:n}))}),ph=mh,dr=Ke(e=>e.focus),ht=le(dr,e=>e.cell),bh=le(dr,e=>e.columnHeader);le(dr,e=>e.columnHeaderFilter);const Uo=le(dr,e=>e.columnGroupHeader),gr=Ke(e=>e.tabIndex),wl=le(gr,e=>e.cell),sa=le(gr,e=>e.columnHeader);le(gr,e=>e.columnHeaderFilter);const Ch=le(gr,e=>e.columnGroupHeader),wh=100,xh=e=>e?0:100,ia=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):e===-1?n+2:0,aa=e=>({page:0,pageSize:e?0:100}),Sh=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),ca=(e,t)=>{if(t===Et.DataGrid&&e>wh)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},yh=-1,Nn=Ke(e=>e.pagination),ua=le(Nn,e=>e.enabled&&e.paginationMode==="client"),rt=le(Nn,e=>e.paginationModel),kn=le(Nn,e=>e.rowCount),eo=le(Nn,e=>e.meta),vh=le(rt,e=>e.page),da=le(rt,e=>e.pageSize),ga=le(rt,kn,(e,t)=>ia(t,e.pageSize,e.page)),xl=Le(ua,rt,lt,Rn,ln,na,(e,t,n,o,r,l)=>{var v;if(!e)return null;const s=l.length,i=Math.min(t.pageSize*t.page,s-1),a=t.pageSize===yh?s-1:Math.min(i+t.pageSize-1,s-1);if(i===-1||a===-1)return null;if(o<2)return{firstRowIndex:i,lastRowIndex:a};const d=l[i],u=a-i+1,g=r.findIndex(S=>S.id===d.id);let m=g,p=0;for(;m<r.length&&p<=u;){const S=r[m],b=(v=n[S.id])==null?void 0:v.depth;b===void 0?m+=1:((p<u||b>0)&&(m+=1),b===0&&(p+=1))}return{firstRowIndex:g,lastRowIndex:m-1}}),Ih=Le(ln,xl,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),ha=Le(Fn,xl,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Co=Le(ua,xl,Ih,ln,(e,t,n,o)=>e?{rows:n,range:t,rowIdToIndexMap:n.reduce((r,l,s)=>(r.set(l.id,s),r),new Map)}:{rows:o,range:o.length===0?null:{firstRowIndex:0,lastRowIndex:o.length-1},rowIdToIndexMap:o.reduce((r,l,s)=>(r.set(l.id,s),r),new Map)}),Mh=["field","colDef"],Ph=e=>{const{classes:t}=e;return Me({root:["checkboxInput"]},Pe,t)},kh=fe(function(t,n){var E;const o=Q(t,Mh),[,r]=c.useState(!1),l=be(),s=Z(),i={classes:s.classes},a=Ph(i),d=K(l,sa),u=K(l,Ft),g=K(l,Fn),m=K(l,ha),p=c.useMemo(()=>{const y=s.isRowSelectable;if(typeof y!="function"||u.type==="exclude")return u;const C={type:"include",ids:new Set};for(const I of u.ids)s.keepNonExistentRowsSelected&&C.ids.add(I),l.current.getRow(I)&&y(l.current.getRowParams(I))&&C.ids.add(I);return C},[l,s.isRowSelectable,s.keepNonExistentRowsSelected,u]),v=c.useMemo(()=>{const y=!s.pagination||!s.checkboxSelectionVisibleOnly||s.paginationMode==="server"?g:m,C=new Set;for(let I=0;I<y.length;I+=1){const M=y[I];l.current.getRow(M)&&l.current.isRowSelectable(M)&&C.add(M)}return C},[l,s.pagination,s.paginationMode,s.checkboxSelectionVisibleOnly,m,g]),S=c.useMemo(()=>{const y=nn(p);let C=0;for(const I of v)y.has(I)&&(C+=1);return C},[p,v]),b=c.useMemo(()=>{if(p.ids.size===0)return!1;const y=nn(p);for(const C of v)if(!y.has(C))return!0;return!1},[p,v]),x=S>0,T=y=>{const C={value:y.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",C)},D=d!==null&&d.field===t.field?0:-1;c.useLayoutEffect(()=>{const y=l.current.getColumnHeaderElement(t.field);D===0&&y&&(y.tabIndex=-1)},[D,l,t.field]);const O=c.useCallback(y=>{y.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!x})},[l,x]),k=c.useCallback(()=>{r(y=>!y)},[]);c.useEffect(()=>l.current.subscribeEvent("rowSelectionChange",k),[l,k]);const $=l.current.getLocaleText(x&&!b?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return h.jsx(s.slots.baseCheckbox,f({indeterminate:b,checked:x&&!b,onChange:T,className:a.root,slotProps:{htmlInput:{"aria-label":$,name:"select_all_rows"}},tabIndex:D,onKeyDown:O,disabled:!Cl(s)},(E=s.slotProps)==null?void 0:E.baseCheckbox,o,{ref:n}))}),Gn=Ke((e,t)=>On in t?t[On]:e.props.getRowId?e.props.getRowId(t):t.id),Pt="__check__",Bn=f({},Qi,{type:"custom",field:Pt,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(e,t,n,o)=>{const r=Gn(o,t);return o.current.isRowSelected(r)},rowSpanValueGetter:(e,t,n,o)=>Gn(o,t),renderHeader:e=>h.jsx(kh,f({},e)),renderCell:e=>h.jsx(ph,f({},e))}),Fh=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function ys(e,t){if(e==null)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":t==="date"?n.toISOString().substring(0,10):t==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function xn(e){var k;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,slotProps:s,headerFilterMenu:i,clearButton:a,tabIndex:d,disabled:u}=e,g=Q(e,Fh),m=s==null?void 0:s.root.slotProps,p=pn(),[v,S]=c.useState(()=>ys(t.value,o)),[b,x]=c.useState(!1),T=Oe(),D=Z(),O=c.useCallback($=>{p.clear();const E=$.target.value;S(E),x(!0),p.start(D.filterDebounceMs,()=>{const y=new Date(E);n(f({},t,{value:Number.isNaN(y.getTime())?void 0:y})),x(!1)})},[n,t,D.filterDebounceMs,p]);return c.useEffect(()=>{const $=ys(t.value,o);S($)},[t.value,o]),h.jsxs(c.Fragment,{children:[h.jsx(D.slots.baseTextField,f({fullWidth:!0,id:T,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),value:v,onChange:O,type:o||"text",disabled:u,inputRef:l,slotProps:f({},m,{input:f({endAdornment:b?h.jsx(D.slots.loadIcon,{fontSize:"small",color:"action"}):null},m==null?void 0:m.input),htmlInput:f({max:o==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:d},m==null?void 0:m.htmlInput)})},(k=D.slotProps)==null?void 0:k.baseTextField,g,s==null?void 0:s.root)),i,a]})}function Sn(e,t,n,o){if(!e.value)return null;const r=new Date(e.value);n?r.setSeconds(0,0):(r.setMinutes(r.getMinutes()+r.getTimezoneOffset()),r.setHours(0,0,0,0));const l=r.getTime();return s=>{if(!s)return!1;if(o)return t(s.getTime(),l);const i=new Date(s);return n?i.setSeconds(0,0):i.setHours(0,0,0,0),t(i.getTime(),l)}}const fa=e=>[{value:"is",getApplyFilterFn:t=>Sn(t,(n,o)=>n===o,e),InputComponent:xn,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Sn(t,(n,o)=>n!==o,e),InputComponent:xn,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Sn(t,(n,o)=>n>o,e),InputComponent:xn,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Sn(t,(n,o)=>n>=o,e),InputComponent:xn,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Sn(t,(n,o)=>n<o,e,!e),InputComponent:xn,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Sn(t,(n,o)=>n<=o,e),InputComponent:xn,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],Eh=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],Th=_e(Yt)({fontSize:"inherit"}),Dh=e=>{const{classes:t}=e;return Me({root:["editInputCell"]},Pe,t)};function Hh(e){var O,k;const{id:t,value:n,field:o,colDef:r,hasFocus:l,onValueChange:s,slotProps:i}=e,a=Q(e,Eh),d=r.type==="dateTime",u=be(),g=c.useRef(null),m=c.useMemo(()=>{let $;n==null?$=null:n instanceof Date?$=n:$=new Date((n??"").toString());let E;return $==null||Number.isNaN($.getTime())?E="":E=new Date($.getTime()-$.getTimezoneOffset()*60*1e3).toISOString().substr(0,d?16:10),{parsed:$,formatted:E}},[n,d]),[p,v]=c.useState(m),S=Z(),b={classes:S.classes},x=Dh(b),T=c.useCallback($=>{if($==="")return null;const[E,y]=$.split("T"),[C,I,M]=E.split("-"),j=new Date;if(j.setFullYear(Number(C),Number(I)-1,Number(M)),j.setHours(0,0,0,0),y){const[G,z]=y.split(":");j.setHours(Number(G),Number(z),0,0)}return j},[]),D=c.useCallback(async $=>{const E=$.target.value,y=T(E);s&&await s($,y),v({parsed:y,formatted:E}),u.current.setEditCellValue({id:t,field:o,value:y},$)},[u,o,t,s,T]);return c.useEffect(()=>{v($=>{var E,y;return m.parsed!==$.parsed&&((E=m.parsed)==null?void 0:E.getTime())!==((y=$.parsed)==null?void 0:y.getTime())?m:$})},[m]),st(()=>{l&&g.current.focus()},[l]),h.jsx(Th,f({as:S.slots.baseInput,inputRef:g,fullWidth:!0,className:x.root,type:d?"datetime-local":"date",value:p.formatted,onChange:D},a,i==null?void 0:i.root,{slotProps:{htmlInput:f({max:d?"9999-12-31T23:59":"9999-12-31"},(k=(O=i==null?void 0:i.root)==null?void 0:O.slotProps)==null?void 0:k.htmlInput)}}))}const ma=e=>h.jsx(Hh,f({},e));function pa({value:e,columnType:t,rowId:n,field:o}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${o}".`].join(`
`))}const Oh=(e,t,n,o)=>{if(!e)return"";const r=Gn(o,t);return pa({value:e,columnType:"date",rowId:r,field:n.field}),e.toLocaleDateString()},$h=(e,t,n,o)=>{if(!e)return"";const r=Gn(o,t);return pa({value:e,columnType:"dateTime",rowId:r,field:n.field}),e.toLocaleString()},Gh=f({},Dt,{type:"date",sortComparator:Di,valueFormatter:Oh,filterOperators:fa(),renderEditCell:ma,pastedValueParser:e=>new Date(e)}),Lh=f({},Dt,{type:"dateTime",sortComparator:Di,valueFormatter:$h,filterOperators:fa(!0),renderEditCell:ma,pastedValueParser:e=>new Date(e)}),en=e=>e==null?null:Number(e),jh=e=>e==null||Number.isNaN(e)||e===""?null:t=>en(t)===en(e),Ah=()=>[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>en(t)===e.value,InputComponent:wt,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>en(t)!==e.value,InputComponent:wt,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:en(t)>e.value,InputComponent:wt,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:en(t)>=e.value,InputComponent:wt,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:en(t)<e.value,InputComponent:wt,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:en(t)<=e.value,InputComponent:wt,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:Oi,InputComponentProps:{type:"number"}}],zh=f({},Dt,{type:"number",align:"right",headerAlign:"right",sortComparator:Ti,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>fg(e)?e.toLocaleString():e||"",filterOperators:Ah(),getApplyQuickFilterFn:jh});function Ln(e){return(e==null?void 0:e.type)==="singleSelect"}function hn(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(f({field:e.field},t)):e.valueOptions}function Ko(e,t,n){if(t===void 0)return;const o=t.find(r=>{const l=n(r);return String(l)===String(e)});return n(o)}const Rh=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function Vh(e){return"key"in e&&!!e.key}function Nh(e){var I,M;const t=Z(),{id:n,value:o,field:r,row:l,colDef:s,hasFocus:i,error:a,onValueChange:d,initialOpen:u=t.editMode===zt.Cell,slotProps:g}=e,m=Q(e,Rh),p=be(),v=c.useRef(null),S=c.useRef(null),[b,x]=c.useState(u),D=(((I=t.slotProps)==null?void 0:I.baseSelect)||{}).native??!1;if(st(()=>{var j;i&&((j=S.current)==null||j.focus())},[i]),!Ln(s))return null;const O=hn(s,{id:n,row:l});if(!O)return null;const k=s.getOptionValue,$=s.getOptionLabel,E=async j=>{if(!Ln(s)||!O)return;x(!1);const G=j.target,z=Ko(G.value,O,k);d&&await d(j,z),await p.current.setEditCellValue({id:n,field:r,value:z},j)},y=(j,G)=>{if(t.editMode===zt.Row){x(!1);return}if(G==="backdropClick"||j.key==="Escape"){const z=p.current.getCellParams(n,r);p.current.publishEvent("cellEditStop",f({},z,{reason:j.key==="Escape"?kt.escapeKeyDown:kt.cellFocusOut}))}},C=j=>{Vh(j)&&j.key==="Enter"||x(!0)};return!O||!s?null:h.jsx(t.slots.baseSelect,f({ref:v,value:o,onChange:E,open:b,onOpen:C,onClose:y,error:a,native:D,fullWidth:!0,slotProps:{htmlInput:{ref:S}}},m,g==null?void 0:g.root,(M=t.slotProps)==null?void 0:M.baseSelect,{children:O.map(j=>{var z;const G=k(j);return c.createElement(t.slots.baseSelectOption,f({},((z=t.slotProps)==null?void 0:z.baseSelectOption)||{},{native:D,key:G,value:G}),$(j))})}))}const Bh=e=>h.jsx(Nh,f({},e)),_h=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"],Wh=({column:e,OptionComponent:t,getOptionLabel:n,getOptionValue:o,isSelectNative:r,baseSelectOptionProps:l})=>["",...hn(e)||[]].map(i=>{const a=o(i);let d=n(i);return d===""&&(d=" "),c.createElement(t,f({},l,{native:r,key:a,value:a}),d)});function vs(e){var $,E,y,C,I;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,tabIndex:s,clearButton:i,headerFilterMenu:a,slotProps:d}=e,u=Q(e,_h),g=t.value??"",m=Oe(),p=Oe(),v=Z(),S=((E=($=v.slotProps)==null?void 0:$.baseSelect)==null?void 0:E.native)??!1;let b=null;if(t.field){const M=r.current.getColumn(t.field);Ln(M)&&(b=M)}const x=b==null?void 0:b.getOptionValue,T=b==null?void 0:b.getOptionLabel,D=c.useMemo(()=>hn(b),[b]),O=c.useCallback(M=>{let j=M.target.value;j=Ko(j,D,x),n(f({},t,{value:j}))},[D,x,n,t]);if(!Ln(b))return null;const k=(d==null?void 0:d.root.label)??r.current.getLocaleText("filterPanelInputLabel");return h.jsxs(c.Fragment,{children:[h.jsx(v.slots.baseSelect,f({fullWidth:!0,id:m,label:k,labelId:p,value:g,onChange:O,slotProps:{htmlInput:f({tabIndex:s,ref:l,type:o||"text",placeholder:(d==null?void 0:d.root.placeholder)??r.current.getLocaleText("filterPanelInputPlaceholder")},(y=d==null?void 0:d.root.slotProps)==null?void 0:y.htmlInput)},native:S},(C=v.slotProps)==null?void 0:C.baseSelect,u,d==null?void 0:d.root,{children:Wh({column:b,OptionComponent:v.slots.baseSelectOption,getOptionLabel:T,getOptionValue:x,isSelectNative:S,baseSelectOptionProps:(I=v.slotProps)==null?void 0:I.baseSelectOption})})),a,i]})}const Uh=["item","applyValue","type","apiRef","focusElementRef","slotProps"];function Kh(e){const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,slotProps:s}=e,i=Q(e,Uh),a=Oe(),d=Z();let u=null;if(t.field){const T=r.current.getColumn(t.field);Ln(T)&&(u=T)}const g=u==null?void 0:u.getOptionValue,m=u==null?void 0:u.getOptionLabel,p=c.useCallback((T,D)=>g(T)===g(D),[g]),v=c.useMemo(()=>hn(u)||[],[u]),S=c.useMemo(()=>Array.isArray(t.value)?t.value.reduce((T,D)=>{const O=v.find(k=>g(k)===D);return O!=null&&T.push(O),T},[]):[],[g,t.value,v]),b=c.useCallback((T,D)=>{n(f({},t,{value:D.map(g)}))},[n,t,g]),x=d.slots.baseAutocomplete;return h.jsx(x,f({multiple:!0,options:v,isOptionEqualToValue:p,id:a,value:S,onChange:b,getOptionLabel:m,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:o||"text",inputRef:l}}},i,s==null?void 0:s.root))}const yn=e=>e==null||!dl(e)?e:e.value,qh=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>yn(t)===yn(e.value),InputComponent:vs},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>yn(t)!==yn(e.value),InputComponent:vs},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(yn);return n=>t.includes(yn(n))},InputComponent:Kh}],Yh=e=>typeof e[0]=="object",Xh=e=>dl(e)?e.value:e,Qh=e=>dl(e)?e.label:String(e),Zh=f({},Dt,{type:"singleSelect",getOptionLabel:Qh,getOptionValue:Xh,valueFormatter(e,t,n,o){const r=Gn(o,t);if(!Ln(n))return"";const l=hn(n,{id:r,row:t});if(e==null)return"";if(!l)return e;if(!Yh(l))return n.getOptionLabel(e);const s=l.find(i=>n.getOptionValue(i)===e);return s?n.getOptionLabel(s):""},renderEditCell:Bh,filterOperators:qh(),pastedValueParser:(e,t,n)=>{const o=n,r=hn(o)||[],l=o.getOptionValue;if(r.find(i=>l(i)===e))return e}}),Jh="string",ef=()=>({string:Dt,number:zh,date:Gh,dateTime:Lh,boolean:Qi,singleSelect:Zh,[sr]:Wg,custom:Dt}),Sl=Ke(e=>e.headerFiltering),tf=le(Sl,e=>(e==null?void 0:e.enabled)??!1),nf=le(Sl,e=>e.editing),of=le(Sl,e=>e.menuOpen),hr=Ke(e=>e.columnGrouping),ba=Le(hr,e=>(e==null?void 0:e.unwrappedGroupingModel)??{}),Ca=Le(hr,e=>(e==null?void 0:e.lookup)??{}),rf=Le(hr,e=>(e==null?void 0:e.headerStructure)??[]),wo=le(hr,e=>(e==null?void 0:e.maxDepth)??0),wa=["maxWidth","minWidth","width","flex"],Fr=ef();function lf({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const o=new Set(n.map(s=>s.field)),r={all:{},frozenFields:[],freeze:s=>{const i=r.all[s];i&&i.frozen!==!0&&(r.all[s].frozen=!0,r.frozenFields.push(s))}};function l(){if(r.frozenFields.length===o.size)return;const s={min:{},max:{}};let i=e,a=t,d=0;r.frozenFields.forEach(u=>{i-=r.all[u].computedWidth,a-=r.all[u].flex});for(let u=0;u<n.length;u+=1){const g=n[u];if(r.all[g.field]&&r.all[g.field].frozen===!0)continue;let p=i/a*g.flex;p<g.minWidth?(d+=g.minWidth-p,p=g.minWidth,s.min[g.field]=!0):p>g.maxWidth&&(d+=g.maxWidth-p,p=g.maxWidth,s.max[g.field]=!0),r.all[g.field]={frozen:!1,computedWidth:p,flex:g.flex}}d<0?Object.keys(s.max).forEach(u=>{r.freeze(u)}):d>0?Object.keys(s.min).forEach(u=>{r.freeze(u)}):n.forEach(({field:u})=>{r.freeze(u)}),l()}return l(),r.all}const qr=(e,t)=>{const n={};let o=0,r=0;const l=[];e.orderedFields.forEach(a=>{let d=e.lookup[a],u=0,g=!1;e.columnVisibilityModel[a]!==!1&&(d.flex&&d.flex>0?(o+=d.flex,g=!0):u=gn(d.width||Dt.width,d.minWidth||Dt.minWidth,d.maxWidth||Dt.maxWidth),r+=u),d.computedWidth!==u&&(d=f({},d,{computedWidth:u})),g&&l.push(d),n[a]=d});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),i=Math.max(s-r,0);if(o>0&&s>0){const a=lf({initialFreeSpace:i,totalFlexUnits:o,flexColumns:l});Object.keys(a).forEach(d=>{n[d]=f({},n[d],{computedWidth:a[d].computedWidth})})}return f({},e,{lookup:n})},sf=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:o={}}=t,r=Object.keys(o);if(r.length===0&&n.length===0)return e;const l={},s=[];for(let u=0;u<n.length;u+=1){const g=n[u];e.lookup[g]&&(l[g]=!0,s.push(g))}const i=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(u=>!l[u])],a=f({},e.lookup);for(let u=0;u<r.length;u+=1){const g=r[u],m=f({},a[g],{hasBeenResized:!0});Object.entries(o[g]).forEach(([p,v])=>{m[p]=v===-1?1/0:v}),a[g]=m}return f({},e,{orderedFields:i,lookup:a})};function Er(e){let t=Fr[Jh];return e&&Fr[e]&&(t=Fr[e]),t}const Mn=({apiRef:e,columnsToUpsert:t,initialState:n,columnVisibilityModel:o=St(e),keepOnlyColumnsToUpsert:r=!1,updateInitialVisibilityModel:l=!1})=>{var g,m;const s=!e.current.state.columns;let i;if(s)i={orderedFields:[],lookup:{},columnVisibilityModel:o,initialColumnVisibilityModel:o};else{const p=Tt(e);i={orderedFields:r?[]:[...p.orderedFields],lookup:f({},p.lookup),columnVisibilityModel:o,initialColumnVisibilityModel:l?o:p.initialColumnVisibilityModel}}const a={};if(r&&!s)for(const p in i.lookup)Object.prototype.hasOwnProperty.call(i.lookup,p)&&(a[p]=!1);t.forEach(p=>{const{field:v}=p;a[v]=!0;let S=i.lookup[v];S==null?(S=f({},Er(p.type),{field:v,hasBeenResized:!1}),i.orderedFields.push(v)):r&&i.orderedFields.push(v),S&&S.type!==p.type&&(S=f({},Er(p.type),{field:v}));let b=S.hasBeenResized;wa.forEach(x=>{p[x]!==void 0&&(b=!0,p[x]===-1&&(p[x]=1/0))}),i.lookup[v]=Fc(S,f({},Er(p.type),p,{hasBeenResized:b}))}),r&&!s&&Object.keys(i.lookup).forEach(p=>{a[p]||delete i.lookup[p]});const d=e.current.unstable_applyPipeProcessors("hydrateColumns",i),u=sf(d,n);return qr(u,((m=(g=e.current).getRootDimensions)==null?void 0:m.call(g))??void 0)};function xo(e,t){if(t.listView)return 0;const n=ho(e),o=wo(e),r=tf(e),l=Math.floor(t.columnHeaderHeight*n),s=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*n),i=r?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0;return l+s*o+i}const qo=1,xa=1.5,af=e=>{const{scrollDirection:t,classes:n}=e,o={root:["scrollArea",`scrollArea--${t}`]};return Me(o,Pe,n)},cf=$e("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${w["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${w["scrollArea--right"]}`]:t["scrollArea--right"]},{[`&.${w["scrollArea--up"]}`]:t["scrollArea--up"]},{[`&.${w["scrollArea--down"]}`]:t["scrollArea--down"]},t.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${w["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${w["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${w["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${w["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),uf=le(Qe,(e,t)=>t==="left"?e.leftPinnedWidth:t==="right"?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0);function df(e){const t=be(),[n,o]=c.useState("none");return re(t,"columnHeaderDragStart",()=>o("horizontal")),re(t,"columnHeaderDragEnd",()=>o("none")),re(t,"rowDragStart",()=>o("vertical")),re(t,"rowDragEnd",()=>o("none")),n==="none"?null:n==="horizontal"?h.jsx(gf,f({},e)):h.jsx(hf,f({},e))}function gf(e){const{scrollDirection:t,scrollPosition:n}=e,o=c.useRef(null),r=be(),l=pn(),s=K(r,ho),i=K(r,il),a=K(r,uf,t),d=()=>{const S=Qe(r);if(t==="left")return n.current.left>0;if(t==="right"){const b=i-S.viewportInnerSize.width;return n.current.left<b}return!1},u=Z(),g=xo(r,u),m=Math.floor(u.columnHeaderHeight*s),p=f({height:m,top:g-m},t==="left"?{left:a}:{},t==="right"?{right:a}:{}),v=Fe(S=>{let b;if(S.preventDefault(),t==="left")b=S.clientX-o.current.getBoundingClientRect().right;else if(t==="right")b=Math.max(1,S.clientX-o.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");b=(b-qo)*xa+qo,l.start(0,()=>{r.current.scroll({left:n.current.left+b,top:n.current.top})})});return h.jsx(Sa,f({},e,{ref:o,getCanScrollMore:d,style:p,handleDragOver:v}))}function hf(e){const{scrollDirection:t,scrollPosition:n}=e,o=c.useRef(null),r=be(),l=pn(),s=K(r,nr),i=()=>{const m=Qe(r);if(t==="up")return n.current.top>0;if(t==="down"){const v=(s.currentPageTotalHeight||0)-m.viewportInnerSize.height-(m.hasScrollX?m.scrollbarSize:0);return n.current.top<v}return!1},a=Z(),d=xo(r,a),u={top:t==="up"?d:void 0,bottom:t==="down"?0:void 0},g=Fe(m=>{let p;if(m.preventDefault(),t==="up")p=m.clientY-o.current.getBoundingClientRect().bottom;else if(t==="down")p=Math.max(1,m.clientY-o.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");p=(p-qo)*xa+qo,l.start(0,()=>{r.current.scroll({left:n.current.left,top:n.current.top+p})})});return h.jsx(Sa,f({},e,{ref:o,getCanScrollMore:i,style:u,handleDragOver:g}))}const Sa=fe(function(t,n){const{scrollDirection:o,getCanScrollMore:r,style:l,handleDragOver:s}=t,i=be(),[a,d]=c.useState(r),u=Z(),g=f({},u,{scrollDirection:o}),m=af(g);return re(i,"scrollPositionChange",()=>{d(r)}),a?h.jsx(cf,{ref:n,className:m.root,ownerState:g,onDragOver:s,style:l}):null}),To=qt(df),ya=c.createContext(void 0);function pt(){const e=c.useContext(ya);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const ff=()=>{},mf=(e,t)=>{const n=c.useRef(!1);st(()=>n.current||!e?ff:(n.current=!0,t()),[n.current||e])};function Ie(e,t,n){const o=c.useRef(!0);st(()=>{o.current=!1,e.current.register(n,t)},[e,n,t]),o.current&&e.current.register(n,t)}function it(e,t){const n=c.useRef(null);if(n.current)return n.current;const o=e.current.getLogger(t);return n.current=o,o}const va=(e,t,n,o,r)=>{const l=it(e,"useNativeEventListener");Ve(e,"rootMount",()=>{const s=t();if(!(!s||!n))return l.debug(`Binding native ${n} event`),s.addEventListener(n,o,r),()=>{l.debug(`Clearing native ${n} event`),s.removeEventListener(n,o,r)}})};function Cn(e){const t=c.useRef(!0);t.current&&(t.current=!1,e())}const pf=$e("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"&&e!=="right"})(({overlayType:e,loadingOverlayVariant:t,right:n})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${n}px`,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),bf=$e("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"})({}),Cf=e=>{const{classes:t}=e;return Me({root:["overlayWrapper"],inner:["overlayWrapperInner"]},Pe,t)};function wf(e){const t=be(),n=Z(),o=K(t,Qe);let r=Math.max(o.viewportOuterSize.height-o.topContainerHeight-o.bottomContainerHeight-(o.hasScrollX?o.scrollbarSize:0),0);r===0&&(r=Mi);const l=Cf(f({},e,{classes:n.classes}));return h.jsx(pf,f({className:l.root},e,{right:o.columnsTotalWidth-o.viewportOuterSize.width,children:h.jsx(bf,f({className:l.inner,style:{height:r,width:o.viewportOuterSize.width}},e))}))}const Ia=Ke(e=>e.pivoting),fn=le(Ia,e=>e==null?void 0:e.active),xf=new Map,Ma=le(Ia,e=>(e==null?void 0:e.initialColumns)||xf),Sf=()=>{var x,T;const e=be(),t=Z(),n=K(e,zn),o=K(e,pl),r=K(e,yi),l=K(e,Xe),s=n===0&&r===0,i=K(e,Od),a=K(e,fn),d=!i&&s,u=!i&&n>0&&o===0,g=!i&&l.length===0,m=d&&a;let p=null,v=null;d&&(p="noRowsOverlay"),g&&(p="noColumnsOverlay"),m&&(p="emptyPivotOverlay"),u&&(p="noResultsOverlay"),i&&(p="loadingOverlay",v=((T=(x=t.slotProps)==null?void 0:x.loadingOverlay)==null?void 0:T[s?"noRowsVariant":"variant"])??(s?"skeleton":"linear-progress"));const S={overlayType:p,loadingOverlayVariant:v};return{getOverlay:()=>{var k,$;if(!p)return null;const D=(k=t.slots)==null?void 0:k[p],O=($=t.slotProps)==null?void 0:$[p];return h.jsx(wf,f({},S,{children:h.jsx(D,f({},O))}))},overlaysProps:S}},jo=Ke(e=>e.columnMenu);function yf(){var b;const e=pt(),t=Z(),n=K(e,Xe),o=K(e,ch),r=K(e,ih),l=K(e,sa),s=K(e,()=>wl(e)===null),i=K(e,Ch),a=K(e,bh),d=K(e,Uo),u=K(e,wo),g=K(e,jo),m=K(e,St),p=K(e,rf),v=!(i===null&&l===null&&s),S=e.current.columnHeadersContainerRef;return h.jsx(t.slots.columnHeaders,f({ref:S,visibleColumns:n,filterColumnLookup:o,sortColumnLookup:r,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:i,columnHeaderFocus:a,columnGroupHeaderFocus:d,headerGroupingMaxDepth:u,columnMenuState:g,columnVisibility:m,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:v},(b=t.slotProps)==null?void 0:b.columnHeaders))}const vf=qt(yf),If=$e("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),Mf=$e("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:n,loadingOverlayVariant:o,overlayType:r}=e,l=o==="skeleton"||r==="noColumnsOverlay";return[t.main,n.hasPinnedRight&&t["main--hasPinnedRight"],l&&t["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),Pf=fe((e,t)=>{var s;const{ownerState:n}=e,o=Z(),l=lr().hooks.useGridAriaAttributes();return h.jsxs(Mf,f({ownerState:n,className:e.className,tabIndex:-1},l,(s=o.slotProps)==null?void 0:s.main,{ref:t,children:[h.jsx(If,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),kf=()=>Me({root:["topContainer"]},Pe,{}),Ff=$e("div")({position:"sticky",zIndex:40,top:0});function Ef(e){const t=kf();return h.jsx(Ff,f({},e,{className:He(t.root,w["container--top"]),role:"presentation"}))}const Tf=(e,t)=>{const{classes:n}=e;return Me({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},Pe,n)},Df=$e("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),Hf=fe(function(t,n){var i;const o=Z(),r=!o.autoHeight&&((i=t.style)==null?void 0:i.minHeight)==="auto",l=Tf(o,r),s={classes:o.classes,overflowedContent:r};return h.jsx(Df,f({},t,{ownerState:s,className:He(l.root,t.className),ref:n}))}),Of=$e("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),Pa=$e("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:ne.cell.background.pinned}),$f=$e(Pa)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),Gf=$e(Pa)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),Lf=$e("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function jf({rowsLength:e}){const t=be(),{viewportOuterSize:n,minimumSize:o,hasScrollX:r,hasScrollY:l,scrollbarSize:s,leftPinnedWidth:i,rightPinnedWidth:a}=K(t,Qe),d=r?s:0,u=n.height-o.height>0;return d===0&&!u?null:h.jsxs(Of,{className:w.filler,role:"presentation",style:{height:d,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[i>0&&h.jsx($f,{className:w["filler--pinnedLeft"],style:{width:i}}),h.jsx(Lf,{}),a>0&&h.jsx(Gf,{className:w["filler--pinnedRight"],style:{width:a+(l?s:0)}})]})}const Af=qt(jf),zf={},Rf={initialize:Vf,use:Nf,selectors:zf};function Vf(e){return{colspanMap:new Map}}function Nf(e,t,n){var i;const o=(i=t.colspan)==null?void 0:i.getColspan,r=()=>{e.state.colspanMap=new Map},l=(a,d)=>{var u;return(u=e.state.colspanMap.get(a))==null?void 0:u[d]},s=Fe(o?(a,d,u,g)=>{for(let m=d;m<u;m+=1){const p=Bf(e.state.colspanMap,m,a,d,u,g,o);p.colSpan>1&&(m+=p.colSpan-1)}}:()=>{});return n.calculateColSpan=s,{resetColSpan:r,getCellColSpanInfo:l,calculateColSpan:s}}function Bf(e,t,n,o,r,l,s){const i=l.length,a=l[t],d=s(n,a,t);if(!d||d===1)return Tr(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:1,width:a.computedWidth}}),{colSpan:1};let u=a.computedWidth;for(let g=1;g<d;g+=1){const m=t+g;if(m>=o&&m<r){const p=l[m];u+=p.computedWidth,Tr(e,n,t+g,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(t+d,i-1),leftVisibleCellIndex:t})}Tr(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:d,width:u}})}return{colSpan:d}}function Tr(e,t,n,o){let r=e.get(t);r||(r={},e.set(t,r)),r[n]=o}function _f(e,t=166){let n,o;const r=()=>{n=void 0,e(...o)};function l(...s){o=s,n===void 0&&(n=setTimeout(r,t))}return l.clear=()=>{clearTimeout(n),n=void 0},l}function vt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l+=1)if(!vt(e[l],t[l]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let l=0;l<r.length;l+=1)if(!t.has(r[l][0]))return!1;for(let l=0;l<r.length;l+=1){const s=r[l];if(!vt(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let l=0;l<r.length;l+=1)if(!t.has(r[l][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l+=1)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),o=n.length;if(o!==Object.keys(t).length)return!1;for(let r=0;r<o;r+=1)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<o;r+=1){const l=n[r];if(!vt(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function un(e,t){return Math.round(e*10**t)/10**t}const Ut={EMPTY:{width:0,height:0},equals:(e,t)=>e.width===t.width&&e.height===t.height},Wf={EMPTY:{top:[],bottom:[]}},Uf={EMPTY:{left:[],right:[]}};let Ze=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}({});(function(e){function t(n,o){return n===0&&o===0?Ze.NONE:Math.abs(o)>=Math.abs(n)?o>0?Ze.DOWN:Ze.UP:n>0?Ze.RIGHT:Ze.LEFT}e.forDelta=t})(Ze||(Ze={}));const Kf={isReady:!1,root:Ut.EMPTY,viewportOuterSize:Ut.EMPTY,viewportInnerSize:Ut.EMPTY,contentSize:Ut.EMPTY,minimumSize:Ut.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},En={rootSize:e=>e.rootSize,dimensions:e=>e.dimensions,rowHeight:e=>e.dimensions.rowHeight,contentHeight:e=>e.dimensions.contentSize.height,rowsMeta:e=>e.rowsMeta,columnPositions:wi((e,t)=>{const n=[];let o=0;for(let r=0;r<t.length;r+=1)n.push(o),o+=t[r].computedWidth;return n}),needsHorizontalScrollbar:e=>e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width},mt={initialize:qf,use:Yf,selectors:En};function qf(e){const t=f({},Kf,e.dimensions),{rowCount:n}=e,{rowHeight:o}=t,r={currentPageTotalHeight:n*o,positions:Array.from({length:n},(s,i)=>i*o),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},l=new Map;return{rootSize:Ut.EMPTY,dimensions:t,rowsMeta:r,rowHeights:l}}function Yf(e,t,n){const o=c.useRef(!0),{refs:r,dimensions:{rowHeight:l,columnsTotalWidth:s,leftPinnedWidth:i,rightPinnedWidth:a,topPinnedHeight:d,bottomPinnedHeight:u},onResize:g}=t,m=r.container.current,p=c.useCallback(()=>{if(o.current)return;const D=En.rootSize(e.state),O=En.rowsMeta(e.state),k=Zf(m,t.dimensions.scrollbarSize),$=d+O.pinnedTopRowsTotalHeight,E=u+O.pinnedBottomRowsTotalHeight,y={width:s,height:un(O.currentPageTotalHeight,1)};let C,I,M=!1,j=!1;if(t.autoHeight)j=!1,M=Math.round(s)>Math.round(D.width),C={width:D.width,height:$+E+y.height},I={width:Math.max(0,C.width-(j?k:0)),height:Math.max(0,C.height-(M?k:0))};else{C={width:D.width,height:D.height},I={width:Math.max(0,C.width),height:Math.max(0,C.height-$-E)};const H=y,V=I,W=H.width>V.width,L=H.height>V.height;(W||L)&&(j=L,M=H.width+(j?k:0)>V.width,M&&(j=H.height+k>V.height)),j&&(I.width-=k),M&&(I.height-=k)}const G=Math.max(C.width,s+(j?k:0)),z={width:s,height:$+y.height+E},F={isReady:!0,root:D,viewportOuterSize:C,viewportInnerSize:I,contentSize:y,minimumSize:z,hasScrollX:M,hasScrollY:j,scrollbarSize:k,rowWidth:G,rowHeight:l,columnsTotalWidth:s,leftPinnedWidth:i,rightPinnedWidth:a,topContainerHeight:$,bottomContainerHeight:E},P=e.state.dimensions;vt(P,F)||(e.update({dimensions:F}),g==null||g(F.root))},[e,m,t.dimensions.scrollbarSize,t.autoHeight,g,l,s,i,a,d,u]),{resizeThrottleMs:v}=t,S=Fe(p),b=c.useMemo(()=>v>0?_f(S,v):void 0,[v,S]);c.useEffect(()=>b==null?void 0:b.clear,[b]);const x=Fe(D=>{e.state.rootSize=D,o.current||!b?(o.current=!1,p()):b()});st(()=>Qf(m,e,x),[m,e,x]),st(p,[p]);const T=Xf(e,t,p);return{updateDimensions:p,debouncedUpdateDimensions:b,rowsMeta:T}}function Xf(e,t,n){const o=e.state.rowHeights,{rows:r,getRowHeight:l,getRowSpacing:s,getEstimatedRowHeight:i}=t,a=c.useRef(-1),d=c.useRef(!1),u=c.useRef(!1),g=t.pinnedRows,m=Wt(e,En.rowHeight),p=Fe(I=>{let M=o.get(I);return M===void 0&&(M={content:e.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},o.set(I,M)),M}),{applyRowHeight:v}=t,S=c.useCallback(I=>{const M=En.dimensions(e.state),j=M.rowHeight,G=p(I.id);if(!l)G.content=j,G.needsFirstMeasurement=!1;else{const z=l(I);if(z==="auto"){if(G.needsFirstMeasurement){const F=i?i(I):j;G.content=F??j}d.current=!0,G.autoHeight=!0}else G.content=z??M.rowHeight,G.needsFirstMeasurement=!1,G.autoHeight=!1}if(s){const z=s(I);G.spacingTop=z.top??0,G.spacingBottom=z.bottom??0}else G.spacingTop=0,G.spacingBottom=0;return v==null||v(G,I),G},[e,l,p,i,m,s,v]),b=c.useCallback(()=>{d.current=!1;const I=(g==null?void 0:g.top.reduce((P,H)=>{const V=S(H);return P+V.content+V.spacingTop+V.spacingBottom+V.detail},0))??0,M=(g==null?void 0:g.bottom.reduce((P,H)=>{const V=S(H);return P+V.content+V.spacingTop+V.spacingBottom+V.detail},0))??0,j=[],G=r.reduce((P,H)=>{j.push(P);const V=S(H),W=V.content+V.spacingTop+V.spacingBottom+V.detail;return P+W},0);d.current||(a.current=1/0);const z=I!==e.state.rowsMeta.pinnedTopRowsTotalHeight||M!==e.state.rowsMeta.pinnedBottomRowsTotalHeight||G!==e.state.rowsMeta.currentPageTotalHeight,F={currentPageTotalHeight:G,positions:j,pinnedTopRowsTotalHeight:I,pinnedBottomRowsTotalHeight:M};e.set("rowsMeta",F),z&&n(),u.current=!0},[e,g,r,S,n]),x=Fe(b),T=I=>{var M;return((M=o.get(I))==null?void 0:M.content)??En.rowHeight(e.state)},D=(I,M)=>{const j=p(I),G=j.content!==M;j.needsFirstMeasurement=!1,j.content=M,u.current&&(u.current=!G)},O=I=>{var M;return((M=o.get(I))==null?void 0:M.autoHeight)??!1},k=()=>a.current,$=I=>{d.current&&I>a.current&&(a.current=I)},E=()=>{o.clear(),b()},y=Ht(()=>typeof ResizeObserver>"u"?void 0:new ResizeObserver(I=>{var M,j;for(let G=0;G<I.length;G+=1){const z=I[G],F=z.borderBoxSize&&z.borderBoxSize.length>0?z.borderBoxSize[0].blockSize:z.contentRect.height,P=z.target.__mui_id;if(((j=(M=t.focusedVirtualCell)==null?void 0:M.call(t))==null?void 0:j.id)===P&&F===0)return;D(P,F)}u.current||requestAnimationFrame(()=>{x()})})).current,C=(I,M)=>(I.__mui_id=M,y==null||y.observe(I),()=>y==null?void 0:y.unobserve(I));return st(()=>{b()},[b]),{getRowHeight:T,setLastMeasuredRowIndex:$,storeRowHeightMeasurement:D,hydrateRowsMeta:b,observeRowHeight:C,rowHasAutoHeight:O,getRowHeightEntry:p,getLastMeasuredRowIndex:k,resetRowHeights:E}}function Qf(e,t,n){if(!e)return;const o=e.getBoundingClientRect(),r={width:un(o.width,1),height:un(o.height,1)};if((t.state.rootSize===Ut.EMPTY||!Ut.equals(r,t.state.rootSize))&&n(r),typeof ResizeObserver>"u")return;const l=new ResizeObserver(([s])=>{if(!s)return;const i={width:un(s.contentRect.width,1),height:un(s.contentRect.height,1)};Ut.equals(i,t.state.rootSize)||n(i)});return l.observe(e),()=>{l.disconnect()}}const Is=new WeakMap;function Zf(e,t){if(t!==void 0)return t;if(e===null)return 0;const n=Is.get(e);if(n!==void 0)return n;const r=dn(e).createElement("div");r.style.width="99px",r.style.height="99px",r.style.position="absolute",r.style.overflow="scroll",r.className="scrollDiv",e.appendChild(r);const l=r.offsetWidth-r.clientWidth;return e.removeChild(r),Is.set(e,l),l}const Jf=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",em=Jf.includes("firefox"),Dr=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),Tn=(e,t,n)=>Math.max(t,Math.min(n,e)),Hr=50,Ms={top:0,left:0},tm=Object.freeze(new Map),Yo={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},Ao={renderContext:$o(e=>e.virtualization.renderContext),enabledForRows:$o(e=>e.virtualization.enabledForRows),enabledForColumns:$o(e=>e.virtualization.enabledForColumns)},ka={initialize:nm,use:om,selectors:Ao};function nm(e){var n;return{virtualization:f({enabled:!Dr,enabledForRows:!Dr,enabledForColumns:!Dr,renderContext:Yo},(n=e.initialState)==null?void 0:n.virtualization),getters:null}}function om(e,t,n){const{refs:o,dimensions:{rowHeight:r,columnsTotalWidth:l},virtualization:{isRtl:s=!1,rowBufferPx:i=150,columnBufferPx:a=150},colspan:d,initialState:u,rows:g,range:m,columns:p,pinnedRows:v=Wf.EMPTY,pinnedColumns:S=Uf.EMPTY,minimalContentHeight:b,autoHeight:x,onWheel:T,onTouchMove:D,onRenderContextChange:O,onScrollChange:k,scrollReset:$,renderRow:E,renderInfiniteLoadingTrigger:y}=t,C=Wt(e,mt.selectors.needsHorizontalScrollbar),I=v.bottom.length>0,[M,j]=c.useState(tm),[,G]=c.useState(0),z=c.useRef(!1),F=Wt(e,Ao.renderContext),P=Wt(e,Ao.enabledForRows),H=Wt(e,Ao.enabledForColumns),V=Wt(e,mt.selectors.contentHeight),W=c.useRef((u==null?void 0:u.scroll)??Ms),L=c.useRef(!1),A=c.useRef(Ms),B=c.useRef(Yo),Y=pn(),_=c.useRef(void 0),J=Ht(()=>sm(s,i,a,r*15,Hr*6)).current,q=c.useCallback(se=>{Es(se,e.state.virtualization.renderContext)||e.set("virtualization",f({},e.state.virtualization,{renderContext:se}));const xe=mt.selectors.dimensions(e.state).isReady,oe=se.firstRowIndex!==B.current.firstRowIndex||se.lastRowIndex!==B.current.lastRowIndex;xe&&oe&&(B.current=se,O==null||O(se)),A.current=W.current},[e,O]),ge=Fe(()=>{const se=o.scroller.current;if(!se)return;const xe=mt.selectors.dimensions(e.state),oe=Math.ceil(xe.minimumSize.height-xe.viewportOuterSize.height),ue=Math.ceil(xe.minimumSize.width-xe.viewportInnerSize.width),Ce={top:Tn(se.scrollTop,0,oe),left:s?Tn(se.scrollLeft,-ue,0):Tn(se.scrollLeft,0,ue)},Se=Ce.left-W.current.left,ye=Ce.top-W.current.top,Ge=Se!==0||ye!==0;W.current=Ce;const Ne=Ge?Ze.forDelta(Se,ye):Ze.NONE,qe=Math.abs(W.current.top-A.current.top),we=Math.abs(W.current.left-A.current.left),R=qe>=r||we>=Hr,ee=J.direction!==Ne;if(!(R||ee))return F;if(ee)switch(Ne){case Ze.NONE:case Ze.LEFT:case Ze.RIGHT:_.current=void 0;break;default:_.current=F;break}J.direction=Ne,J.buffer=Ea(s,Ne,i,a,r*15,Hr*6);const De=Ps(e,t,n,P,H),me=ks(De,W.current,J);return Es(me,F)||(Ec.flushSync(()=>{q(me)}),Y.start(1e3,ge)),me}),ce=Fe(()=>{if(!mt.selectors.dimensions(e.state).isReady&&(P||H))return;const se=Ps(e,t,n,P,H),xe=ks(se,W.current,J);_.current=void 0,q(xe)}),de=Fe(()=>{if(L.current){L.current=!1;return}const se=ge();se&&(k==null||k(W.current,se))}),U=(se={},xe)=>{var De;if(!se.rows&&!m)return[];let oe=F;se.renderContext&&(oe=se.renderContext,oe.firstColumnIndex=F.firstColumnIndex,oe.lastColumnIndex=F.lastColumnIndex);const ue=!I&&se.position===void 0||I&&se.position==="bottom",Ce=se.position!==void 0;let Se;switch(se.position){case"top":Se=0;break;case"bottom":Se=v.top.length+g.length;break;case void 0:default:Se=v.top.length;break}const ye=se.rows??g,Ge=oe.firstRowIndex,Ne=Math.min(oe.lastRowIndex,ye.length),qe=se.rows?Ts(0,se.rows.length):Ts(Ge,Ne);let we=-1;const R=(De=t.focusedVirtualCell)==null?void 0:De.call(t);!Ce&&R&&(R.rowIndex<Ge&&(qe.unshift(R.rowIndex),we=R.rowIndex),R.rowIndex>Ne&&(qe.push(R.rowIndex),we=R.rowIndex));const ee=[],Re=mt.selectors.columnPositions(e.state,p);return qe.forEach(me=>{const{id:Be,model:at}=ye[me];if(xe&&!xe[Be])return;const $t=((m==null?void 0:m.firstRowIndex)||0)+Se+me;if(d!=null&&d.enabled){const wr=S.left.length,El=p.length-S.right.length;n.calculateColSpan(Be,wr,El,p),S.left.length>0&&n.calculateColSpan(Be,0,S.left.length,p),S.right.length>0&&n.calculateColSpan(Be,p.length-S.right.length,p.length,p)}const br=n.rowsMeta.rowHasAutoHeight(Be)?"auto":n.rowsMeta.getRowHeight(Be);let vo=!1;se.position===void 0&&(vo=me===0);let Wn=!1;const Un=me===ye.length-1;if(ue)if(Ce)Wn=Un;else{const wr=g.length-1;me===wr&&(Wn=!0)}let wn=oe;_.current&&me>=_.current.firstRowIndex&&me<_.current.lastRowIndex&&(wn=_.current);const Io=me===we,Cr=(R==null?void 0:R.rowIndex)===$t,rc=Fa(Re,wn,S.left.length),lc=Un&&se.position==="top",sc=wn.firstColumnIndex,ic=wn.lastColumnIndex;if(ee.push(E({id:Be,model:at,rowIndex:$t,offsetLeft:rc,columnsTotalWidth:l,baseRowHeight:br,firstColumnIndex:sc,lastColumnIndex:ic,focusedColumnIndex:Cr?R.columnIndex:void 0,isFirstVisible:vo,isLastVisible:Wn,isVirtualFocusRow:Io,showBottomBorder:lc})),Io)return;const Fl=M.get(Be);Fl&&ee.push(Fl),se.position===void 0&&Un&&ee.push(y(Be))}),ee},X=c.useMemo(()=>({overflowX:C?void 0:"hidden",overflowY:x?"hidden":void 0}),[C,x]),te=c.useMemo(()=>{const se={width:C?l:"auto",flexBasis:V,flexShrink:0};return se.flexBasis===0&&(se.flexBasis=b),se},[l,V,C,b]),ie=c.useRef(null),ae=c.useCallback(se=>{var xe;se&&((xe=ie.current)==null||xe.call(ie,l,V))},[l,V]);st(()=>{z.current&&ce()},[H,P,ce]),st(()=>{o.scroller.current&&(o.scroller.current.scrollLeft=0)},[o.scroller,$]),mf(F!==Yo,()=>{if(k==null||k(W.current,F),z.current=!0,u!=null&&u.scroll&&o.scroller.current){const se=o.scroller.current,{top:xe,left:oe}=u.scroll,ue={top:!(xe>0),left:!(oe>0)};!ue.left&&l&&(se.scrollLeft=oe,ue.left=!0,L.current=!0),!ue.top&&V&&(se.scrollTop=xe,L.current=!0),(!ue.top||!ue.left)&&(ie.current=(Ce,Se)=>{!ue.left&&Ce&&(se.scrollLeft=oe,ue.left=!0,L.current=!0),!ue.top&&Se&&(se.scrollTop=xe,ue.top=!0,L.current=!0),ue.left&&ue.top&&(ie.current=null)})}}),No(e,mt.selectors.dimensions,ce);const he=se=>xe=>{xe&&o[se].current!==xe&&(o[se].current=xe,G(oe=>oe+1))},pe={setPanels:j,getRows:U,getContainerProps:()=>({ref:he("container")}),getScrollerProps:()=>({ref:he("scroller"),onScroll:de,onWheel:T,onTouchMove:D,style:X,role:"presentation",tabIndex:em?-1:void 0}),getContentProps:()=>({ref:ae,style:te,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:he("scrollbarVertical"),scrollPosition:W}),getScrollbarHorizontalProps:()=>({ref:he("scrollbarHorizontal"),scrollPosition:W}),getScrollAreaProps:()=>({scrollPosition:W})};return Cn(()=>{e.state=f({},e.state,{getters:pe})}),c.useEffect(()=>{e.update({getters:pe})},Object.values(pe)),{getters:pe,useVirtualization:()=>Wt(e,se=>se),setPanels:j,forceUpdateRenderContext:ce,getCellColSpanInfo:()=>{throw new Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw new Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw new Error("Unimplemented: rowspan feature is required")}}}function Ps(e,t,n,o,r){var m;const l=mt.selectors.dimensions(e.state),s=t.rows,i=t.range,a=t.columns,d=n.getHiddenCellsOrigin(),u=(m=t.rows.at(-1))==null?void 0:m.id,g=a.at(-1);return{api:n,enabledForRows:o,enabledForColumns:r,autoHeight:t.autoHeight,rowBufferPx:t.virtualization.rowBufferPx,columnBufferPx:t.virtualization.columnBufferPx,leftPinnedWidth:l.leftPinnedWidth,columnsTotalWidth:l.columnsTotalWidth,viewportInnerWidth:l.viewportInnerSize.width,viewportInnerHeight:l.viewportInnerSize.height,lastRowHeight:u!==void 0?n.rowsMeta.getRowHeight(u):0,lastColumnWidth:(g==null?void 0:g.computedWidth)??0,rowsMeta:mt.selectors.rowsMeta(e.state),columnPositions:mt.selectors.columnPositions(e.state,t.columns),rows:s,range:i,pinnedColumns:t.pinnedColumns,columns:a,hiddenCellsOriginMap:d,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function ks(e,t,n){const o={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.columns.length},{top:r,left:l}=t,s=Math.abs(l)+e.leftPinnedWidth;if(e.enabledForRows){let a=Math.min(Fs(e,r,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const d=e.hiddenCellsOriginMap[a];if(d){const g=Math.min(...Object.values(d));a=Math.min(a,g)}const u=e.autoHeight?a+e.rows.length:Fs(e,r+e.viewportInnerHeight);o.firstRowIndex=a,o.lastRowIndex=u}if(e.enabledForColumns){let a=0,d=e.columnPositions.length,u=!1;const[g,m]=Yr({firstIndex:o.firstRowIndex,lastIndex:o.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let p=g;p<m&&!u;p+=1){const v=e.rows[p];u=e.api.rowsMeta.rowHasAutoHeight(v.id)}(!u||e.virtualizeColumnsWithAutoRowHeight)&&(a=rn(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),d=rn(s+e.viewportInnerWidth,e.columnPositions)),o.firstColumnIndex=a,o.lastColumnIndex=d}return rm(e,o,n)}function Fs(e,t,n){var s,i;const o=e.api.rowsMeta.getLastMeasuredRowIndex();let r=o===1/0;(s=e.range)!=null&&s.lastRowIndex&&!r&&(r=o>=e.range.lastRowIndex);const l=Tn(o-(((i=e.range)==null?void 0:i.firstRowIndex)||0),0,e.rowsMeta.positions.length);return r||e.rowsMeta.positions[l]>=t?rn(t,e.rowsMeta.positions,n):lm(t,e.rowsMeta.positions,l,n)}function rm(e,t,n){var a,d;const[o,r]=Yr({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[l,s]=Yr({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:((a=e.pinnedColumns)==null?void 0:a.left.length)??0,maxLastIndex:e.columns.length-(((d=e.pinnedColumns)==null?void 0:d.right.length)??0),bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),i=im({api:e.api,firstColumnToRender:l,firstRowToRender:o,lastRowToRender:r,visibleRows:e.rows});return{firstRowIndex:o,lastRowIndex:r,firstColumnIndex:i,lastColumnIndex:s}}function rn(e,t,n=void 0,o=0,r=t.length){if(t.length<=0)return-1;if(o>=r)return o;const l=o+Math.floor((r-o)/2),s=t[l];let i;if(n!=null&&n.atStart){const a=(l===t.length-1?n.lastPosition:t[l+1])-s;i=e-a<s}else i=e<=s;return i?rn(e,t,n,o,l):rn(e,t,n,l+1,r)}function lm(e,t,n,o=void 0){let r=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=r,r*=2;return rn(e,t,o,Math.floor(n/2),Math.min(n,t.length))}function Yr({firstIndex:e,lastIndex:t,bufferBefore:n,bufferAfter:o,minFirstIndex:r,maxLastIndex:l,positions:s,lastSize:i}){const a=s[e]-n,d=s[t]+o,u=rn(a,s,{atStart:!0,lastPosition:s[s.length-1]+i}),g=rn(d,s);return[Tn(u,r,l),Tn(g,r,l)]}function Es(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function Fa(e,t,n){const o=(e[t.firstColumnIndex]??0)-(e[n]??0);return Math.abs(o)}function Ea(e,t,n,o,r,l){if(e)switch(t){case Ze.LEFT:t=Ze.RIGHT;break;case Ze.RIGHT:t=Ze.LEFT;break}switch(t){case Ze.NONE:return{rowAfter:n,rowBefore:n,columnAfter:o,columnBefore:o};case Ze.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:l};case Ze.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:l,columnBefore:0};case Ze.UP:return{rowAfter:0,rowBefore:r,columnAfter:0,columnBefore:0};case Ze.DOWN:return{rowAfter:r,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function sm(e,t,n,o,r){return{direction:Ze.NONE,buffer:Ea(e,Ze.NONE,t,n,o,r)}}function Ts(e,t){return Array.from({length:t-e}).map((n,o)=>e+o)}function im({api:e,firstColumnToRender:t,firstRowToRender:n,lastRowToRender:o,visibleRows:r}){let l=t,s=!1;for(;!s&&l>=0;){s=!0;for(let i=n;i<o;i+=1)if(r[i]){const d=r[i].id,u=e.getCellColSpanInfo(d,l);if(u&&u.spannedByColSpan&&u.leftVisibleCellIndex<l){l=u.leftVisibleCellIndex,s=!1;break}}}return l}const am={},cm={initialize:um,use:dm,selectors:am};function um(e){return{}}function dm(e,t,n){return{getViewportPageSize:()=>{const r=mt.selectors.dimensions(e.state);if(!r.isReady)return 0;if(t.getRowHeight){const s=ka.selectors.renderContext(e.state),i=s.lastRowIndex-s.firstRowIndex;return Math.min(i-1,t.rows.length)}const l=Math.floor(r.viewportInnerSize.height/r.rowHeight);return Math.min(l,t.rows.length)}}}const gm={firstRowIndex:0,lastRowIndex:0},hm={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},Ta={state:e=>e.rowSpanning,hiddenCells:e=>e.rowSpanning.caches.hiddenCells,spannedCells:e=>e.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:e=>e.rowSpanning.caches.hiddenCellOriginMap},jn={initialize:fm,use:mm,selectors:Ta};function fm(e){var t;return{rowSpanning:((t=e.initialState)==null?void 0:t.rowSpanning)??{caches:hm,processedRange:gm}}}function mm(e,t,n){return{getHiddenCellsOrigin:()=>Ta.hiddenCellsOriginMap(e.state)}}const Ds=[mt,ka,Rf,jn,cm],pm=e=>{const t=Ht(()=>new tr(Ds.map(o=>o.initialize(e)).reduce((o,r)=>Object.assign(o,r),{}))).current,n={};for(const o of Ds)Object.assign(n,o.use(t,e,n));return{store:t,api:n}},bm=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),oo=!bm,Cm=(e,t)=>{const{disableVirtualization:n,autoHeight:o}=t;return f({},e,{virtualization:{enabled:!n&&oo,enabledForColumns:!n&&oo,enabledForRows:!n&&!o&&oo,renderContext:Yo}})};function wm(e,t){const{virtualizer:n}=e.current,{autoHeight:o,disableVirtualization:r}=t,l=d=>{d&&(d=oo),n.store.set("virtualization",f({},n.store.state.virtualization,{enabled:d,enabledForColumns:d,enabledForRows:d&&!o}))};Ie(e,{unstable_setVirtualization:l,unstable_setColumnVirtualization:d=>{d&&(d=oo),n.store.set("virtualization",f({},n.store.state.virtualization,{enabledForColumns:d}))}},"public");const a=n.api.forceUpdateRenderContext;e.current.register("private",{updateRenderContext:a}),Ve(e,"sortedRowsSet",a),Ve(e,"paginationModelChange",a),Ve(e,"columnsChange",a),c.useEffect(()=>{l(!t.disableVirtualization)},[r,o])}const fr=Ke(e=>e.virtualization);le(fr,e=>e.enabled);const xm=le(fr,e=>e.enabledForColumns);le(fr,e=>e.enabledForRows);const yl=le(fr,e=>e.renderContext),Sm=Ke(e=>e.virtualization.renderContext.firstColumnIndex),ym=Ke(e=>e.virtualization.renderContext.lastColumnIndex),vm=Le(Sm,ym,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t})),Im=["className"],Mm=e=>{const{classes:t}=e;return Me({root:["virtualScrollerRenderZone"]},Pe,t)},Pm=$e("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),km=fe(function(t,n){const{className:o}=t,r=Q(t,Im),l=be(),s=Z(),i=Mm(s),a=K(l,()=>{const d=yl(l);return nr(l).positions[d.firstRowIndex]??0});return h.jsx(Pm,f({className:He(i.root,o),ownerState:s,style:{transform:`translate3d(0, ${a}px, 0)`}},r,{ref:n}))}),Fm={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},tt=Ke(e=>e.editRows),Da=le(tt,(e,{rowId:t,editMode:n})=>n===zt.Row&&!!e[t]),Em=le(tt,(e,{rowId:t,field:n})=>{var o;return((o=e[t])==null?void 0:o[n])??null}),Kt=Ke(e=>e.preferencePanel),Tm=le(Kt,(e,t)=>!!(e.open&&e.labelId===t));var ot=function(e){return e.filters="filters",e.columns="columns",e.aiAssistant="aiAssistant",e}(ot||{});function Dm(e){return JSON.stringify([e.filterModel,e.sortModel,e.start,e.end])}class Hm{constructor({ttl:t=3e5,getKey:n=Dm}){this.cache={},this.ttl=t,this.getKey=n}set(t,n){const o=this.getKey(t),r=Date.now()+this.ttl;this.cache[o]={value:n,expiry:r}}get(t){const n=this.getKey(t),o=this.cache[n];if(o){if(Date.now()>o.expiry){delete this.cache[n];return}return o.value}}clear(){this.cache={}}}class Om extends Error{constructor(t){super(t.message),this.name="GridGetRowsError",this.params=t.params,this.cause=t.cause}}class $m extends Error{constructor(t){super(t.message),this.name="GridUpdateRowError",this.params=t.params,this.cause=t.cause}}const Gm=(e,t)=>{const{classes:n}=e,o={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return Me(o,Pe,n)},Ha=$e("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),Lm=$e(Ha)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),jm=$e(Ha)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Hs=fe(function(t,n){const o=pt(),r=Z(),l=c.useRef(!1),s=c.useRef(0),i=c.useRef(null),a=c.useRef(null),d=Gm(r,t.position),u=K(o,Qe),g=t.position==="vertical"?"height":"width",m=t.position==="vertical"?"scrollTop":"scrollLeft",p=t.position==="vertical"?"top":"left",v=t.position==="vertical"?u.hasScrollX:u.hasScrollY,S=u.minimumSize[g]+(v?u.scrollbarSize:0),x=(t.position==="vertical"?u.viewportInnerSize.height:u.viewportOuterSize.width)*(S/u.viewportOuterSize[g]),T=Fe(()=>{const k=i.current,$=t.scrollPosition.current;if(!k||$[p]===s.current)return;if(s.current=$[p],l.current){l.current=!1;return}l.current=!0;const E=$[p]/S;k[m]=E*x}),D=Fe(()=>{const k=o.current.virtualScrollerRef.current,$=i.current;if(!$)return;if(l.current){l.current=!1;return}l.current=!0;const E=$[m]/x;k[m]=E*S});nl(()=>{const k=o.current.virtualScrollerRef.current,$=i.current,E={passive:!0};return k.addEventListener("scroll",T,E),$.addEventListener("scroll",D,E),()=>{k.removeEventListener("scroll",T,E),$.removeEventListener("scroll",D,E)}}),c.useEffect(()=>{a.current.style.setProperty(g,`${x}px`)},[x,g]);const O=t.position==="vertical"?Lm:jm;return h.jsx(O,{ref:ut(n,i),className:d.root,style:t.position==="vertical"&&r.listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:k=>{k.target.blur()},children:h.jsx("div",{ref:a,className:d.content})})}),Am=e=>{const{classes:t,hasScrollX:n,hasPinnedRight:o,loadingOverlayVariant:r,overlayType:l}=e;return Me({root:["main",o&&"main--hasPinnedRight",(r==="skeleton"||l==="noColumnsOverlay")&&"main--hiddenContent"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},Pe,t)},zm=$e("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScroller,n.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),Rm=e=>e.current.state.dimensions.rightPinnedWidth>0;function Vm(e){const t=pt(),n=Z(),o=K(t,Fd),r=K(t,kd),l=K(t,Rm),s=K(t,Hd),{getOverlay:i,overlaysProps:a}=Sf(),d=f({classes:n.classes,hasScrollX:r,hasPinnedRight:l},a),u=Am(d),g=t.current.virtualizer.api.useVirtualization().getters,{getContainerProps:m,getScrollerProps:p,getContentProps:v,getScrollbarVerticalProps:S,getScrollbarHorizontalProps:b,getRows:x,getScrollAreaProps:T}=g,D=x(void 0,lt(t));return h.jsxs(Pf,f({className:u.root},m(),{ownerState:d,children:[h.jsx(To,f({scrollDirection:"left"},T())),h.jsx(To,f({scrollDirection:"right"},T())),h.jsx(To,f({scrollDirection:"up"},T())),h.jsx(To,f({scrollDirection:"down"},T())),h.jsxs(zm,f({className:u.scroller},p(),{ownerState:d,children:[h.jsxs(Ef,{children:[!n.listView&&h.jsx(vf,{}),h.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:g})]}),i(),h.jsx(Hf,f({},v(),{children:h.jsxs(km,{role:"rowgroup",children:[D,h.jsx(n.slots.detailPanels,{virtualScroller:g})]})})),s&&h.jsx(Af,{rowsLength:D.length}),h.jsx(n.slots.bottomContainer,{children:h.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:g})})]})),r&&!n.listView&&h.jsx(Hs,f({position:"horizontal"},b())),o&&h.jsx(Hs,f({position:"vertical"},S())),e.children]}))}function Nm(){var t;const e=Z();return e.hideFooter?null:h.jsx(e.slots.footer,f({},(t=e.slotProps)==null?void 0:t.footer))}let Or;function Bm(){return Or===void 0&&document.createElement("div").focus({get preventScroll(){return Or=!0,!1}}),Or}function _m({defaultSlots:e,slots:t}){const n=t;if(!n||Object.keys(n).length===0)return e;const o=f({},e);return Object.keys(n).forEach(r=>{const l=r;n[l]!==void 0&&(o[l]=n[l])}),o}const Wm=e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null},Um=e=>e===Xi||Wm(e)!==null,Oa=(e,t)=>{if(e)if(t){if(e===Ee.LEFT)return"right";if(e===Ee.RIGHT)return"left"}else{if(e===Ee.LEFT)return"left";if(e===Ee.RIGHT)return"right"}};function mr(e,t,n,o){const r=Oa(n,t);return!r||o===void 0||(e[r]=o),e}const Km=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],qm=["changeReason","unstable_updateValueOnRender"];Ee.LEFT+"",Jt.LEFT,Ee.RIGHT+"",Jt.RIGHT,Ee.NONE+"",Ee.VIRTUAL+"";const Ym=e=>{const{align:t,showLeftBorder:n,showRightBorder:o,pinnedPosition:r,isEditable:l,isSelected:s,isSelectionMode:i,classes:a}=e,d={root:["cell",`cell--text${An(t)}`,s&&"selected",l&&"cell--editable",n&&"cell--withLeftBorder",o&&"cell--withRightBorder",r===Ee.LEFT&&"cell--pinnedLeft",r===Ee.RIGHT&&"cell--pinnedRight",i&&!l&&"cell--selectionMode"]};return Me(d,Pe,a)},Xm=fe(function(t,n){var ee,Re,De;const{column:o,row:r,rowId:l,rowNode:s,align:i,colIndex:a,width:d,className:u,style:g,colSpan:m,disableDragEvents:p,isNotVisible:v,pinnedOffset:S,pinnedPosition:b,showRightBorder:x,showLeftBorder:T,onClick:D,onDoubleClick:O,onMouseDown:k,onMouseUp:$,onMouseOver:E,onKeyDown:y,onKeyUp:C,onDragEnter:I,onDragOver:M}=t,j=Q(t,Km),G=pt(),z=Z(),F=Rt(),P=o.field,H=K(G,Em,{rowId:l,field:P}),W=lr().hooks.useCellAggregationResult(l,P),L=H?ze.Edit:ze.View,A=G.current.getCellParamsForRow(l,P,r,{colDef:o,cellMode:L,rowNode:s,tabIndex:K(G,()=>{const me=wl(G);return me&&me.field===P&&me.id===l?0:-1}),hasFocus:K(G,()=>{const me=ht(G);return(me==null?void 0:me.id)===l&&me.field===P})});A.api=G.current,W&&(A.value=W.value,A.formattedValue=o.valueFormatter?o.valueFormatter(A.value,r,o,G):A.value);const B=K(G,()=>G.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:l,field:P})),Y=G.current.virtualizer.store,_=Wt(Y,jn.selectors.hiddenCells),J=Wt(Y,jn.selectors.spannedCells),{hasFocus:q,isEditable:ge=!1,value:ce}=A,de=o.type==="actions"&&((ee=o.getActions)==null?void 0:ee.call(o,G.current.getRowParams(l)).some(me=>!me.props.disabled)),U=(L==="view"||!ge)&&!de?A.tabIndex:-1,{classes:X,getCellClassName:te}=z,ae=[K(G,()=>G.current.unstable_applyPipeProcessors("cellClassName",[],{id:l,field:P}).filter(Boolean).join(" "))];o.cellClassName&&ae.push(typeof o.cellClassName=="function"?o.cellClassName(A):o.cellClassName),o.display==="flex"&&ae.push(w["cell--flex"]),te&&ae.push(te(A));const he=A.formattedValue??ce,pe=c.useRef(null),ve=ut(n,pe),ke=c.useRef(null),Te=z.cellSelection??!1,se={align:i,showLeftBorder:T,showRightBorder:x,isEditable:ge,classes:z.classes,pinnedPosition:b,isSelected:B,isSelectionMode:Te},xe=Ym(se),oe=c.useCallback(me=>Be=>{const at=G.current.getCellParams(l,P||"");G.current.publishEvent(me,at,Be),$&&$(Be)},[G,P,$,l]),ue=c.useCallback(me=>Be=>{const at=G.current.getCellParams(l,P||"");G.current.publishEvent(me,at,Be),k&&k(Be)},[G,P,k,l]),Ce=c.useCallback((me,Be)=>at=>{if(!G.current.getRow(l))return;const $t=G.current.getCellParams(l,P||"");G.current.publishEvent(me,$t,at),Be&&Be(at)},[G,P,l]),Se=((Re=_[l])==null?void 0:Re[a])??!1,ye=((De=J[l])==null?void 0:De[a])??1,Ge=c.useMemo(()=>{if(v)return{padding:0,opacity:0,width:0,height:0,border:0};const me=mr(f({"--width":`${d}px`},g),F,b,S),Be=b===Ee.LEFT,at=b===Ee.RIGHT;return ye>1&&(me.height=`calc(var(--height) * ${ye})`,me.zIndex=10,(Be||at)&&(me.zIndex=40)),me},[d,v,g,S,b,F,ye]);if(c.useEffect(()=>{if(!q||L===ze.Edit)return;const me=dn(G.current.rootElementRef.current);if(pe.current&&!pe.current.contains(me.activeElement)){const Be=pe.current.querySelector('[tabindex="0"]'),at=ke.current||Be||pe.current;if(Bm())at.focus({preventScroll:!0});else{const $t=G.current.getScrollPosition();at.focus(),G.current.scroll($t)}}},[q,L,G]),Se)return h.jsx("div",{"data-colindex":a,role:"presentation",style:f({width:"var(--width)"},Ge)});let Ne=j.onFocus,qe,we;if(H===null&&o.renderCell&&(qe=o.renderCell(A)),H!==null&&o.renderEditCell){const me=G.current.getRowWithUpdatedValues(l,o.field),Be=Q(H,qm),at=o.valueFormatter?o.valueFormatter(H.value,me,o,G):A.formattedValue,$t=f({},A,{row:me,formattedValue:at},Be);qe=o.renderEditCell($t),ae.push(w["cell--editing"]),ae.push(X==null?void 0:X["cell--editing"])}if(qe===void 0){const me=he==null?void 0:he.toString();qe=me,we=me}c.isValidElement(qe)&&de&&(qe=c.cloneElement(qe,{focusElementRef:ke}));const R=p?null:{onDragEnter:Ce("cellDragEnter",I),onDragOver:Ce("cellDragOver",M)};return h.jsx("div",f({className:He(xe.root,ae,u),role:"gridcell","data-field":P,"data-colindex":a,"aria-colindex":a+1,"aria-colspan":m,"aria-rowspan":ye,style:Ge,title:we,tabIndex:U,onClick:Ce("cellClick",D),onDoubleClick:Ce("cellDoubleClick",O),onMouseOver:Ce("cellMouseOver",E),onMouseDown:ue("cellMouseDown"),onMouseUp:oe("cellMouseUp"),onKeyDown:Ce("cellKeyDown",y),onKeyUp:Ce("cellKeyUp",C)},R,j,{onFocus:Ne,ref:ve,children:qe}))}),Qm=qt(Xm),Zm=["label","icon","showInMenu","onClick"],Jm=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],$r=fe((e,t)=>{var u;const n=Z();if(!e.showInMenu){const{label:g,icon:m,onClick:p}=e,v=Q(e,Zm),S=b=>{p==null||p(b)};return h.jsx(n.slots.baseIconButton,f({size:"small",role:"menuitem","aria-label":g},v,{onClick:S},(u=n.slotProps)==null?void 0:u.baseIconButton,{ref:t,children:c.cloneElement(m,{fontSize:"small"})}))}const{label:o,icon:r,onClick:l,closeMenuOnClick:s=!0,closeMenu:i}=e,a=Q(e,Jm),d=g=>{l==null||l(g),s&&(i==null||i())};return h.jsx(n.slots.baseMenuItem,f({ref:t},a,{onClick:d,iconStart:r,children:o}))}),ep=["field","type","align","width","height","empty","style","className"],Os="1.3em",tp="1.2em",$s=[40,80],np={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},op=e=>{const{align:t,classes:n,empty:o}=e,r={root:["cell","cellSkeleton",`cell--text${t?An(t):"Left"}`,o&&"cellEmpty"]};return Me(r,Pe,n)},rp=Cg(12345);function lp(e){const{field:t,type:n,align:o,width:r,height:l,empty:s=!1,style:i,className:a}=e,d=Q(e,ep),u=Z(),g={classes:u.classes,align:o,empty:s},m=op(g),p=c.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:Os,height:Os};const[S,b]=n?np[n]??$s:$s;return{variant:"text",width:`${Math.round(rp(S,b))}%`,height:tp}},[n]);return h.jsx("div",f({"data-field":t,className:He(m.root,a),style:f({height:l,maxWidth:r,minWidth:r},i)},d,{children:!s&&h.jsx(u.slots.baseSkeleton,f({},p))}))}const sp=qt(lp),ip=10,Do=-5,vn=1,Gs={width:3,rx:1.5,x:10.5},ap="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",cp=e=>e.current.state.dimensions.hasScrollX&&(!e.current.state.dimensions.hasScrollY||e.current.state.dimensions.scrollbarSize===0),up=_e("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${w.autoHeight}`]:t.autoHeight},{[`&.${w.autosizing}`]:t.autosizing},{[`&.${w["root--densityStandard"]}`]:t["root--densityStandard"]},{[`&.${w["root--densityComfortable"]}`]:t["root--densityComfortable"]},{[`&.${w["root--densityCompact"]}`]:t["root--densityCompact"]},{[`&.${w["root--disableUserSelection"]}`]:t["root--disableUserSelection"]},{[`&.${w["root--noToolbar"]}`]:t["root--noToolbar"]},{[`&.${w.withVerticalBorder}`]:t.withVerticalBorder},{[`& .${w.actionsCell}`]:t.actionsCell},{[`& .${w.booleanCell}`]:t.booleanCell},{[`& .${w.cell}`]:t.cell},{[`& .${w["cell--editable"]}`]:t["cell--editable"]},{[`& .${w["cell--editing"]}`]:t["cell--editing"]},{[`& .${w["cell--flex"]}`]:t["cell--flex"]},{[`& .${w["cell--pinnedLeft"]}`]:t["cell--pinnedLeft"]},{[`& .${w["cell--pinnedRight"]}`]:t["cell--pinnedRight"]},{[`& .${w["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${w["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${w["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${w["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${w["cell--selectionMode"]}`]:t["cell--selectionMode"]},{[`& .${w["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${w["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${w["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${w["cell--withLeftBorder"]}`]:t["cell--withLeftBorder"]},{[`& .${w["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${w.cellCheckbox}`]:t.cellCheckbox},{[`& .${w.cellEmpty}`]:t.cellEmpty},{[`& .${w.cellOffsetLeft}`]:t.cellOffsetLeft},{[`& .${w.cellSkeleton}`]:t.cellSkeleton},{[`& .${w.checkboxInput}`]:t.checkboxInput},{[`& .${w.columnHeader}`]:t.columnHeader},{[`& .${w["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${w["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${w["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${w["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${w["columnHeader--emptyGroup"]}`]:t["columnHeader--emptyGroup"]},{[`& .${w["columnHeader--filledGroup"]}`]:t["columnHeader--filledGroup"]},{[`& .${w["columnHeader--filtered"]}`]:t["columnHeader--filtered"]},{[`& .${w["columnHeader--last"]}`]:t["columnHeader--last"]},{[`& .${w["columnHeader--lastUnpinned"]}`]:t["columnHeader--lastUnpinned"]},{[`& .${w["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${w["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${w["columnHeader--pinnedLeft"]}`]:t["columnHeader--pinnedLeft"]},{[`& .${w["columnHeader--pinnedRight"]}`]:t["columnHeader--pinnedRight"]},{[`& .${w["columnHeader--siblingFocused"]}`]:t["columnHeader--siblingFocused"]},{[`& .${w["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${w["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${w["columnHeader--withLeftBorder"]}`]:t["columnHeader--withLeftBorder"]},{[`& .${w["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${w.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${w.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${w.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${w.columnHeaderTitleContainerContent}`]:t.columnHeaderTitleContainerContent},{[`& .${w.columnSeparator}`]:t.columnSeparator},{[`& .${w["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${w["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${w["columnSeparator--sideLeft"]}`]:t["columnSeparator--sideLeft"]},{[`& .${w["columnSeparator--sideRight"]}`]:t["columnSeparator--sideRight"]},{[`& .${w["container--bottom"]}`]:t["container--bottom"]},{[`& .${w["container--top"]}`]:t["container--top"]},{[`& .${w.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${w["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},{[`& .${w.editBooleanCell}`]:t.editBooleanCell},{[`& .${w.filterIcon}`]:t.filterIcon},{[`& .${w["filler--borderBottom"]}`]:t["filler--borderBottom"]},{[`& .${w["filler--pinnedLeft"]}`]:t["filler--pinnedLeft"]},{[`& .${w["filler--pinnedRight"]}`]:t["filler--pinnedRight"]},{[`& .${w.groupingCriteriaCell}`]:t.groupingCriteriaCell},{[`& .${w.groupingCriteriaCellLoadingContainer}`]:t.groupingCriteriaCellLoadingContainer},{[`& .${w.groupingCriteriaCellToggle}`]:t.groupingCriteriaCellToggle},{[`& .${w.headerFilterRow}`]:t.headerFilterRow},{[`& .${w.iconSeparator}`]:t.iconSeparator},{[`& .${w.menuIcon}`]:t.menuIcon},{[`& .${w.menuIconButton}`]:t.menuIconButton},{[`& .${w.menuList}`]:t.menuList},{[`& .${w.menuOpen}`]:t.menuOpen},{[`& .${w.overlayWrapperInner}`]:t.overlayWrapperInner},{[`& .${w.pinnedRows}`]:t.pinnedRows},{[`& .${w["pinnedRows--bottom"]}`]:t["pinnedRows--bottom"]},{[`& .${w["pinnedRows--top"]}`]:t["pinnedRows--top"]},{[`& .${w.row}`]:t.row},{[`& .${w["row--borderBottom"]}`]:t["row--borderBottom"]},{[`& .${w["row--detailPanelExpanded"]}`]:t["row--detailPanelExpanded"]},{[`& .${w["row--dragging"]}`]:t["row--dragging"]},{[`& .${w["row--dynamicHeight"]}`]:t["row--dynamicHeight"]},{[`& .${w["row--editable"]}`]:t["row--editable"]},{[`& .${w["row--editing"]}`]:t["row--editing"]},{[`& .${w["row--firstVisible"]}`]:t["row--firstVisible"]},{[`& .${w["row--lastVisible"]}`]:t["row--lastVisible"]},{[`& .${w.rowReorderCell}`]:t.rowReorderCell},{[`& .${w["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${w.rowReorderCellContainer}`]:t.rowReorderCellContainer},{[`& .${w.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${w.rowSkeleton}`]:t.rowSkeleton},{[`& .${w.scrollbar}`]:t.scrollbar},{[`& .${w["scrollbar--horizontal"]}`]:t["scrollbar--horizontal"]},{[`& .${w["scrollbar--vertical"]}`]:t["scrollbar--vertical"]},{[`& .${w.scrollbarFiller}`]:t.scrollbarFiller},{[`& .${w["scrollbarFiller--borderBottom"]}`]:t["scrollbarFiller--borderBottom"]},{[`& .${w["scrollbarFiller--borderTop"]}`]:t["scrollbarFiller--borderTop"]},{[`& .${w["scrollbarFiller--header"]}`]:t["scrollbarFiller--header"]},{[`& .${w["scrollbarFiller--pinnedRight"]}`]:t["scrollbarFiller--pinnedRight"]},{[`& .${w.sortIcon}`]:t.sortIcon},{[`& .${w.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${w.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${w.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${w.withBorderColor}`]:t.withBorderColor},{[`& .${w["row--dropAbove"]}`]:t["row--dropAbove"]},{[`& .${w["row--dropBelow"]}`]:t["row--dropBelow"]},{[`& .${w["row--beingDragged"]}`]:t["row--beingDragged"]}]})(()=>{const e=pt(),t=K(e,cp),n=ne.colors.background.base,o=ne.header.background.base,r=ne.cell.background.pinned,l=dp(ne.colors.interactive.hover),s=ne.colors.interactive.hoverOpacity,i=ne.colors.interactive.selected,a=ne.colors.interactive.selectedOpacity,d=i,u=`calc(${a} + ${s})`,g=Qt(n,l,s),m=Qt(n,i,a),p=Qt(n,d,u),v=Qt(r,l,s),S=Qt(r,i,a),b=Qt(r,d,u),x=E=>({[`& .${w["cell--pinnedLeft"]}, & .${w["cell--pinnedRight"]}`]:{backgroundColor:E,"&.Mui-selected":{backgroundColor:Qt(E,m,a),"&:hover":{backgroundColor:Qt(E,p,u)}}}}),T=x(v),D=x(S),O=x(b),k={backgroundColor:m,"&:hover":{backgroundColor:p,"@media (hover: none)":{backgroundColor:m}}};return{"--unstable_DataGrid-radius":ne.radius.base,"--unstable_DataGrid-headWeight":ne.typography.fontWeight.medium,"--DataGrid-rowBorderColor":ne.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:ne.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:ne.colors.background.base,color:ne.colors.foreground.base,font:ne.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${w.main} > *:first-child${ap}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${w.autoHeight}`]:{height:"auto"},[`&.${w.autosizing}`]:{[`& .${w.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${w.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${w.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${w.groupingCriteriaCell}`]:{width:"unset"},[`& .${w.treeDataGroupingCell}`]:{width:"unset"}},[`&.${w.withSidePanel}`]:{flexDirection:"row"},[`& .${w.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${w.columnHeader}, & .${w.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${w.columnHeader}:focus-within, & .${w.cell}:focus-within`]:{outline:`solid ${$a(ne.colors.interactive.focus,.5)} ${vn}px`,outlineOffset:vn*-1},[`& .${w.columnHeader}:focus, & .${w.cell}:focus`]:{outline:`solid ${ne.colors.interactive.focus} ${vn}px`,outlineOffset:vn*-1},[`& .${w.columnHeader}:focus,
      & .${w["columnHeader--withLeftBorder"]},
      & .${w["columnHeader--withRightBorder"]},
      & .${w["columnHeader--siblingFocused"]},
      & .${w["virtualScroller--hasScrollX"]} .${w["columnHeader--lastUnpinned"]},
      & .${w["virtualScroller--hasScrollX"]} .${w["columnHeader--last"]}
      `]:{[`& .${w.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${w["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${w["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${w["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${w["root--noToolbar"]} [aria-rowindex="1"] .${w["columnHeader--last"]}`]:{borderTopRightRadius:t?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${w.columnHeaderCheckbox}, & .${w.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${w.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:o},[`& .${w["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${w["virtualScroller--hasScrollX"]} .${w["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${w["pivotPanelField--sorted"]} .${w.iconButtonContainer},
      & .${w["columnHeader--sorted"]} .${w.iconButtonContainer},
      & .${w["columnHeader--filtered"]} .${w.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${w.pivotPanelField}:not(.${w["pivotPanelField--sorted"]}) .${w.sortButton},
      & .${w.columnHeader}:not(.${w["columnHeader--sorted"]}) .${w.sortButton}`]:{opacity:0,transition:ne.transition(["opacity"],{duration:ne.transitions.duration.short})},[`& .${w.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:ne.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${w.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${w["columnHeader--filledGroup"]} .${w.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${w.sortIcon}, & .${w.filterIcon}`]:{fontSize:"inherit"},[`& .${w["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${w["columnHeader--alignCenter"]} .${w.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${w["columnHeader--alignRight"]} .${w.columnHeaderDraggableContainer}, & .${w["columnHeader--alignRight"]} .${w.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${w["columnHeader--alignCenter"]} .${w.menuIcon}`]:{marginLeft:"auto"},[`& .${w["columnHeader--alignRight"]} .${w.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${w["columnHeader--moving"]}`]:{backgroundColor:g},[`& .${w["columnHeader--pinnedLeft"]}, & .${w["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:ne.header.background.base},[`& .${w.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:ip,color:ne.colors.border.base},[`& .${w.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:o},"@media (hover: hover)":{[`& .${w.columnHeader}:hover`]:{[`& .${w.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${w.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${w.columnHeader}:not(.${w["columnHeader--sorted"]}):hover .${w.sortButton},
        & .${w.pivotPanelField}:not(.${w["pivotPanelField--sorted"]}):hover .${w.sortButton},
        & .${w.pivotPanelField}:not(.${w["pivotPanelField--sorted"]}) .${w.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${w.columnHeader} .${w.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${w.columnHeader}:focus,
        & .${w["columnHeader--siblingFocused"]}`]:{[`.${w["columnSeparator--resizable"]}`]:{color:ne.colors.foreground.accent}},[`& .${w.pivotPanelField}:not(.${w["pivotPanelField--sorted"]}) .${w.sortButton}`]:{opacity:.5}},[`& .${w["columnSeparator--sideLeft"]}`]:{left:Do},[`& .${w["columnSeparator--sideRight"]}`]:{right:Do},[`& .${w["columnHeader--withRightBorder"]} .${w["columnSeparator--sideLeft"]}`]:{left:Do-.5},[`& .${w["columnHeader--withRightBorder"]} .${w["columnSeparator--sideRight"]}`]:{right:Do-.5},[`& .${w["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${w["columnSeparator--resizing"]}`]:{color:ne.colors.foreground.accent},"@media (hover: none)":{[`& .${w.iconSeparator} rect`]:Gs},"@media (hover: hover)":{"&:hover":{color:ne.colors.foreground.accent,[`& .${w.iconSeparator} rect`]:Gs}},"& svg":{pointerEvents:"none"}},[`& .${w.iconSeparator}`]:{color:"inherit",transition:ne.transition(["color","width"],{duration:ne.transitions.duration.short})},[`& .${w.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${w.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${w.headerFilterRow}`]:{[`& .${w.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${w["row--borderBottom"]} .${w.columnHeader},
      & .${w["row--borderBottom"]} .${w.filler},
      & .${w["row--borderBottom"]} .${w.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${w["row--borderBottom"]} .${w.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${w.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${w["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:g,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${w.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":k},[`& .${w.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":k},[`& .${w["virtualScrollerContent--overflowed"]} .${w["row--lastVisible"]} .${w.cell}`]:{borderTopColor:"transparent"},[`& .${w.pinnedRows} .${w.row}, .${w.aggregationRowOverlayWrapper} .${w.row}`]:{backgroundColor:r,"&:hover":{backgroundColor:v}},[`& .${w["pinnedRows--top"]} :first-of-type`]:{[`& .${w.cell}, .${w.scrollbarFiller}`]:{borderTop:"none"}},[`&.${w["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${w["row--dynamicHeight"]} > .${w.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${w.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${w.cell}.${w["cell--selectionMode"]}`]:{cursor:"default"},[`& .${w.cell}.${w["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:ne.shadows.base,backgroundColor:ne.colors.background.overlay,"&:focus-within":{outline:`${vn}px solid ${ne.colors.interactive.focus}`,outlineOffset:vn*-1}},[`& .${w["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${w["row--editing"]}`]:{boxShadow:ne.shadows.base},[`& .${w["row--editing"]} .${w.cell}`]:{boxShadow:"none",backgroundColor:ne.colors.background.overlay},[`& .${w.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${w.booleanCell}[data-value="true"]`]:{color:ne.colors.foreground.muted},[`& .${w.booleanCell}[data-value="false"]`]:{color:ne.colors.foreground.disabled},[`& .${w.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:ne.spacing(1)},[`& .${w.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:ne.colors.interactive.disabledOpacity},[`& .${w["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${w.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${w.withBorderColor}`]:{borderColor:ne.colors.border.base},[`& .${w["cell--withLeftBorder"]}, & .${w["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${w["cell--withRightBorder"]}, & .${w["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${w["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${w["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${w["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${w["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${w["cell--pinnedLeft"]}, & .${w["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:ne.cell.background.pinned,"&.Mui-selected":{backgroundColor:S}},[`& .${w.row}`]:{"&:hover":T,"&.Mui-selected":D,"&.Mui-selected:hover":O},[`& .${w.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${w.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${w.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${w.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${w["columnHeader--dragging"]}, & .${w["row--dragging"]}`]:{background:ne.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:ne.colors.interactive.disabledOpacity},[`& .${w["row--dragging"]}`]:{background:ne.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:ne.colors.interactive.disabledOpacity,[`& .${w.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${w.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${w.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:ne.spacing(2)},[`& .${w.treeDataGroupingCellLoadingContainer}, .${w.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${w.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${w.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:ne.spacing(2)},[`& .${w.columnHeaders} .${w.scrollbarFiller}`]:{backgroundColor:o},[`.${w.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${w["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${w["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${w["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:ne.cell.background.pinned,position:"sticky",zIndex:40,right:0}},[`& .${w.filler}`]:{flex:"1 0 auto"},[`& .${w["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${w.columnHeaders} .${w.filler}`]:{backgroundColor:o},[`& .${w["main--hiddenContent"]}`]:{[`& .${w.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${w["scrollbar--vertical"]}, & .${w.pinnedRows}, & .${w.virtualScroller} > .${w.filler}`]:{display:"none"}},[`& .${w["row--dropAbove"]}`]:{position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:ne.colors.interactive.selected}},[`& .${w["row--dropBelow"]}`]:{position:"relative","&::before":{content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:ne.colors.interactive.selected},[`&.${w["row--lastVisible"]}`]:{"&::before":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${w["row--beingDragged"]}`]:{backgroundColor:ne.colors.background.overlay,color:ne.colors.foreground.disabled}}});function $a(e,t){return`rgba(from ${e} r g b / ${t})`}function dp(e){return $a(e,1)}function Qt(e,t,n){return`color-mix(in srgb,${e}, ${t} calc(${n} * 100%))`}const gp=()=>()=>{},hp=()=>!1,fp=()=>!0,mp=()=>gi.useSyncExternalStore(gp,hp,fp),Ga=c.createContext(void 0);function So(){const e=c.useContext(Ga);if(e===void 0)throw new Error("MUI X: Missing context.");return e}function pp({children:e}){const t=c.useRef(null),n=c.useRef(null),o=c.useRef(null),r=c.useMemo(()=>({columnsPanelTriggerRef:t,filterPanelTriggerRef:n,aiAssistantPanelTriggerRef:o}),[]);return h.jsx(Ga.Provider,{value:r,children:e})}function bp(){var d;const e=be(),t=K(e,yt),n=Z(),o=K(e,Kt),{columnsPanelTriggerRef:r,filterPanelTriggerRef:l,aiAssistantPanelTriggerRef:s}=So(),i=e.current.unstable_applyPipeProcessors("preferencePanel",null,o.openedPanelValue??ot.filters);let a=null;switch(o.openedPanelValue){case ot.filters:a=l.current;break;case ot.columns:a=r.current;break;case ot.aiAssistant:a=s.current;break}return h.jsx(n.slots.panel,f({id:o.panelId,open:t.length>0&&o.open,"aria-labelledby":o.labelId,target:a,onClose:()=>e.current.hidePreferences()},(d=n.slotProps)==null?void 0:d.panel,{children:i}))}function Cp(){var t;const e=Z();return h.jsxs(c.Fragment,{children:[h.jsx(bp,{}),e.showToolbar&&h.jsx(e.slots.toolbar,f({},(t=e.slotProps)==null?void 0:t.toolbar))]})}const wp=["className","children","sidePanel"],xp=(e,t)=>{const{autoHeight:n,classes:o,showCellVerticalBorder:r}=e,l={root:["root",n&&"autoHeight",`root--density${An(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",r&&"withVerticalBorder"]};return Me(l,Pe,o)},Sp=fe(function(t,n){const o=Z(),{className:r,children:l,sidePanel:s}=t,i=Q(t,wp),a=pt(),d=K(a,cn),u=a.current.rootElementRef,g=c.useCallback(x=>{x!==null&&a.current.publishEvent("rootMount",x)},[a]),m=ut(u,n,g),p=o,v=xp(p,d),S=Gg();return mp()?null:h.jsxs(up,f({className:He(v.root,r,S.className,s&&w.withSidePanel),ownerState:p},i,{ref:m,children:[h.jsxs("div",{className:w.mainContent,role:"presentation",children:[h.jsx(Cp,{}),h.jsx(Vm,{children:l}),h.jsx(Nm,{})]}),s,S.tag]}))}),yp=qt(Sp),vp=["className"],Ip=e=>{const{classes:t}=e;return Me({root:["footerContainer","withBorderColor"]},Pe,t)},Mp=$e("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),Pp=fe(function(t,n){const{className:o}=t,r=Q(t,vp),l=Z(),s=Ip(l);return h.jsx(Mp,f({className:He(s.root,o),ownerState:l},r,{ref:n}))}),kp=["className"],Fp=e=>{const{classes:t}=e;return Me({root:["overlay"]},Pe,t)},Ep=$e("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:ne.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:ne.colors.background.backdrop}),pr=fe(function(t,n){const{className:o}=t,r=Q(t,kp),l=Z(),s=Fp(l);return h.jsx(Ep,f({className:He(s.root,o),ownerState:l},r,{ref:n}))});function Nt(e,t,n,o={}){return typeof t=="function"?t(n,o):t?(t.props.className&&(n.className=Tp(t.props.className,n.className)),(t.props.style||n.style)&&(n.style=f({},n.style,t.props.style)),c.cloneElement(t,n)):c.createElement(e,n)}function Tp(e,t){return!e||!t?e||t:`${e} ${t}`}const La=c.createContext(void 0);function Dp(){const e=c.useContext(La);if(e===void 0)throw new Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return e}function Hp(e,t){if(!e.ref.current||!t.ref.current)return 0;const n=e.ref.current.compareDocumentPosition(t.ref.current);return n?n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}const Op=["render","className"],$p=e=>{const{classes:t}=e;return Me({root:["toolbar"]},Pe,t)},Gp=$e("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:ne.spacing(.25),padding:ne.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${ne.colors.border.base}`}),ja=fe(function(t,n){const{render:o,className:r}=t,l=Q(t,Op),s=Z(),i=$p(s),[a,d]=c.useState(null),[u,g]=c.useState([]),m=c.useCallback(()=>u.sort(Hp),[u]),p=c.useCallback((k,$,E=!0)=>{var M,j;let y=k;const C=m(),I=C.length;for(let G=0;G<I;G+=1){if(y+=$,y>=I){if(!E)return-1;y=0}else if(y<0){if(!E)return-1;y=I-1}if(!((M=C[y].ref.current)!=null&&M.disabled)&&((j=C[y].ref.current)==null?void 0:j.ariaDisabled)!=="true")return y}return-1},[m]),v=c.useCallback((k,$)=>{g(E=>[...E,{id:k,ref:$}])},[]),S=c.useCallback(k=>{g($=>$.filter(E=>E.id!==k))},[]),b=c.useCallback(k=>{var C;if(!a)return;const $=m(),E=$.findIndex(I=>I.id===a);let y=-1;if(k.key==="ArrowRight"?(k.preventDefault(),y=p(E,1)):k.key==="ArrowLeft"?(k.preventDefault(),y=p(E,-1)):k.key==="Home"?(k.preventDefault(),y=p(-1,1,!1)):k.key==="End"&&(k.preventDefault(),y=p($.length,-1,!1)),y>=0&&y<$.length){const I=$[y];d(I.id),(C=I.ref.current)==null||C.focus()}},[m,a,p]),x=c.useCallback(k=>{a!==k&&d(k)},[a,d]),T=c.useCallback(k=>{var C;const $=m(),E=$.findIndex(I=>I.id===k),y=p(E,1);if(y>=0&&y<$.length){const I=$[y];d(I.id),(C=I.ref.current)==null||C.focus()}},[m,p]);c.useEffect(()=>{var $,E;const k=m();if(k.length>0){if(!a){d(k[0].id);return}const y=k.findIndex(C=>C.id===a);if(k[y]){if(y===-1){const C=k[y];C&&(d(C.id),(E=C.ref.current)==null||E.focus())}}else{const C=k[k.length-1];C&&(d(C.id),($=C.ref.current)==null||$.focus())}}},[m,p]);const D=c.useMemo(()=>({focusableItemId:a,registerItem:v,unregisterItem:S,onItemKeyDown:b,onItemFocus:x,onItemDisabled:T}),[a,v,S,b,x,T]),O=Nt(Gp,o,f({role:"toolbar","aria-orientation":"horizontal","aria-label":s.label||void 0,className:He(i.root,r)},l,{ref:n}));return h.jsx(La.Provider,{value:D,children:O})}),Lp=["render","onKeyDown","onFocus","disabled","aria-disabled"],zo=fe(function(t,n){var y;const{render:o,onKeyDown:r,onFocus:l,disabled:s,"aria-disabled":i}=t,a=Q(t,Lp),d=Oe(),u=Z(),g=c.useRef(null),m=ut(g,n),{focusableItemId:p,registerItem:v,unregisterItem:S,onItemKeyDown:b,onItemFocus:x,onItemDisabled:T}=Dp(),D=C=>{b(C),r==null||r(C)},O=C=>{x(d),l==null||l(C)};c.useEffect(()=>(v(d,g),()=>S(d)),[]);const k=c.useRef(s);c.useEffect(()=>{k.current!==s&&s===!0&&T(d,s),k.current=s},[s,d,T]);const $=c.useRef(i);c.useEffect(()=>{$.current!==i&&i===!0&&T(d,!0),$.current=i},[i,d,T]);const E=Nt(u.slots.baseIconButton,o,f({},(y=u.slotProps)==null?void 0:y.baseIconButton,{tabIndex:p===d?0:-1},a,{disabled:s,"aria-disabled":i,onKeyDown:D,onFocus:O,ref:m}));return h.jsx(c.Fragment,{children:E})}),jp=["className","children"],Ap=e=>{const{classes:t}=e;return Me({root:["toolbarContainer"]},Pe,t)},zp=$e(ja,{name:"MuiDataGrid",slot:"ToolbarContainer",shouldForwardProp:e=>e!=="ownerState"})({display:"flex",alignItems:"center",flexWrap:"wrap",gap:ne.spacing(1),padding:ne.spacing(.5),minHeight:"auto"}),Rp=fe(function(t,n){const{className:o,children:r}=t,l=Q(t,jp),s=Z(),i=Ap(s);return r?h.jsx(zp,f({className:He(i.root,o),ownerState:s},l,{ref:n,children:r})):null}),Vp=e=>{const{classes:t,open:n}=e;return Me({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},Pe,t)},Np=c.memo(e=>{var m,p;const{colDef:t,open:n,columnMenuId:o,columnMenuButtonId:r,iconButtonRef:l}=e,s=be(),i=Z(),a=f({},e,{classes:i.classes}),d=Vp(a),u=c.useCallback(v=>{v.preventDefault(),v.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]),g=t.headerName??t.field;return h.jsx("div",{className:d.root,children:h.jsx(i.slots.baseTooltip,f({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(m=i.slotProps)==null?void 0:m.baseTooltip,{children:h.jsx(i.slots.baseIconButton,f({ref:l,tabIndex:-1,className:d.button,"aria-label":s.current.getLocaleText("columnMenuAriaLabel")(g),size:"small",onClick:u,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?o:void 0,id:r},(p=i.slotProps)==null?void 0:p.baseIconButton,{children:h.jsx(i.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function Bp({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:o,field:r,open:l,target:s,onExited:i}){const a=be(),d=a.current.getColumn(r),u=Fe(g=>{g&&(g.stopPropagation(),s!=null&&s.contains(g.target))||a.current.hideColumnMenu()});return!s||!d?null:h.jsx(mo,{position:`bottom-${d.align==="right"?"start":"end"}`,open:l,target:s,onClose:u,onExited:i,children:h.jsx(n,f({colDef:d,hideMenu:u,open:l,id:e,labelledby:t},o))})}function _p(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Xo(e,t){return e.closest(`.${t}`)}function Xt(e){return e.replace(/["\\]/g,"\\$&")}function Wp(e,t){return e.querySelector(`[role="columnheader"][data-field="${Xt(t)}"]`)}function Aa(e){return`.${w.row}[data-id="${Xt(String(e))}"]`}function Up(e,t){return e.querySelector(Aa(t))}function Kp(e,{id:t,field:n}){const o=Aa(t),r=`.${w.cell}[data-field="${Xt(n)}"]`,l=`${o} ${r}`;return e.querySelector(l)}function yo(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function qp(e){return e.getAttribute("data-field")}function Yp(e,t){return e.querySelector(`[data-field="${Xt(t)}"]`)}function Xp(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function Qp(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${Xt(t)}-|"]`)??[])}function Zp(e,t){var s;if(!Xo(e,w.root))throw new Error("MUI X: The root element is not found.");const o=e.getAttribute("aria-colindex");if(!o)return[];const r=Number(o)-1,l=[];return(s=t.virtualScrollerRef)!=null&&s.current?(Va(t).forEach(i=>{const a=i.getAttribute("data-id");if(!a)return;let d=r;const u=t.unstable_getCellColSpanInfo(a,r);u&&u.spannedByColSpan&&(d=u.leftVisibleCellIndex);const g=i.querySelector(`[data-colindex="${d}"]`);g&&l.push(g)}),l):[]}function Ls(e,t){return e.rootElementRef.current.querySelector(`.${w[t]}`)}const za=({api:e,colIndex:t,position:n,filterFn:o})=>{if(t===null)return[];const r=[];return Va(e).forEach(l=>{l.getAttribute("data-id")&&l.querySelectorAll(`.${w[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(i=>{const a=_n(i);a!==null&&o(a)&&r.push(i)})}),r};function Jp(e,t,n){const o=_n(t);return za({api:e,colIndex:o,position:n?"right":"left",filterFn:r=>n?r<o:r>o})}function eb(e,t,n){const o=_n(t);return za({api:e,colIndex:o,position:n?"left":"right",filterFn:r=>n?r>o:r<o})}const Ra=({api:e,colIndex:t,position:n,filterFn:o})=>{var l;if(!((l=e.columnHeadersContainerRef)!=null&&l.current))return[];if(t===null)return[];const r=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${w[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(s=>{const i=_n(s);i!==null&&o(i,s)&&r.push(s)}),r};function tb(e,t,n){const o=_n(t);return Ra({api:e,position:n?"right":"left",colIndex:o,filterFn:r=>n?r<o:r>o})}function nb(e,t,n){const o=_n(t);return Ra({api:e,position:n?"left":"right",colIndex:o,filterFn:(r,l)=>l.classList.contains(w["columnHeader--last"])?!1:n?r>o:r<o})}function ob(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${Xt(t)}"][role="columnheader"]`)}function rb(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${Xt(t)}"][role="gridcell"]`))}function Va(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${w.row}`)}function _n(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const lb=["className","aria-label"],sb=e=>{const{classes:t}=e;return Me({root:["columnHeaderTitle"]},Pe,t)},ib=$e("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),ab=fe(function(t,n){const{className:o}=t,r=Q(t,lb),l=Z(),s=sb(l);return h.jsx(ib,f({className:He(s.root,o),ownerState:l},r,{ref:n}))});function cb(e){var a;const{label:t,description:n}=e,o=Z(),r=c.useRef(null),[l,s]=c.useState(""),i=c.useCallback(()=>{if(!n&&(r!=null&&r.current)){const d=_p(r.current);s(d?t:"")}},[n,t]);return h.jsx(o.slots.baseTooltip,f({title:n||l},(a=o.slotProps)==null?void 0:a.baseTooltip,{children:h.jsx(ab,{onMouseOver:i,ref:r,children:t})}))}const ub=["resizable","resizing","height","side"];var vl=function(e){return e.Left="left",e.Right="right",e}(vl||{});const db=e=>{const{resizable:t,resizing:n,classes:o,side:r}=e,l={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",r&&`columnSeparator--side${An(r)}`],icon:["iconSeparator"]};return Me(l,Pe,o)};function gb(e){const{height:t,side:n=vl.Right}=e,o=Q(e,ub),r=Z(),l=f({},e,{side:n,classes:r.classes}),s=db(l),i=c.useCallback(a=>{a.preventDefault(),a.stopPropagation()},[]);return h.jsx("div",f({className:s.root,style:{minHeight:t}},o,{onClick:i,children:h.jsx(r.slots.columnResizeIcon,{className:s.icon})}))}const hb=c.memo(gb),fb=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],Na=fe(function(t,n){const{classes:o,colIndex:r,height:l,isResizing:s,sortDirection:i,hasFocus:a,tabIndex:d,separatorSide:u,isDraggable:g,headerComponent:m,description:p,width:v,columnMenuIconButton:S=null,columnMenu:b=null,columnTitleIconButtons:x=null,headerClassName:T,label:D,resizable:O,draggableContainerProps:k,columnHeaderSeparatorProps:$,style:E}=t,y=Q(t,fb),C=pt(),I=Z(),M=c.useRef(null),j=ut(M,n);let G="none";return i!=null&&(G=i==="asc"?"ascending":"descending"),c.useLayoutEffect(()=>{var F;const z=C.current.state.columnMenu;if(a&&!z.open){const H=M.current.querySelector('[tabindex="0"]')||M.current;H==null||H.focus(),(F=C.current.columnHeadersContainerRef)!=null&&F.current&&(C.current.columnHeadersContainerRef.current.scrollLeft=0)}},[C,a]),h.jsxs("div",f({className:He(o.root,T),style:f({},E,{width:v}),role:"columnheader",tabIndex:d,"aria-colindex":r+1,"aria-sort":G},y,{ref:j,children:[h.jsxs("div",f({className:o.draggableContainer,draggable:g,role:"presentation"},k,{children:[h.jsxs("div",{className:o.titleContainer,role:"presentation",children:[h.jsx("div",{className:o.titleContainerContent,children:m!==void 0?m:h.jsx(cb,{label:D,description:p,columnWidth:v})}),x]}),S]})),h.jsx(hb,f({resizable:!I.disableColumnResize&&!!O,resizing:s,height:l,side:u},$)),b]}))}),mb=e=>{const{disableColumnSorting:t}=Z(),{colDef:n,classes:o,isDragging:r,sortDirection:l,showRightBorder:s,showLeftBorder:i,filterItemsCounter:a,pinnedPosition:d,isLastUnpinned:u,isSiblingFocused:g}=e,m=n.sortable&&!t,p=l!=null,v=a!=null&&a>0,S=n.type==="number",b={root:["columnHeader",n.headerAlign==="left"&&"columnHeader--alignLeft",n.headerAlign==="center"&&"columnHeader--alignCenter",n.headerAlign==="right"&&"columnHeader--alignRight",m&&"columnHeader--sortable",r&&"columnHeader--moving",p&&"columnHeader--sorted",v&&"columnHeader--filtered",S&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",i&&"columnHeader--withLeftBorder",d===Ee.LEFT&&"columnHeader--pinnedLeft",d===Ee.RIGHT&&"columnHeader--pinnedRight",u&&"columnHeader--lastUnpinned",g&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Me(b,Pe,o)};function pb(e){var ce,de,U;const{colDef:t,columnMenuOpen:n,colIndex:o,headerHeight:r,isResizing:l,isLast:s,sortDirection:i,sortIndex:a,filterItemsCounter:d,hasFocus:u,tabIndex:g,disableReorder:m,separatorSide:p,showLeftBorder:v,showRightBorder:S,pinnedPosition:b,pinnedOffset:x}=e,T=pt(),D=Z(),O=Rt(),k=c.useRef(null),$=Oe(),E=Oe(),y=c.useRef(null),[C,I]=c.useState(n),M=c.useMemo(()=>!D.disableColumnReorder&&!m&&!t.disableReorder,[D.disableColumnReorder,m,t.disableReorder]);let j;t.renderHeader&&(j=t.renderHeader(T.current.getColumnHeaderParams(t.field)));const G=f({},e,{classes:D.classes,showRightBorder:S,showLeftBorder:v}),z=mb(G),F=c.useCallback(X=>te=>{yo(te)||T.current.publishEvent(X,T.current.getColumnHeaderParams(t.field),te)},[T,t.field]),P=c.useMemo(()=>({onClick:F("columnHeaderClick"),onContextMenu:F("columnHeaderContextMenu"),onDoubleClick:F("columnHeaderDoubleClick"),onMouseOver:F("columnHeaderOver"),onMouseOut:F("columnHeaderOut"),onMouseEnter:F("columnHeaderEnter"),onMouseLeave:F("columnHeaderLeave"),onKeyDown:F("columnHeaderKeyDown"),onFocus:F("columnHeaderFocus"),onBlur:F("columnHeaderBlur")}),[F]),H=c.useMemo(()=>M?{onDragStart:F("columnHeaderDragStart"),onDragEnter:F("columnHeaderDragEnter"),onDragOver:F("columnHeaderDragOver"),onDragEndCapture:F("columnHeaderDragEnd")}:{},[M,F]),V=c.useMemo(()=>({onMouseDown:F("columnSeparatorMouseDown"),onDoubleClick:F("columnSeparatorDoubleClick")}),[F]);c.useEffect(()=>{C||I(n)},[C,n]);const W=c.useCallback(()=>{I(!1)},[]),L=!D.disableColumnMenu&&!t.disableColumnMenu&&h.jsx(Np,{colDef:t,columnMenuId:$,columnMenuButtonId:E,open:C,iconButtonRef:y}),A=h.jsx(Bp,{columnMenuId:$,columnMenuButtonId:E,field:t.field,open:n,target:y.current,ContentComponent:D.slots.columnMenu,contentComponentProps:(ce=D.slotProps)==null?void 0:ce.columnMenu,onExited:W}),B=t.sortingOrder??D.sortingOrder,Y=(t.sortable||i!=null)&&!t.hideSortIcons&&!D.disableColumnSorting,_=h.jsxs(c.Fragment,{children:[!D.disableColumnFilter&&h.jsx(D.slots.columnHeaderFilterIconButton,f({field:t.field,counter:d},(de=D.slotProps)==null?void 0:de.columnHeaderFilterIconButton)),Y&&h.jsx(D.slots.columnHeaderSortIcon,f({field:t.field,direction:i,index:a,sortingOrder:B,disabled:!t.sortable},(U=D.slotProps)==null?void 0:U.columnHeaderSortIcon))]});c.useLayoutEffect(()=>{var te;const X=T.current.state.columnMenu;if(u&&!X.open){const ae=k.current.querySelector('[tabindex="0"]')||k.current;ae==null||ae.focus(),(te=T.current.columnHeadersContainerRef)!=null&&te.current&&(T.current.columnHeadersContainerRef.current.scrollLeft=0)}},[T,u]);const J=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,q=t.headerName??t.field,ge=c.useMemo(()=>mr(f({},e.style),O,b,x),[b,x,e.style,O]);return h.jsx(Na,f({ref:k,classes:z,columnMenuOpen:n,colIndex:o,height:r,isResizing:l,sortDirection:i,hasFocus:u,tabIndex:g,separatorSide:p,isDraggable:M,headerComponent:j,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:L,columnTitleIconButtons:_,headerClassName:He(J,s&&w["columnHeader--last"]),label:q,resizable:!D.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:A,draggableContainerProps:H,columnHeaderSeparatorProps:V,style:ge},P))}const bb=qt(pb),Cb=["className"],wb=e=>{const{classes:t}=e;return Me({root:["iconButtonContainer"]},Pe,t)},xb=$e("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),Ba=fe(function(t,n){const{className:o}=t,r=Q(t,Cb),l=Z(),s=wb(l);return h.jsx(xb,f({className:He(s.root,o),ownerState:l},r,{ref:n}))}),Sb=["sortingOrder"],yb=c.memo(function(t){const{sortingOrder:n}=t,o=Q(t,Sb),r=Z(),[l]=n,s=l==="asc"?r.slots.columnSortedAscendingIcon:r.slots.columnSortedDescendingIcon;return s?h.jsx(s,f({},o)):null}),vb=["direction","index","sortingOrder","disabled","className"],Ib=e=>{const{classes:t}=e;return Me({root:["sortButton"],icon:["sortIcon"]},Pe,t)},Mb=$e(Yt,{name:"MuiDataGrid",slot:"SortButton"})({transition:ne.transition(["opacity"],{duration:ne.transitions.duration.short,easing:ne.transitions.easing.easeInOut})});function Pb(e,t,n,o){let r;const l={};return t==="asc"?r=e.columnSortedAscendingIcon:t==="desc"?r=e.columnSortedDescendingIcon:(r=yb,l.sortingOrder=o),r?h.jsx(r,f({fontSize:"small",className:n},l)):null}function kb(e){var p;const{direction:t,index:n,sortingOrder:o,disabled:r,className:l}=e,s=Q(e,vb),i=be(),a=Z(),d=f({},e,{classes:a.classes}),u=Ib(d),g=Pb(a.slots,t,u.icon,o);if(!g)return null;const m=h.jsx(Mb,f({as:a.slots.baseIconButton,ownerState:d,"aria-label":i.current.getLocaleText("columnHeaderSortIconLabel"),title:i.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:r,className:He(u.root,l)},(p=a.slotProps)==null?void 0:p.baseIconButton,s,{children:g}));return h.jsxs(c.Fragment,{children:[n!=null&&h.jsx(a.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:m}),n==null&&m]})}function Fb(e){return h.jsx(Ba,{children:h.jsx(kb,f({},e,{tabIndex:-1}))})}const Eb=c.memo(Fb),Tb=e=>{const{classes:t}=e;return Me({icon:["filterIcon"]},Pe,t)};function Db(e){return e.counter?h.jsx(Hb,f({},e)):null}function Hb(e){var p,v;const{counter:t,field:n,onClick:o}=e,r=be(),l=Z(),s=f({},e,{classes:l.classes}),i=Tb(s),a=Oe(),d=K(r,Tm,a),u=Oe(),g=c.useCallback(S=>{S.preventDefault(),S.stopPropagation();const{open:b,openedPanelValue:x}=Kt(r);b&&x===ot.filters?r.current.hideFilterPanel():r.current.showFilterPanel(void 0,u,a),o&&o(r.current.getColumnHeaderParams(n),S)},[r,n,o,u,a]);if(!t)return null;const m=h.jsx(l.slots.baseIconButton,f({id:a,onClick:g,"aria-label":r.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?u:void 0},(p=l.slotProps)==null?void 0:p.baseIconButton,{children:h.jsx(l.slots.columnFilteredIcon,{className:i.icon,fontSize:"small"})}));return h.jsx(l.slots.baseTooltip,f({title:r.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},(v=l.slotProps)==null?void 0:v.baseTooltip,{children:h.jsxs(Ba,{children:[t>1&&h.jsx(l.slots.baseBadge,{badgeContent:t,color:"default",children:m}),t===1&&m]})}))}const Ob=["hideMenu","colDef","id","labelledby","className","children","open"],$b=_e(Yt)(()=>({minWidth:248}));function js(e){e.currentTarget.contains(e.target)&&e.stopPropagation()}const Gb=fe(function(t,n){const{hideMenu:o,id:r,labelledby:l,className:s,children:i,open:a}=t,d=Q(t,Ob),u=Z(),g=c.useCallback(m=>{m.key==="Tab"&&m.preventDefault(),Ui(m.key)&&o(m)},[o]);return h.jsx($b,f({as:u.slots.baseMenuList,id:r,className:He(w.menuList,s),"aria-labelledby":l,onKeyDown:g,onWheel:js,onTouchMove:js,autoFocus:a},d,{ref:n,children:i}))}),Lb=["displayOrder"],jb=e=>{const t=pt(),n=Z(),{defaultSlots:o,defaultSlotProps:r,slots:l={},slotProps:s={},hideMenu:i,colDef:a,addDividers:d=!0}=e,u=c.useMemo(()=>f({},o,l),[o,l]),g=c.useMemo(()=>{if(!s||Object.keys(s).length===0)return r;const v=f({},s);return Object.entries(r).forEach(([S,b])=>{v[S]=f({},b,s[S]||{})}),v},[r,s]),m=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),p=c.useMemo(()=>{const v=Object.keys(o);return Object.keys(l).filter(S=>!v.includes(S))},[l,o]);return c.useMemo(()=>{const b=Array.from(new Set([...m,...p])).filter(x=>u[x]!=null).sort((x,T)=>{const D=g[x],O=g[T],k=Number.isFinite(D==null?void 0:D.displayOrder)?D.displayOrder:100,$=Number.isFinite(O==null?void 0:O.displayOrder)?O.displayOrder:100;return k-$});return b.reduce((x,T,D)=>{let O={colDef:a,onClick:i};const k=g[T];if(k){const $=Q(k,Lb);O=f({},O,$)}return d&&D!==b.length-1?[...x,[u[T],O],[n.slots.baseDivider,{}]]:[...x,[u[T],O]]},[])},[d,a,m,i,u,g,p,n.slots.baseDivider])};function Ab(e){const{colDef:t,onClick:n}=e,o=be(),r=Z(),i=Xe(o).filter(d=>d.disableColumnMenu!==!0).length===1,a=c.useCallback(d=>{i||(o.current.setColumnVisibility(t.field,!1),n(d))},[o,t.field,n,i]);return r.disableColumnSelector||t.hideable===!1?null:h.jsx(r.slots.baseMenuItem,{onClick:a,disabled:i,iconStart:h.jsx(r.slots.columnMenuHideIcon,{fontSize:"small"}),children:o.current.getLocaleText("columnMenuHideColumn")})}function zb(e){const{onClick:t}=e,n=be(),o=Z(),r=c.useCallback(l=>{t(l),n.current.showPreferences(ot.columns)},[n,t]);return o.disableColumnSelector?null:h.jsx(o.slots.baseMenuItem,{onClick:r,iconStart:h.jsx(o.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuManageColumns")})}function Rb(e){return h.jsxs(c.Fragment,{children:[h.jsx(Ab,f({},e)),h.jsx(zb,f({},e))]})}function Vb(e){const{colDef:t,onClick:n}=e,o=be(),r=Z(),l=c.useCallback(s=>{n(s),o.current.showFilterPanel(t.field)},[o,t.field,n]);return r.disableColumnFilter||!t.filterable?null:h.jsx(r.slots.baseMenuItem,{onClick:l,iconStart:h.jsx(r.slots.columnMenuFilterIcon,{fontSize:"small"}),children:o.current.getLocaleText("columnMenuFilter")})}function Nb(e){const{colDef:t,onClick:n}=e,o=be(),r=K(o,Ct),l=Z(),s=c.useMemo(()=>{if(!t)return null;const u=r.find(g=>g.field===t.field);return u==null?void 0:u.sort},[t,r]),i=t.sortingOrder??l.sortingOrder,a=c.useCallback(u=>{n(u);const g=u.currentTarget.getAttribute("data-value")||null;o.current.sortColumn(t.field,g===s?null:g)},[o,t,n,s]);if(l.disableColumnSorting||!t||!t.sortable||!i.some(u=>!!u))return null;const d=u=>{const g=o.current.getLocaleText(u);return typeof g=="function"?g(t):g};return h.jsxs(c.Fragment,{children:[i.includes("asc")&&s!=="asc"?h.jsx(l.slots.baseMenuItem,{onClick:a,"data-value":"asc",iconStart:h.jsx(l.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:d("columnMenuSortAsc")}):null,i.includes("desc")&&s!=="desc"?h.jsx(l.slots.baseMenuItem,{onClick:a,"data-value":"desc",iconStart:h.jsx(l.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:d("columnMenuSortDesc")}):null,i.includes(null)&&s!=null?h.jsx(l.slots.baseMenuItem,{onClick:a,iconStart:l.slots.columnMenuUnsortIcon?h.jsx(l.slots.columnMenuUnsortIcon,{fontSize:"small"}):h.jsx("span",{}),children:o.current.getLocaleText("columnMenuUnsort")}):null]})}const Bb=["defaultSlots","defaultSlotProps","slots","slotProps"],_b={columnMenuSortItem:Nb,columnMenuFilterItem:Vb,columnMenuColumnsItem:Rb},Wb={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},Ub=fe(function(t,n){const{defaultSlots:o,defaultSlotProps:r,slots:l,slotProps:s}=t,i=Q(t,Bb),a=jb(f({},i,{defaultSlots:o,defaultSlotProps:r,slots:l,slotProps:s}));return h.jsx(Gb,f({},i,{ref:n,children:a.map(([d,u],g)=>h.jsx(d,f({},u),g))}))}),Kb=fe(function(t,n){return h.jsx(Ub,f({},t,{ref:n,defaultSlots:_b,defaultSlotProps:Wb}))}),qb=["className"],Yb=e=>{const{classes:t}=e;return Me({root:["panelWrapper"]},Pe,t)},Xb=_e("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),_a=fe(function(t,n){const{className:o}=t,r=Q(t,qb),l=Z(),s=Yb(l);return h.jsx(Xb,f({tabIndex:-1,className:He(s.root,o),ownerState:l},r,{ref:n}))});function Qb(e){var n;const t=Z();return h.jsx(_a,f({},e,{children:h.jsx(t.slots.columnsManagement,f({},(n=t.slotProps)==null?void 0:n.columnsManagement))}))}const Zb=["children","className","classes","onClose"],Jb=ii("MuiDataGrid",["panel","paper"]),eC=_e(Yt,{name:"MuiDataGrid",slot:"panel"})({zIndex:ne.zIndex.panel}),tC=_e("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:ne.colors.background.overlay,borderRadius:ne.radius.base,boxShadow:ne.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${ne.spacing(2)})`,overflow:"auto"}),nC=fe((e,t)=>{var T;const{children:n,className:o,onClose:r}=e,l=Q(e,Zb),s=be(),i=Z(),a=Jb,[d,u]=c.useState(!1),g=Yi(),m=Fe(()=>u(!0)),p=Fe(()=>u(!1)),v=Fe(()=>{r==null||r()}),S=Fe(D=>{D.key==="Escape"&&(r==null||r())}),[b,x]=c.useState(null);return c.useEffect(()=>{var O,k;const D=(k=(O=s.current.rootElementRef)==null?void 0:O.current)==null?void 0:k.querySelector('[data-id="gridPanelAnchor"]');D&&x(D)},[s]),b?h.jsx(eC,f({as:i.slots.basePopper,ownerState:i,placement:"bottom-end",className:He(a.panel,o,g),flip:!0,onDidShow:m,onDidHide:p,onClickAway:v,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},l,(T=i.slotProps)==null?void 0:T.basePopper,{target:e.target??b,ref:t,children:h.jsx(tC,{className:a.paper,ownerState:i,onKeyDown:S,children:d&&n})})):null}),oC=["className"],rC=e=>{const{classes:t}=e;return Me({root:["panelContent"]},Pe,t)},lC=$e("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:ne.spacing(2.5,1.5,2,1),gap:ne.spacing(2.5)});function sC(e){const{className:t}=e,n=Q(e,oC),o=Z(),r=rC(o);return h.jsx(lC,f({className:He(r.root,t),ownerState:o},n))}const iC=["className"],aC=e=>{const{classes:t}=e;return Me({root:["panelFooter"]},Pe,t)},cC=_e("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:ne.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${ne.colors.border.base}`});function uC(e){const{className:t}=e,n=Q(e,iC),o=Z(),r=aC(o);return h.jsx(cC,f({className:He(r.root,t),ownerState:o},n))}const dC=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],gC=["InputComponentProps"],hC=e=>{const{classes:t}=e;return Me({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Pe,t)},fC=_e("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:ne.spacing(1.5)}),mC=_e("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),pC=_e("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),bC=_e("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),CC=_e("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),wC=_e("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),xC=e=>{switch(e){case dt.And:return"filterPanelOperatorAnd";case dt.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Xn=e=>e.headerName||e.field,As=new Intl.Collator,zs=fe(function(t,n){var he,pe,ve,ke,Te,se,xe;const{item:o,hasMultipleFilters:r,deleteFilter:l,applyFilterChanges:s,showMultiFilterOperators:i,disableMultiFilterOperator:a,applyMultiFilterOperatorChanges:d,focusElementRef:u,logicOperators:g=[dt.And,dt.Or],columnsSort:m,filterColumns:p,deleteIconProps:v={},logicOperatorInputProps:S={},operatorInputProps:b={},columnInputProps:x={},valueInputProps:T={},readOnly:D}=t,O=Q(t,dC),k=be(),$=K(k,Vt),E=K(k,Ni),y=K(k,et),C=Oe(),I=Oe(),M=Oe(),j=Oe(),G=Z(),z=hC(G),F=c.useRef(null),P=c.useRef(null),H=y.logicOperator??dt.And,V=r&&g.length>0,L=(((he=G.slotProps)==null?void 0:he.baseSelect)||{}).native??!1,A=((pe=G.slotProps)==null?void 0:pe.baseSelectOption)||{},{InputComponentProps:B}=T,Y=Q(T,gC),_=K(k,fn),J=K(k,Ma),{filteredColumns:q,selectedField:ge}=c.useMemo(()=>{let oe=o.field;const ue=$[o.field].filterable===!1?$[o.field]:null;if(ue)return{filteredColumns:[ue],selectedField:oe};if(_)return{filteredColumns:E.filter(Se=>J.get(Se.field)!==void 0),selectedField:oe};if(p===void 0||typeof p!="function")return{filteredColumns:E,selectedField:oe};const Ce=p({field:o.field,columns:E,currentFilters:(y==null?void 0:y.items)||[]});return{filteredColumns:E.filter(Se=>{const ye=Ce.includes(Se.field);return Se.field===o.field&&!ye&&(oe=void 0),ye}),selectedField:oe}},[o.field,$,_,p,E,y==null?void 0:y.items,J]),ce=c.useMemo(()=>{switch(m){case"asc":return q.sort((oe,ue)=>As.compare(Xn(oe),Xn(ue)));case"desc":return q.sort((oe,ue)=>-As.compare(Xn(oe),Xn(ue)));default:return q}},[q,m]),de=o.field?k.current.getColumn(o.field):null,U=c.useMemo(()=>{var oe;return!o.operator||!de?null:(oe=de.filterOperators)==null?void 0:oe.find(ue=>ue.value===o.operator)},[o,de]),X=c.useCallback(oe=>{const ue=oe.target.value,Ce=k.current.getColumn(ue);if(Ce.field===de.field)return;const Se=Ce.filterOperators.find(Ne=>Ne.value===o.operator)||Ce.filterOperators[0];let Ge=!Se.InputComponent||Se.InputComponent!==(U==null?void 0:U.InputComponent)||Ce.type!==de.type?void 0:o.value;if(Ce.type==="singleSelect"&&Ge!==void 0){const Ne=Ce,qe=hn(Ne);Array.isArray(Ge)?Ge=Ge.filter(we=>Ko(we,qe,Ne==null?void 0:Ne.getOptionValue)!==void 0):Ko(o.value,qe,Ne==null?void 0:Ne.getOptionValue)===void 0&&(Ge=void 0)}s(f({},o,{field:ue,operator:Se.value,value:Ge}))},[k,s,o,de,U]),te=c.useCallback(oe=>{const ue=oe.target.value,Ce=de==null?void 0:de.filterOperators.find(ye=>ye.value===ue),Se=!(Ce!=null&&Ce.InputComponent)||(Ce==null?void 0:Ce.InputComponent)!==(U==null?void 0:U.InputComponent);s(f({},o,{operator:ue,value:Se?void 0:o.value}))},[s,o,de,U]),ie=c.useCallback(oe=>{const ue=oe.target.value===dt.And.toString()?dt.And:dt.Or;d(ue)},[d]),ae=()=>{l(o)};return c.useImperativeHandle(u,()=>({focus:()=>{var oe;U!=null&&U.InputComponent?(oe=F==null?void 0:F.current)==null||oe.focus():P.current.focus()}}),[U]),h.jsxs(fC,f({className:z.root,"data-id":o.id,ownerState:G},O,{ref:n,children:[h.jsx(mC,f({},v,{className:He(z.deleteIcon,v.className),ownerState:G,children:h.jsx(G.slots.baseIconButton,f({"aria-label":k.current.getLocaleText("filterPanelDeleteIconLabel"),title:k.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:ae,size:"small",disabled:D},(ve=G.slotProps)==null?void 0:ve.baseIconButton,{children:h.jsx(G.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),h.jsx(pC,f({as:G.slots.baseSelect,sx:[V?{display:"flex"}:{display:"none"},i?{visibility:"visible"}:{visibility:"hidden"},S.sx],className:He(z.logicOperatorInput,S.className),ownerState:G},S,{size:"small",slotProps:{htmlInput:{"aria-label":k.current.getLocaleText("filterPanelLogicOperator")}},value:H??"",onChange:ie,disabled:!!a||g.length===1,native:L},(ke=G.slotProps)==null?void 0:ke.baseSelect,{children:g.map(oe=>c.createElement(G.slots.baseSelectOption,f({},A,{native:L,key:oe.toString(),value:oe.toString()}),k.current.getLocaleText(xC(oe))))})),h.jsx(bC,f({as:G.slots.baseSelect},x,{className:He(z.columnInput,x.className),ownerState:G,size:"small",labelId:I,id:C,label:k.current.getLocaleText("filterPanelColumns"),value:ge??"",onChange:X,native:L,disabled:D},(Te=G.slotProps)==null?void 0:Te.baseSelect,{children:ce.map(oe=>c.createElement(G.slots.baseSelectOption,f({},A,{native:L,key:oe.field,value:oe.field}),Xn(oe)))})),h.jsx(CC,f({as:G.slots.baseSelect,size:"small"},b,{className:He(z.operatorInput,b.className),ownerState:G,labelId:j,label:k.current.getLocaleText("filterPanelOperator"),id:M,value:o.operator,onChange:te,native:L,inputRef:P,disabled:D},(se=G.slotProps)==null?void 0:se.baseSelect,{children:(xe=de==null?void 0:de.filterOperators)==null?void 0:xe.map(oe=>c.createElement(G.slots.baseSelectOption,f({},A,{native:L,key:oe.value,value:oe.value}),oe.label||k.current.getLocaleText(`filterOperator${An(oe.value)}`)))})),h.jsx(wC,f({},Y,{className:He(z.valueInput,Y.className),ownerState:G,children:U!=null&&U.InputComponent?h.jsx(U.InputComponent,f({apiRef:k,item:o,applyValue:s,focusElementRef:F,disabled:D,slotProps:{root:{size:"small"}}},U.InputComponentProps,B),o.field):null}))]}))}),SC=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Rs=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),yC=fe(function(t,n){var j,G;const o=be(),r=Z(),l=K(o,et),s=K(o,Ni),i=K(o,yg),a=c.useRef(null),d=c.useRef(null),{logicOperators:u=[dt.And,dt.Or],columnsSort:g,filterFormProps:m,getColumnForNewFilter:p,disableAddFilterButton:v=!1,disableRemoveAllButton:S=!1}=t,b=Q(t,SC),x=o.current.upsertFilterItem,T=c.useCallback(z=>{o.current.setFilterLogicOperator(z)},[o]),D=c.useCallback(()=>{let z;if(p&&typeof p=="function"){const F=p({currentFilters:(l==null?void 0:l.items)||[],columns:s});if(F===null)return null;z=s.find(({field:P})=>P===F)}else z=s.find(F=>{var P;return(P=F.filterOperators)==null?void 0:P.length});return z?Rs(z):null},[l==null?void 0:l.items,s,p]),O=c.useCallback(()=>{if(p===void 0||typeof p!="function")return D();const z=l.items.length?l.items:[D()].filter(Boolean),F=p({currentFilters:z,columns:s});if(F===null)return null;const P=s.find(({field:H})=>H===F);return P?Rs(P):null},[l.items,s,p,D]),k=c.useMemo(()=>l.items.length?l.items:(d.current||(d.current=D()),d.current?[d.current]:[]),[l.items,D]),$=k.length>1,{readOnlyFilters:E,validFilters:y}=c.useMemo(()=>k.reduce((z,F)=>(i[F.field]?z.validFilters.push(F):z.readOnlyFilters.push(F),z),{readOnlyFilters:[],validFilters:[]}),[k,i]),C=c.useCallback(()=>{const z=O();z&&o.current.upsertFilterItems([...k,z])},[o,O,k]),I=c.useCallback(z=>{const F=y.length===1;o.current.deleteFilterItem(z),F&&o.current.hideFilterPanel()},[o,y.length]),M=c.useCallback(()=>y.length===1&&y[0].value===void 0?(o.current.deleteFilterItem(y[0]),o.current.hideFilterPanel()):o.current.setFilterModel(f({},l,{items:E}),"removeAllFilterItems"),[o,E,l,y]);return c.useEffect(()=>{u.length>0&&l.logicOperator&&!u.includes(l.logicOperator)&&T(u[0])},[u,T,l.logicOperator]),c.useEffect(()=>{y.length>0&&a.current.focus()},[y.length]),h.jsxs(_a,f({},b,{ref:n,children:[h.jsxs(sC,{children:[E.map((z,F)=>h.jsx(zs,f({item:z,applyFilterChanges:x,deleteFilter:I,hasMultipleFilters:$,showMultiFilterOperators:F>0,disableMultiFilterOperator:F!==1,applyMultiFilterOperatorChanges:T,focusElementRef:null,readOnly:!0,logicOperators:u,columnsSort:g},m),z.id==null?F:z.id)),y.map((z,F)=>h.jsx(zs,f({item:z,applyFilterChanges:x,deleteFilter:I,hasMultipleFilters:$,showMultiFilterOperators:E.length+F>0,disableMultiFilterOperator:E.length+F!==1,applyMultiFilterOperatorChanges:T,focusElementRef:F===y.length-1?a:null,logicOperators:u,columnsSort:g},m),z.id==null?F+E.length:z.id))]}),!r.disableMultipleColumnsFiltering&&!(v&&S)?h.jsxs(uC,{children:[v?h.jsx("span",{}):h.jsx(r.slots.baseButton,f({onClick:C,startIcon:h.jsx(r.slots.filterPanelAddIcon,{})},(j=r.slotProps)==null?void 0:j.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")})),!S&&y.length>0?h.jsx(r.slots.baseButton,f({onClick:M,startIcon:h.jsx(r.slots.filterPanelRemoveAllIcon,{})},(G=r.slotProps)==null?void 0:G.baseButton,{children:o.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),vC=(e,t)=>{const n=new Set(Object.keys(e).filter(l=>e[l]===!1)),o=new Set(Object.keys(t).filter(l=>t[l]===!1));if(n.size!==o.size)return!1;let r=!0;return n.forEach(l=>{o.has(l)||(r=!1)}),r},IC=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,MC=["children"],PC=ai({from:{opacity:0},to:{opacity:1}}),kC=ai({"from, to":{"--scrollable":'" "'}}),FC=$e("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${kC};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${PC} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,EC=fe(function(t,n){const{children:o}=t,r=Q(t,MC);return h.jsx(FC,f({},r,{ref:n,children:o}))}),TC=e=>{const{classes:t}=e;return Me({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},Pe,t)},Vs=new Intl.Collator;function DC(e){var L,A,B,Y;const t=be(),n=c.useRef(null),o=K(t,Sg),r=K(t,St),l=Z(),[s,i]=c.useState(""),a=TC(l),d=K(t,yt),u=K(t,fn),g=K(t,Ma),m=c.useMemo(()=>u?Array.from(g.values()):d,[u,g,d]),{sort:p,searchPredicate:v=IC,autoFocusSearchField:S=!0,disableShowHideToggle:b=!1,disableResetButton:x=!1,toggleAllMode:T="all",getTogglableColumns:D,searchInputProps:O,searchDebounceMs:k=l.columnFilterDebounceMs}=e,$=c.useMemo(()=>ol(_=>{i(_)},k??150),[k]),E=c.useMemo(()=>vC(r,o),[r,o]),y=c.useMemo(()=>{switch(p){case"asc":return[...m].sort((_,J)=>Vs.compare(_.headerName||_.field,J.headerName||J.field));case"desc":return[...m].sort((_,J)=>-Vs.compare(_.headerName||_.field,J.headerName||J.field));default:return m}},[m,p]),C=_=>{const{name:J}=_.target;t.current.setColumnVisibility(J,r[J]===!1)},I=c.useMemo(()=>{const _=D?D(y):null,J=_?y.filter(({field:q})=>_.includes(q)):y;return s?J.filter(q=>v(q,s.toLowerCase())):J},[y,s,v,D]),M=c.useCallback(_=>{const J=St(t),q=f({},J),ge=D?D(m):null;return(T==="filteredOnly"?I:m).forEach(ce=>{ce.hideable&&(ge==null||ge.includes(ce.field))&&(_?delete q[ce.field]:q[ce.field]=!1)}),t.current.setColumnVisibilityModel(q)},[t,m,D,T,I]),j=c.useCallback(_=>{$(_.target.value)},[$]),G=c.useMemo(()=>I.filter(_=>_.hideable),[I]),z=c.useMemo(()=>G.every(_=>r[_.field]==null||r[_.field]!==!1),[r,G]),F=c.useMemo(()=>G.every(_=>r[_.field]===!1),[r,G]),P=c.useRef(null);c.useEffect(()=>{var _;S?(_=n.current)==null||_.focus():P.current&&typeof P.current.focus=="function"&&P.current.focus()},[S]);let H=!1;const V=_=>H===!1&&_.hideable!==!1?(H=!0,!0):!1,W=c.useCallback(()=>{i(""),n.current&&(n.current.value="",n.current.focus())},[]);return h.jsxs(c.Fragment,{children:[h.jsx($C,{className:a.header,ownerState:l,children:h.jsx(GC,f({as:l.slots.baseTextField,ownerState:l,placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,className:a.searchInput,onChange:j,size:"small",type:"search",slotProps:{input:{startAdornment:h.jsx(l.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:h.jsx(l.slots.baseIconButton,f({size:"small","aria-label":t.current.getLocaleText("columnsManagementDeleteIconLabel"),style:s?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:W,edge:"end"},(L=l.slotProps)==null?void 0:L.baseIconButton,{children:h.jsx(l.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":t.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},(A=l.slotProps)==null?void 0:A.baseTextField,O))}),h.jsx(OC,{ownerState:l,children:h.jsxs(HC,{className:a.root,ownerState:l,children:[I.map(_=>{var J;return h.jsx(l.slots.baseCheckbox,f({className:a.row,disabled:_.hideable===!1||u,checked:r[_.field]!==!1,onChange:C,name:_.field,inputRef:V(_)?P:void 0,label:_.headerName||_.field,density:"compact",fullWidth:!0},(J=l.slotProps)==null?void 0:J.baseCheckbox),_.field)}),I.length===0&&h.jsx(jC,{ownerState:l,children:t.current.getLocaleText("columnsManagementNoColumns")})]})}),!b||!x?h.jsxs(LC,{ownerState:l,className:a.footer,children:[b?h.jsx("span",{}):h.jsx(l.slots.baseCheckbox,f({disabled:G.length===0||u,checked:z,indeterminate:!z&&!F,onChange:()=>M(!z),name:t.current.getLocaleText("columnsManagementShowHideAllText"),label:t.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},(B=l.slotProps)==null?void 0:B.baseCheckbox)),x?null:h.jsx(l.slots.baseButton,f({onClick:()=>t.current.setColumnVisibilityModel(o),disabled:E||u},(Y=l.slotProps)==null?void 0:Y.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const HC=_e("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:ne.spacing(.5,1.5)}),OC=_e(EC,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),$C=_e("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:ne.spacing(1.5,2),borderBottom:`1px solid ${ne.colors.border.base}`}),GC=_e(Yt,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${Mo.input}::-webkit-search-decoration,
      & .${Mo.input}::-webkit-search-cancel-button,
      & .${Mo.input}::-webkit-search-results-button,
      & .${Mo.input}::-webkit-search-results-decoration`]:{display:"none"}}),LC=_e("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:ne.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${ne.colors.border.base}`}),jC=_e("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:ne.spacing(1,0),alignSelf:"center",font:ne.typography.font.body}),AC=fe(function(t,n){var S,b;const{slotProps:o={}}=t,r=o.button||{},l=o.tooltip||{},s=Oe(),i=Oe(),a=be(),d=Z(),{columnsPanelTriggerRef:u}=So(),g=K(a,Kt),m=ut(n,u),p=x=>{var T;g.open&&g.openedPanelValue===ot.columns?a.current.hidePreferences():a.current.showPreferences(ot.columns,i,s),(T=r.onClick)==null||T.call(r,x)};if(d.disableColumnSelector)return null;const v=g.open&&g.panelId===i;return h.jsx(d.slots.baseTooltip,f({title:a.current.getLocaleText("toolbarColumnsLabel"),enterDelay:1e3},(S=d.slotProps)==null?void 0:S.baseTooltip,l,{children:h.jsx(d.slots.baseButton,f({id:s,size:"small","aria-label":a.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?i:void 0,startIcon:h.jsx(d.slots.columnSelectorIcon,{})},(b=d.slotProps)==null?void 0:b.baseButton,r,{onPointerUp:x=>{var T;g.open&&x.stopPropagation(),(T=r.onPointerUp)==null||T.call(r,x)},onClick:p,ref:m,children:a.current.getLocaleText("toolbarColumns")}))}))}),zC=fe(function(t,n){var k,$;const{slotProps:o={}}=t,r=o.button||{},l=o.tooltip||{},s=be(),i=Z(),a=K(s,cn),d=Oe(),u=Oe(),[g,m]=c.useState(!1),p=c.useRef(null),v=ut(n,p),S=[{icon:h.jsx(i.slots.densityCompactIcon,{}),label:s.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:h.jsx(i.slots.densityStandardIcon,{}),label:s.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:h.jsx(i.slots.densityComfortableIcon,{}),label:s.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],b=c.useMemo(()=>{switch(a){case"compact":return h.jsx(i.slots.densityCompactIcon,{});case"comfortable":return h.jsx(i.slots.densityComfortableIcon,{});default:return h.jsx(i.slots.densityStandardIcon,{})}},[a,i]),x=E=>{var y;m(C=>!C),(y=r.onClick)==null||y.call(r,E)},T=()=>{m(!1)},D=E=>{s.current.setDensity(E),m(!1)};if(i.disableDensitySelector)return null;const O=S.map((E,y)=>h.jsx(i.slots.baseMenuItem,{onClick:()=>D(E.value),selected:E.value===a,iconStart:E.icon,children:E.label},y));return h.jsxs(c.Fragment,{children:[h.jsx(i.slots.baseTooltip,f({title:s.current.getLocaleText("toolbarDensityLabel"),enterDelay:1e3},(k=i.slotProps)==null?void 0:k.baseTooltip,l,{children:h.jsx(i.slots.baseButton,f({size:"small",startIcon:b,"aria-label":s.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?u:void 0,id:d},($=i.slotProps)==null?void 0:$.baseButton,r,{onClick:x,ref:v,children:s.current.getLocaleText("toolbarDensity")}))})),h.jsx(mo,{open:g,target:p.current,onClose:T,position:"bottom-end",children:h.jsx(i.slots.baseMenuList,{id:u,className:w.menuList,"aria-labelledby":d,autoFocusItem:g,children:O})})]})}),RC=e=>{const{classes:t}=e;return Me({root:["toolbarFilterList"]},Pe,t)},VC=_e("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList"})({margin:ne.spacing(1,1,.5),padding:ne.spacing(0,1)}),NC=fe(function(t,n){var O,k,$;const{slotProps:o={}}=t,r=o.button||{},l=o.tooltip||{},s=o.badge||{},i=be(),a=Z(),d=K(i,cr),u=K(i,Vt),g=K(i,Kt),m=RC(a),p=Oe(),v=Oe(),{filterPanelTriggerRef:S}=So(),b=ut(n,S),x=c.useMemo(()=>{if(g.open)return i.current.getLocaleText("toolbarFiltersTooltipHide");if(d.length===0)return i.current.getLocaleText("toolbarFiltersTooltipShow");const E=C=>u[C.field].filterOperators.find(I=>I.value===C.operator).label||i.current.getLocaleText(`filterOperator${An(C.operator)}`).toString(),y=C=>{const{getValueAsString:I}=u[C.field].filterOperators.find(M=>M.value===C.operator);return I?I(C.value):C.value};return h.jsxs("div",{children:[i.current.getLocaleText("toolbarFiltersTooltipActive")(d.length),h.jsx(VC,{className:m.root,ownerState:a,children:d.map((C,I)=>f({},u[C.field]&&h.jsx("li",{children:`${u[C.field].headerName||C.field}
                  ${E(C)}
                  ${C.value!=null?y(C):""}`},I)))})]})},[i,a,g.open,d,u,m]),T=E=>{var I;const{open:y,openedPanelValue:C}=g;y&&C===ot.filters?i.current.hidePreferences():i.current.showPreferences(ot.filters,v,p),(I=r.onClick)==null||I.call(r,E)};if(a.disableColumnFilter)return null;const D=g.open&&g.panelId===v;return h.jsx(a.slots.baseTooltip,f({title:x,enterDelay:1e3},(O=a.slotProps)==null?void 0:O.baseTooltip,l,{children:h.jsx(a.slots.baseButton,f({id:p,size:"small","aria-label":i.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":D?v:void 0,"aria-expanded":D,"aria-haspopup":!0,startIcon:h.jsx(a.slots.baseBadge,f({badgeContent:d.length,color:"primary"},(k=a.slotProps)==null?void 0:k.baseBadge,s,{children:h.jsx(a.slots.openFilterButtonIcon,{})}))},($=a.slotProps)==null?void 0:$.baseButton,r,{onClick:T,onPointerUp:E=>{var y;g.open&&E.stopPropagation(),(y=r.onPointerUp)==null||y.call(r,E)},ref:b,children:i.current.getLocaleText("toolbarFilters")}))}))}),BC=fe(function(t,n){var x,T;const{children:o,slotProps:r={}}=t,l=r.button||{},s=r.tooltip||{},i=be(),a=Z(),d=Oe(),u=Oe(),[g,m]=c.useState(!1),p=c.useRef(null),v=ut(n,p),S=D=>{var O;m(k=>!k),(O=l.onClick)==null||O.call(l,D)},b=()=>m(!1);return o==null?null:h.jsxs(c.Fragment,{children:[h.jsx(a.slots.baseTooltip,f({title:i.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},(x=a.slotProps)==null?void 0:x.baseTooltip,s,{children:h.jsx(a.slots.baseButton,f({size:"small",startIcon:h.jsx(a.slots.exportIcon,{}),"aria-expanded":g,"aria-label":i.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":g?u:void 0,id:d},(T=a.slotProps)==null?void 0:T.baseButton,l,{onClick:S,ref:v,children:i.current.getLocaleText("toolbarExport")}))})),h.jsx(mo,{open:g,target:p.current,onClose:b,position:"bottom-end",children:h.jsx(a.slots.baseMenuList,{id:u,className:w.menuList,"aria-labelledby":d,autoFocusItem:g,children:c.Children.map(o,D=>c.isValidElement(D)?c.cloneElement(D,{hideMenu:b}):D)})})]})}),_C=["hideMenu","options"],WC=["hideMenu","options"],UC=["csvOptions","printOptions","excelOptions"];function KC(e){const t=be(),n=Z(),{hideMenu:o,options:r}=e,l=Q(e,_C);return h.jsx(n.slots.baseMenuItem,f({onClick:()=>{t.current.exportDataAsCsv(r),o==null||o()}},l,{children:t.current.getLocaleText("toolbarExportCSV")}))}function qC(e){const t=be(),n=Z(),{hideMenu:o,options:r}=e,l=Q(e,WC);return h.jsx(n.slots.baseMenuItem,f({onClick:()=>{t.current.exportDataAsPrint(r),o==null||o()}},l,{children:t.current.getLocaleText("toolbarExportPrint")}))}const YC=fe(function(t,n){const o=t,{csvOptions:r={},printOptions:l={},excelOptions:s}=o,i=Q(o,UC),d=be().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:r,printOptions:l}).sort((u,g)=>u.componentName>g.componentName?1:-1);return d.length===0?null:h.jsx(BC,f({},i,{ref:n,children:d.map((u,g)=>c.cloneElement(u.component,{key:g}))}))}),Wa=c.createContext(void 0);function Il(){const e=c.useContext(Wa);if(e===void 0)throw new Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return e}const XC=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],QC=e=>e.split(" ").filter(t=>t!==""),ZC=e=>e.join(" ");function JC(e){const t=Z(),{render:n,className:o,parser:r=QC,formatter:l=ZC,debounceMs:s=t.filterDebounceMs,defaultExpanded:i,expanded:a,onExpandedChange:d}=e,u=Q(e,XC),g=be(),m=c.useRef(null),p=c.useRef(null),v=K(g,Ji),[S,b]=c.useState(l(v??[])),[x,T]=c.useState(i??S.length>0),D=a??x,O=c.useMemo(()=>({value:S,expanded:D}),[S,D]),k=typeof o=="function"?o(O):o,$=c.useRef(null),E=Oe(),y=c.useCallback(H=>{d&&d(H),a===void 0&&T(H)},[d,a]),C=c.useRef(v);c.useEffect(()=>{vt(C.current,v)||(C.current=v,b(H=>vt(r(H),v)?H:l(v??[])))},[v,l,r]);const I=c.useRef(!0),M=c.useRef(D);c.useEffect(()=>{var H;if(I.current){I.current=!1;return}M.current!==D&&(D?requestAnimationFrame(()=>{var V;(V=m.current)==null||V.focus({preventScroll:!0})}):(H=p.current)==null||H.focus({preventScroll:!0}),M.current=D)},[D]);const j=c.useMemo(()=>ol(H=>{const V=r(H);C.current=V,g.current.setQuickFilterValues(V)},s),[g,s,r]);c.useEffect(()=>j.clear,[j]);const G=c.useCallback(H=>{const V=H.target.value;b(V),j(V)},[j]),z=c.useCallback(()=>{var H;b(""),g.current.setQuickFilterValues([]),(H=m.current)==null||H.focus()},[g,m]),F=c.useMemo(()=>({controlRef:m,triggerRef:p,state:O,controlId:E,clearValue:z,onValueChange:G,onExpandedChange:y}),[E,O,G,z,y]);st(()=>{var H;$.current&&p.current&&$.current.style.setProperty("--trigger-width",`${(H=p.current)==null?void 0:H.offsetWidth}px`)},[]);const P=Nt("div",n,f({className:k},u,{ref:$}),O);return h.jsx(Wa.Provider,{value:F,children:P})}const ew=["render","className","slotProps","onKeyDown","onChange"],tw=fe(function(t,n){var $;const{render:o,className:r,slotProps:l,onKeyDown:s,onChange:i}=t,a=Q(t,ew),d=Z(),{state:u,controlId:g,controlRef:m,onValueChange:p,onExpandedChange:v,clearValue:S}=Il(),b=typeof r=="function"?r(u):r,x=ut(m,n),T=E=>{E.key==="Escape"&&(u.value===""?v(!1):S()),s==null||s(E)},D=E=>{var y,C;u.value===""&&v(!1),(C=(y=l==null?void 0:l.htmlInput)==null?void 0:y.onBlur)==null||C.call(y,E)},O=E=>{u.expanded||v(!0),p(E),i==null||i(E)},k=Nt(d.slots.baseTextField,o,f({},($=d.slotProps)==null?void 0:$.baseTextField,{slotProps:f({htmlInput:f({role:"searchbox",id:g,tabIndex:u.expanded?void 0:-1},l==null?void 0:l.htmlInput,{onBlur:D})},l),value:u.value,className:b},a,{onChange:O,onKeyDown:T,ref:x}),u);return h.jsx(c.Fragment,{children:k})}),nw=["render","className","onClick"],ow=fe(function(t,n){var p;const{render:o,className:r,onClick:l}=t,s=Q(t,nw),i=Z(),{state:a,clearValue:d}=Il(),u=typeof r=="function"?r(a):r,g=v=>{d(),l==null||l(v)},m=Nt(i.slots.baseIconButton,o,f({},(p=i.slotProps)==null?void 0:p.baseIconButton,{className:u,tabIndex:-1},s,{onClick:g,ref:n}),a);return h.jsx(c.Fragment,{children:m})}),rw=["render","className","onClick"],lw=fe(function(t,n){var b;const{render:o,className:r,onClick:l}=t,s=Q(t,rw),i=Z(),{state:a,controlId:d,onExpandedChange:u,triggerRef:g}=Il(),m=typeof r=="function"?r(a):r,p=ut(g,n),v=x=>{u(!a.expanded),l==null||l(x)},S=Nt(i.slots.baseButton,o,f({},(b=i.slotProps)==null?void 0:b.baseButton,{className:m,"aria-controls":d,"aria-expanded":a.expanded},s,{onClick:v,ref:p}),a);return h.jsx(c.Fragment,{children:S})}),sw=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],iw=["ref","slotProps"],aw=e=>{const{classes:t}=e;return Me({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},Pe,t)},cw=$e("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),uw=$e(zo,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:e})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:e.expanded?0:1,pointerEvents:e.expanded?"none":"auto",transition:ne.transition(["opacity"])})),dw=$e(e=>{throw new Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:e})=>({gridArea:"1 / 1",overflowX:"clip",width:e.expanded?260:"var(--trigger-width)",opacity:e.expanded?1:0,transition:ne.transition(["width","opacity"])}));function Ua(e){const t=be(),n=Z(),o={classes:n.classes,expanded:!1},r=aw(o),{quickFilterParser:l,quickFilterFormatter:s,debounceMs:i,className:a,slotProps:d}=e,u=Q(e,sw);return h.jsx(JC,{parser:l,formatter:s,debounceMs:i,render:(g,m)=>{const p=f({},o,{expanded:m.expanded});return h.jsxs(cw,f({},g,{className:He(r.root,a),children:[h.jsx(lw,{render:v=>h.jsx(n.slots.baseTooltip,{title:t.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:h.jsx(uw,f({className:r.trigger},v,{ownerState:p,color:"default","aria-disabled":m.expanded,children:h.jsx(n.slots.quickFilterIcon,{fontSize:"small"})}))})}),h.jsx(tw,{render:v=>{var T;let{ref:S,slotProps:b}=v,x=Q(v,iw);return h.jsx(dw,f({as:n.slots.baseTextField,className:r.control,ownerState:p,inputRef:S,"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:f({input:f({startAdornment:h.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:x.value?h.jsx(ow,{render:h.jsx(n.slots.baseIconButton,{size:"small",edge:"end","aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:h.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},b==null?void 0:b.input)},b)},(T=n.slotProps)==null?void 0:T.baseTextField,x,d==null?void 0:d.root,u))}})]}))}})}const gw=["render","className","onClick","onPointerUp"],hw=fe(function(t,n){var E;const{render:o,className:r,onClick:l,onPointerUp:s}=t,i=Q(t,gw),a=Z(),d=Oe(),u=Oe(),g=be(),m=K(g,Kt),p=m.open&&m.openedPanelValue===ot.filters,S=K(g,cr).length,b={open:p,filterCount:S},x=typeof r=="function"?r(b):r,{filterPanelTriggerRef:T}=So(),D=ut(n,T),O=y=>{p?g.current.hidePreferences():g.current.showPreferences(ot.filters,u,d),l==null||l(y)},k=y=>{p&&y.stopPropagation(),s==null||s(y)},$=Nt(a.slots.baseButton,o,f({},(E=a.slotProps)==null?void 0:E.baseButton,{id:d,"aria-haspopup":"true","aria-expanded":p?"true":void 0,"aria-controls":p?u:void 0,onClick:O,onPointerUp:k,className:x},i,{ref:D}),b);return h.jsx(c.Fragment,{children:$})}),fw=["render","className","onClick","onPointerUp"],mw=fe(function(t,n){var k;const{render:o,className:r,onClick:l,onPointerUp:s}=t,i=Q(t,fw),a=Z(),d=Oe(),u=Oe(),g=be(),m=K(g,Kt),p=m.open&&m.openedPanelValue===ot.columns,v={open:p},S=typeof r=="function"?r(v):r,{columnsPanelTriggerRef:b}=So(),x=ut(n,b),T=$=>{p?g.current.hidePreferences():g.current.showPreferences(ot.columns,u,d),l==null||l($)},D=$=>{p&&$.stopPropagation(),s==null||s($)},O=Nt(a.slots.baseButton,o,f({},(k=a.slotProps)==null?void 0:k.baseButton,{id:d,"aria-haspopup":"true","aria-expanded":p?"true":void 0,"aria-controls":p?u:void 0,className:S},i,{onPointerUp:D,onClick:T,ref:x}),v);return h.jsx(c.Fragment,{children:O})}),pw=["render","options","onClick"],bw=fe(function(t,n){var g;const{render:o,options:r,onClick:l}=t,s=Q(t,pw),i=Z(),a=be(),d=m=>{a.current.exportDataAsCsv(r),l==null||l(m)},u=Nt(i.slots.baseButton,o,f({},(g=i.slotProps)==null?void 0:g.baseButton,{onClick:d},s,{ref:n}));return h.jsx(c.Fragment,{children:u})}),Cw=["render","options","onClick"],ww=fe(function(t,n){var g;const{render:o,options:r,onClick:l}=t,s=Q(t,Cw),i=Z(),a=be(),d=m=>{a.current.exportDataAsPrint(r),l==null||l(m)},u=Nt(i.slots.baseButton,o,f({},(g=i.slotProps)==null?void 0:g.baseButton,{onClick:d},s,{ref:n}));return h.jsx(c.Fragment,{children:u})}),xw=["className"],Sw=["className"],Ka=e=>{const{classes:t}=e;return Me({divider:["toolbarDivider"],label:["toolbarLabel"]},Pe,t)},yw=$e(Yt,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:ne.spacing(0,.5)}),vw=$e("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:ne.typography.font.large,fontWeight:ne.typography.fontWeight.medium,margin:ne.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function Ns(e){const t=Q(e,xw),n=Z(),o=Ka(n);return h.jsx(yw,f({as:n.slots.baseDivider,orientation:"vertical",className:o.divider},t))}function qa(e){const t=Q(e,Sw),n=Z(),o=Ka(n);return h.jsx(vw,f({className:o.label},t))}function Iw(e){var b,x,T;const{showQuickFilter:t=!0,quickFilterProps:n,csvOptions:o,printOptions:r,additionalItems:l,additionalExportMenuItems:s}=e,i=be(),a=Z(),[d,u]=c.useState(!1),g=c.useRef(null),m=Oe(),p=Oe(),v=!(o!=null&&o.disableToolbarButton)||!(r!=null&&r.disableToolbarButton)||s,S=()=>u(!1);return h.jsxs(ja,{children:[a.label&&h.jsx(qa,{children:a.label}),!a.disableColumnSelector&&h.jsx(a.slots.baseTooltip,{title:i.current.getLocaleText("toolbarColumns"),children:h.jsx(mw,{render:h.jsx(zo,{}),children:h.jsx(a.slots.columnSelectorIcon,{fontSize:"small"})})}),!a.disableColumnFilter&&h.jsx(a.slots.baseTooltip,{title:i.current.getLocaleText("toolbarFilters"),children:h.jsx(hw,{render:(D,O)=>h.jsx(zo,f({},D,{color:O.filterCount>0?"primary":"default",children:h.jsx(a.slots.baseBadge,{badgeContent:O.filterCount,color:"primary",variant:"dot",children:h.jsx(a.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),l,v&&(!a.disableColumnFilter||!a.disableColumnSelector)&&h.jsx(Ns,{}),v&&h.jsxs(c.Fragment,{children:[h.jsx(a.slots.baseTooltip,{title:i.current.getLocaleText("toolbarExport"),disableInteractive:d,children:h.jsx(zo,{ref:g,id:p,"aria-controls":m,"aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:()=>u(!d),children:h.jsx(a.slots.exportIcon,{fontSize:"small"})})}),h.jsx(mo,{target:g.current,open:d,onClose:S,position:"bottom-end",children:h.jsxs(a.slots.baseMenuList,f({id:m,"aria-labelledby":p,autoFocusItem:!0},(b=a.slotProps)==null?void 0:b.baseMenuList,{children:[!(r!=null&&r.disableToolbarButton)&&h.jsx(ww,{render:h.jsx(a.slots.baseMenuItem,f({},(x=a.slotProps)==null?void 0:x.baseMenuItem)),options:r,onClick:S,children:i.current.getLocaleText("toolbarExportPrint")}),!(o!=null&&o.disableToolbarButton)&&h.jsx(bw,{render:h.jsx(a.slots.baseMenuItem,f({},(T=a.slotProps)==null?void 0:T.baseMenuItem)),options:o,onClick:S,children:i.current.getLocaleText("toolbarExportCSV")}),s==null?void 0:s(S)]}))})]}),t&&h.jsxs(c.Fragment,{children:[h.jsx(Ns,{}),h.jsx(Ua,f({},n))]})]})}const Mw=["className","csvOptions","printOptions","excelOptions","showQuickFilter","quickFilterProps"],Pw=fe(function(t,n){const o=t,{csvOptions:r,printOptions:l,excelOptions:s,showQuickFilter:i=!0,quickFilterProps:a={}}=o,d=Q(o,Mw),u=Z();return u.disableColumnFilter&&u.disableColumnSelector&&u.disableDensitySelector&&!i?null:h.jsxs(Rp,f({},d,{ref:n,children:[u.label&&h.jsx(qa,{children:u.label}),h.jsx(AC,{}),h.jsx(NC,{}),h.jsx(zC,{}),h.jsx(YC,{csvOptions:r,printOptions:l,excelOptions:s}),h.jsx("div",{style:{flex:1}}),i&&h.jsx(Ua,f({},a))]}))}),kw=["className","selectedRowCount"],Fw=e=>{const{classes:t}=e;return Me({root:["selectedRowCount"]},Pe,t)},Ew=$e("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:ne.spacing(0,2),visibility:"hidden",width:0,height:0,[ne.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),Tw=fe(function(t,n){const{className:o,selectedRowCount:r}=t,l=Q(t,kw),s=be(),i=Z(),a=Fw(i),d=s.current.getLocaleText("footerRowSelected")(r);return h.jsx(Ew,f({className:He(a.root,o),ownerState:i},l,{ref:n,children:d}))}),Dw=fe(function(t,n){var g,m;const o=be(),r=Z(),l=K(o,$d),s=K(o,ur),i=K(o,bl),a=!r.hideFooterSelectedRowCount&&s>0?h.jsx(Tw,{selectedRowCount:s}):h.jsx("div",{}),d=!r.hideFooterRowCount&&!r.pagination?h.jsx(r.slots.footerRowCount,f({},(g=r.slotProps)==null?void 0:g.footerRowCount,{rowCount:l,visibleRowCount:i})):null,u=r.pagination&&!r.hideFooterPagination&&r.slots.pagination&&h.jsx(r.slots.pagination,f({},(m=r.slotProps)==null?void 0:m.pagination));return h.jsxs(Pp,f({},t,{ref:n,children:[a,d,u]}))}),ro=(e,t,n,o,r,l)=>{let s;switch(e){case Ee.LEFT:s=o[n];break;case Ee.RIGHT:s=r-o[n]-t+l;break;default:s=void 0;break}return Number.isNaN(s)&&(s=void 0),s},Qo=(e,t,n,o,r)=>{const l=t===n-1;return e===Ee.LEFT&&l?!0:o?e===Ee.LEFT?!0:e===Ee.RIGHT?!l:!l||r:!1},Zo=(e,t)=>e===Ee.RIGHT&&t===0,Qn={root:w.scrollbarFiller,header:w["scrollbarFiller--header"],borderTop:w["scrollbarFiller--borderTop"],borderBottom:w["scrollbarFiller--borderBottom"],pinnedRight:w["scrollbarFiller--pinnedRight"]};function Ml({header:e,borderTop:t=!0,borderBottom:n,pinnedRight:o}){return h.jsx("div",{role:"presentation",className:He(Qn.root,e&&Qn.header,t&&Qn.borderTop,n&&Qn.borderBottom,o&&Qn.pinnedRight)})}const Hw=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],Ow=$e("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),$w=e=>{const{classes:t}=e;return Me({root:["skeletonLoadingOverlay"]},Pe,t)},Bs=e=>parseInt(e.getAttribute("data-colindex"),10),Gw=fe(function(t,n){const o=Z(),{slots:r}=o,l=Rt(),s=$w({classes:o.classes}),i=c.useRef(null),a=ut(i,n),d=be(),u=K(d,Qe),g=K(d,il),m=K(d,bn),p=c.useMemo(()=>m.filter(y=>y<=g).length,[g,m]),{skeletonRowsCount:v,visibleColumns:S,showFirstRowBorder:b}=t,x=Q(t,Hw),T=K(d,Xe),D=c.useMemo(()=>T.slice(0,p),[T,p]),O=K(d,rr),k=c.useCallback(y=>{if(O.left.findIndex(C=>C.field===y)!==-1)return Ee.LEFT;if(O.right.findIndex(C=>C.field===y)!==-1)return Ee.RIGHT},[O.left,O.right]),$=c.useMemo(()=>{const y=[];for(let C=0;C<v;C+=1){const I=[];for(let M=0;M<D.length;M+=1){const j=D[M],G=k(j.field),z=G===Ee.LEFT,F=G===Ee.RIGHT,P=Oa(G,l),H=P?O[P].length:D.length-O.left.length-O.right.length,V=P?O[P].findIndex(te=>te.field===j.field):M-O.left.length,W=u.hasScrollY?u.scrollbarSize:0,L=mr({},l,G,ro(G,j.computedWidth,M,m,u.columnsTotalWidth,W)),A=u.columnsTotalWidth<u.viewportOuterSize.width,B=Qo(G,V,H,o.showCellVerticalBorder,A),Y=Zo(G,V),_=M===D.length-1,J=F&&V===0,q=J&&A,ge=_&&!J&&A,ce=u.viewportOuterSize.width-u.columnsTotalWidth,de=Math.max(0,ce),U=h.jsx(r.skeletonCell,{width:de,empty:!0},`skeleton-filler-column-${C}`),X=_&&W!==0;q&&I.push(U),I.push(h.jsx(r.skeletonCell,{field:j.field,type:j.type,align:j.align,width:"var(--width)",height:u.rowHeight,"data-colindex":M,empty:S&&!S.has(j.field),className:He(z&&w["cell--pinnedLeft"],F&&w["cell--pinnedRight"],B&&w["cell--withRightBorder"],Y&&w["cell--withLeftBorder"]),style:f({"--width":`${j.computedWidth}px`},L)},`skeleton-column-${C}-${j.field}`)),ge&&I.push(U),X&&I.push(h.jsx(Ml,{pinnedRight:O.right.length>0},`skeleton-scrollbar-filler-${C}`))}y.push(h.jsx("div",{className:He(w.row,w.rowSkeleton,C===0&&!b&&w["row--firstVisible"]),children:I},`skeleton-row-${C}`))}return y},[v,D,k,l,O,u.hasScrollY,u.scrollbarSize,u.columnsTotalWidth,u.viewportOuterSize.width,u.rowHeight,m,o.showCellVerticalBorder,r,S,b]);return re(d,"columnResize",y=>{var V,W,L;const{colDef:C,width:I}=y,M=(V=i.current)==null?void 0:V.querySelectorAll(`[data-field="${Xt(C.field)}"]`);if(!M)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const j=D.findIndex(A=>A.field===C.field),G=k(C.field),z=G===Ee.LEFT,F=G===Ee.RIGHT,P=getComputedStyle(M[0]).getPropertyValue("--width"),H=parseInt(P,10)-I;if(M&&M.forEach(A=>{A.style.setProperty("--width",`${I}px`)}),z){const A=(W=i.current)==null?void 0:W.querySelectorAll(`.${w["cell--pinnedLeft"]}`);A==null||A.forEach(B=>{Bs(B)>j&&(B.style.left=`${parseInt(getComputedStyle(B).left,10)-H}px`)})}if(F){const A=(L=i.current)==null?void 0:L.querySelectorAll(`.${w["cell--pinnedRight"]}`);A==null||A.forEach(B=>{Bs(B)<j&&(B.style.right=`${parseInt(getComputedStyle(B).right,10)+H}px`)})}}),h.jsx(Ow,f({className:s.root},x,{ref:a,children:$}))}),Lw=fe(function(t,n){const o=be(),r=K(o,Qe),l=(r==null?void 0:r.viewportInnerSize.height)??0,s=Math.ceil(l/r.rowHeight);return h.jsx(Gw,f({},t,{skeletonRowsCount:s,ref:n}))}),jw=["variant","noRowsVariant","style"],Aw={"circular-progress":{component:e=>e.slots.baseCircularProgress,style:{}},"linear-progress":{component:e=>e.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>Lw,style:{display:"block"}}},zw=fe(function(t,n){const{variant:o="linear-progress",noRowsVariant:r="skeleton",style:l}=t,s=Q(t,jw),i=be(),a=Z(),d=K(i,zn),u=Aw[d===0?r:o],g=u.component(a);return h.jsx(pr,f({style:f({},u.style,l)},s,{ref:n,children:h.jsx(g,{})}))}),Rw=fe(function(t,n){const r=be().current.getLocaleText("noRowsLabel");return h.jsx(pr,f({},t,{ref:n,children:r}))}),Vw=fe(function(t,n){var a;const o=Z(),r=be(),l=K(r,At),s=()=>{r.current.showPreferences(ot.columns)},i=!o.disableColumnSelector&&l.length>0;return h.jsxs(pr,f({},t,{ref:n,children:[r.current.getLocaleText("noColumnsOverlayLabel"),i&&h.jsx(o.slots.baseButton,f({size:"small"},(a=o.slotProps)==null?void 0:a.baseButton,{onClick:s,children:r.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))}),Nw=_e(Yt)({maxHeight:"calc(100% + 1px)",flexGrow:1});function Bw(){var v;const e=be(),t=Z(),n=K(e,rt),o=K(e,kn),r=K(e,ga),{paginationMode:l,loading:s}=t,i=o===-1&&l==="server"&&s,a=c.useMemo(()=>Math.max(0,r-1),[r]),d=c.useMemo(()=>o===-1||n.page<=a?n.page:a,[a,n.page,o]),u=c.useCallback(S=>{e.current.setPageSize(S)},[e]),g=c.useCallback((S,b)=>{e.current.setPage(b)},[e]),p=(S=>{for(let b=0;b<t.pageSizeOptions.length;b+=1){const x=t.pageSizeOptions[b];if(typeof x=="number"){if(x===S)return!0}else if(x.value===S)return!0}return!1})(n.pageSize)?t.pageSizeOptions:[];return h.jsx(Nw,f({as:t.slots.basePagination,count:o,page:d,rowsPerPageOptions:p,rowsPerPage:n.pageSize,onPageChange:g,onRowsPerPageChange:u,disabled:i},(v=t.slotProps)==null?void 0:v.basePagination))}const _w=["className","rowCount","visibleRowCount"],Ww=e=>{const{classes:t}=e;return Me({root:["rowCount"]},Pe,t)},Uw=$e("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:ne.spacing(0,2)}),Kw=fe(function(t,n){const{className:o,rowCount:r,visibleRowCount:l}=t,s=Q(t,_w),i=be(),a=Z(),d=Ww(a);if(r===0)return null;const u=l<r?i.current.getLocaleText("footerTotalVisibleRows")(l,r):r.toLocaleString();return h.jsxs(Uw,f({className:He(d.root,o),ownerState:a},s,{ref:n,children:[i.current.getLocaleText("footerTotalRows")," ",u]}))});function qw(e,t){return Me(t,Pe,e)}const Dn=(e,t)=>Co(e),Ya=(e,t)=>K(e,Co),Yw=Ke(e=>e.rowReorder),Xw=le(Yw,e=>(e==null?void 0:e.isActive)??!1),Qw=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],Zw=le(tt,(e,t)=>t?!!ir(e):!1),Jw=fe(function(t,n){var qe;const{selected:o,rowId:r,row:l,index:s,style:i,rowHeight:a,className:d,visibleColumns:u,pinnedColumns:g,offsetLeft:m,columnsTotalWidth:p,firstColumnIndex:v,lastColumnIndex:S,focusedColumnIndex:b,isFirstVisible:x,isLastVisible:T,isNotVisible:D,showBottomBorder:O,scrollbarWidth:k,gridHasFiller:$,onClick:E,onDoubleClick:y,onMouseEnter:C,onMouseLeave:I,onMouseOut:M,onMouseOver:j}=t,G=Q(t,Qw),z=pt(),F=lr(),P=c.useRef(null),H=Z(),V=Ya(z),W=K(z,Ct),L=K(z,Rn),A=K(z,bn),B=H.rowReordering,Y=K(z,Zw,B),_=K(z,Xw),J=ut(P,n),q=jt(z,r),ge=K(z,Da,{rowId:r,editMode:H.editMode}),ce=H.editMode===zt.Row,de=b!==void 0,U=de&&b>=g.left.length&&b<v,X=de&&b<u.length-g.right.length&&b>=S,te=qw(H.classes,{root:["row",o&&"selected",ce&&"row--editable",ge&&"row--editing",x&&"row--firstVisible",T&&"row--lastVisible",O&&"row--borderBottom",a==="auto"&&"row--dynamicHeight"]}),ie=F.hooks.useGridRowAriaAttributes();c.useLayoutEffect(()=>{if(V.range){const we=z.current.getRowIndexRelativeToVisibleRows(r);we!==void 0&&z.current.unstable_setLastMeasuredRowIndex(we)}if(P.current&&a==="auto")return z.current.observeRowHeight(P.current,r)},[z,V.range,a,r]);const ae=c.useCallback((we,R)=>ee=>{yo(ee)||z.current.getRow(r)&&(z.current.publishEvent(we,z.current.getRowParams(r),ee),R&&R(ee))},[z,r]),he=c.useCallback(we=>{const R=Xo(we.target,w.cell),ee=R==null?void 0:R.getAttribute("data-field");if(ee){if(ee===Bn.field||ee===fl||ee==="__reorder__"||z.current.getCellMode(r,ee)===ze.Edit)return;const Re=z.current.getColumn(ee);if((Re==null?void 0:Re.type)===sr)return}ae("rowClick",E)(we)},[z,E,ae,r]),{slots:pe,slotProps:ve,disableColumnReorder:ke}=H,Te=K(z,()=>f({},z.current.getRowHeightEntry(r)),void 0,Fi),se=c.useMemo(()=>{if(D)return{opacity:0,width:0,height:0};const we=f({},i,{maxHeight:a==="auto"?"none":a,minHeight:a,"--height":typeof a=="number"?`${a}px`:a});if(Te.spacingTop){const R=H.rowSpacingType==="border"?"borderTopWidth":"marginTop";we[R]=Te.spacingTop}if(Te.spacingBottom){const R=H.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let ee=we[R];typeof ee!="number"&&(ee=parseInt(ee||"0",10)),ee+=Te.spacingBottom,we[R]=ee}return we},[D,a,i,Te,H.rowSpacingType]);if(!q)return null;const xe=z.current.unstable_applyPipeProcessors("rowClassName",[],r),oe=ie(q,s);if(typeof H.getRowClassName=="function"){const we=s-(((qe=V.range)==null?void 0:qe.firstRowIndex)||0),R=f({},z.current.getRowParams(r),{isFirstVisible:we===0,isLastVisible:we===V.rows.length-1,indexRelativeToCurrentPage:we});xe.push(H.getRowClassName(R))}const ue=(we,R,ee,Re,De=Ee.NONE)=>{const me=z.current.unstable_getCellColSpanInfo(r,ee);if(me!=null&&me.spannedByColSpan)return null;const Be=(me==null?void 0:me.cellProps.width)??we.computedWidth,at=(me==null?void 0:me.cellProps.colSpan)??1,$t=ro(De,we.computedWidth,ee,A,p,k);if(q.type==="skeletonRow")return h.jsx(pe.skeletonCell,{type:we.type,width:Be,height:a,field:we.field,align:we.align},we.field);const br=we.field==="__reorder__",vo=!(ke||we.disableReorder),Wn=Y&&!W.length&&L<=1,Un=!(vo||br&&Wn||_),wn=De===Ee.VIRTUAL,Io=Zo(De,R),Cr=Qo(De,R,Re,H.showCellVerticalBorder,$);return h.jsx(pe.cell,f({column:we,width:Be,rowId:r,align:we.align||"left",colIndex:ee,colSpan:at,disableDragEvents:Un,isNotVisible:wn,pinnedOffset:$t,pinnedPosition:De,showLeftBorder:Io,showRightBorder:Cr,row:l,rowNode:q},ve==null?void 0:ve.cell),we.field)},Ce=g.left.map((we,R)=>ue(we,R,R,g.left.length,Ee.LEFT)),Se=g.right.map((we,R)=>{const ee=u.length-g.right.length+R;return ue(we,R,ee,g.right.length,Ee.RIGHT)}),ye=u.length-g.left.length-g.right.length,Ge=[];U&&Ge.push(ue(u[b],b-g.left.length,b,ye,Ee.VIRTUAL));for(let we=v;we<S;we+=1){const R=u[we],ee=we-g.left.length;R&&Ge.push(ue(R,ee,we,ye))}X&&Ge.push(ue(u[b],b-g.left.length,b,ye,Ee.VIRTUAL));const Ne=l?{onClick:he,onDoubleClick:ae("rowDoubleClick",y),onMouseEnter:ae("rowMouseEnter",C),onMouseLeave:ae("rowMouseLeave",I),onMouseOut:ae("rowMouseOut",M),onMouseOver:ae("rowMouseOver",j)}:null;return h.jsxs("div",f({"data-id":r,"data-rowindex":s,role:"row",className:He(...xe,te.root,d),style:se},oe,Ne,G,{ref:J,children:[Ce,h.jsx("div",{role:"presentation",className:w.cellOffsetLeft,style:{width:m}}),Ge,h.jsx("div",{role:"presentation",className:He(w.cell,w.cellEmpty)}),Se,k!==0&&h.jsx(Ml,{pinnedRight:g.right.length>0,borderTop:!x})]}))}),ex=qt(Jw),tx=()=>{const e=pt(),t=Z(),n=K(e,Xe),o=K(e,pl),r=K(e,wo),l=K(e,yi),s=t["aria-label"],i=t["aria-labelledby"];return{role:"grid","aria-label":!s&&!i&&t.label?t.label:s,"aria-labelledby":i,"aria-colcount":n.length,"aria-rowcount":r+1+l+o,"aria-multiselectable":Cl(t)}},nx=()=>{const e=pt(),t=K(e,wo);return c.useCallback((n,o)=>{const r={},l=o+t+2;return r["aria-rowindex"]=l,n&&e.current.isRowSelectable(n.id)&&(r["aria-selected"]=e.current.isRowSelected(n.id)),r},[e,t])};function ox({privateApiRef:e,configuration:t,props:n,children:o}){const r=c.useRef(e.current.getPublicApi());return h.jsx(qi.Provider,{value:t,children:h.jsx(fi.Provider,{value:n,children:h.jsx(ya.Provider,{value:e,children:h.jsx(hi.Provider,{value:r,children:h.jsx(pp,{children:h.jsx(Lg,{children:o})})})})})})}const rx=e=>{const t=c.useRef(null),n=c.useRef(null),o=c.useRef(null),r=c.useRef(null),l=c.useRef(null),s=c.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:o,virtualScrollbarVerticalRef:r,virtualScrollbarHorizontalRef:l,columnHeadersContainerRef:s})},lx=e=>{const t=Rt();e.current.state.isRtl===void 0&&(e.current.state.isRtl=t);const n=c.useRef(!0);c.useEffect(()=>{n.current?n.current=!1:e.current.setState(o=>f({},o,{isRtl:t}))},[e,t])},sx=pg()&&window.localStorage.getItem("DEBUG")!=null,to=()=>{},ix={debug:to,info:to,warn:to,error:to},_s=["debug","info","warn","error"];function Ws(e,t,n=console){const o=_s.indexOf(t);if(o===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return _s.reduce((l,s,i)=>(i>=o?l[s]=(...a)=>{const[d,...u]=a;n[s](`MUI X: ${e} - ${d}`,...u)}:l[s]=to,l),{})}const ax=(e,t)=>{const n=c.useCallback(o=>sx?Ws(o,"debug",t.logger):t.logLevel?Ws(o,t.logLevel.toString(),t.logger):ix,[t.logLevel,t.logger]);Ie(e,{getLogger:n},"private")},cx=(e,t)=>{const n=c.useCallback(o=>{if(t.localeText[o]==null)throw new Error(`Missing translation for key ${o}.`);return t.localeText[o]},[t.localeText]);e.current.register("public",{getLocaleText:n})};function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function ux(e,t){if(ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(ao(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function co(e){var t=ux(e,"string");return ao(t)=="symbol"?t:t+""}const dx=e=>{const t=c.useRef({}),n=c.useRef(!1),o=c.useCallback(g=>{n.current||!g||(n.current=!0,Object.values(g.appliers).forEach(m=>{m()}),n.current=!1)},[]),r=c.useCallback((g,m,p)=>{t.current[g]||(t.current[g]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});const v=t.current[g];return v.processors.get(m)!==p&&(v.processors.set(m,p),v.processorsAsArray=Array.from(t.current[g].processors.values()).filter(b=>b!==null),v.processorsUpdated=!0),()=>{t.current[g].processors.set(m,null),t.current[g].processorsAsArray=Array.from(t.current[g].processors.values()).filter(b=>b!==null)}},[]),l=c.useCallback((g,m,p)=>(t.current[g]||(t.current[g]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),t.current[g].appliers[m]=p,()=>{const v=t.current[g].appliers,S=Q(v,[m].map(co));t.current[g].appliers=S}),[]),s=c.useCallback(g=>{o(t.current[g])},[o]),i=c.useCallback(()=>{for(const g in t.current){if(!Object.prototype.hasOwnProperty.call(t.current,g))continue;const m=t.current[g];m.processorsUpdated&&(m.processorsUpdated=!1,o(m))}},[o]),a=c.useCallback((...g)=>{const[m,p,v]=g;if(!t.current[m])return p;const S=t.current[m].processorsAsArray;let b=p;for(let x=0;x<S.length;x+=1)b=S[x](b,v);return b},[]),d={registerPipeProcessor:r,registerPipeApplier:l,requestPipeProcessorsApplication:s,runAppliersForPendingProcessors:i},u={unstable_applyPipeProcessors:a};Ie(e,d,"private"),Ie(e,u,"public")},Ye=(e,t,n,o=!0)=>{const r=c.useRef(null),l=c.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=c.useCallback(()=>{r.current=e.current.registerPipeProcessor(t,l.current,n)},[e,n,t]);Cn(()=>{o&&s()});const i=c.useRef(!0);c.useEffect(()=>(i.current?i.current=!1:o&&s(),()=>{r.current&&(r.current(),r.current=null)}),[s,o])},Pl=(e,t,n)=>{const o=c.useRef(null),r=c.useRef(`mui-${Math.round(Math.random()*1e9)}`),l=c.useCallback(()=>{o.current=e.current.registerPipeApplier(t,r.current,n)},[e,n,t]);Cn(()=>{l()});const s=c.useRef(!0);c.useEffect(()=>(s.current?s.current=!1:l(),()=>{o.current&&(o.current(),o.current=null)}),[l])};let on=function(e){return e.DataSource="dataSource",e.RowTree="rowTree",e}({});const uo=(e,t,n,o)=>{const r=c.useCallback(()=>{e.current.registerStrategyProcessor(t,n,o)},[e,o,n,t]);Cn(()=>{r()});const l=c.useRef(!0);c.useEffect(()=>{l.current?l.current=!1:r()},[r])},mn="none",Us={dataSourceRowsUpdate:on.DataSource,rowTreeCreation:on.RowTree,filtering:on.RowTree,sorting:on.RowTree,visibleRowsLookupCreation:on.RowTree},gx=e=>{const t=c.useRef(new Map),n=c.useRef({}),o=c.useCallback((a,d,u)=>{const g=()=>{const v=n.current[d],S=Q(v,[a].map(co));n.current[d]=S};n.current[d]||(n.current[d]={});const m=n.current[d],p=m[a];return m[a]=u,!p||p===u||a===e.current.getActiveStrategy(Us[d])&&e.current.publishEvent("activeStrategyProcessorChange",d),g},[e]),r=c.useCallback((a,d)=>{const u=e.current.getActiveStrategy(Us[a]);if(u==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const g=n.current[a];if(!g||!g[u])throw new Error(`No processor found for processor "${a}" on strategy "${u}"`);const m=g[u];return m(d)},[e]),l=c.useCallback(a=>{const u=Array.from(t.current.entries()).find(([,g])=>g.group!==a?!1:g.isAvailable());return(u==null?void 0:u[0])??mn},[]),s=c.useCallback((a,d,u)=>{t.current.set(d,{group:a,isAvailable:u}),e.current.publishEvent("strategyAvailabilityChange")},[e]);Ie(e,{registerStrategyProcessor:o,applyStrategyProcessor:r,getActiveStrategy:l,setStrategyAvailability:s},"private")},hx=e=>{const t=c.useRef({}),n=c.useCallback(i=>{t.current[i.stateId]=i},[]),o=c.useCallback((i,a)=>{let d;if(mg(i)?d=i(e.current.state):d=i,e.current.state===d)return!1;const u={current:{state:d}};let g=!1;const m=[];if(Object.keys(t.current).forEach(p=>{const v=t.current[p],S=v.stateSelector(e),b=v.stateSelector(u);b!==S&&(m.push({stateId:v.stateId,hasPropChanged:b!==v.propModel}),v.propModel!==void 0&&b!==v.propModel&&(g=!0))}),m.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${m[0].stateId}, therefore, you're not allowed to update ${m.map(p=>p.stateId).join(", ")} in the same transaction.`);if(g||(e.current.state=d,e.current.publishEvent("stateChange",d),e.current.store.update(d)),m.length===1){const{stateId:p,hasPropChanged:v}=m[0],S=t.current[p],b=S.stateSelector(u);S.propOnChange&&v&&S.propOnChange(b,{reason:a,api:e.current}),g||e.current.publishEvent(S.changeEvent,b,{reason:a})}return!g},[e]),r=c.useCallback((i,a,d)=>e.current.setState(u=>f({},u,{[i]:a(u[i])}),d),[e]),l={setState:o},s={updateControlState:r,registerControlState:n};Ie(e,l,"public"),Ie(e,s,"private")},fx=(e,t)=>f({},e,{props:{listView:t.listView,getRowId:t.getRowId}}),mx=(e,t)=>{c.useEffect(()=>{e.current.setState(n=>f({},n,{props:{listView:t.listView,getRowId:t.getRowId}}))},[e,t.listView,t.getRowId])},px=(e,t)=>{rx(e),mx(e,t),lx(e),ax(e,t),hx(e),dx(e),gx(e),cx(e,t),e.current.register("private",{rootProps:t})},bx=le(ht,yl,Co,Xe,(e,t,n,o)=>{if(!e)return!1;const r=n.rowIdToIndexMap.get(e.id),l=o.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex(i=>i.field===e.field);return!(r!==void 0&&l!==-1&&r>=t.firstRowIndex&&r<=t.lastRowIndex)}),Cx=Le(bx,Xe,Co,ht,(e,t,n,o)=>{if(!e)return null;const r=n.rowIdToIndexMap.get(o.id);if(r===void 0)return null;const l=t.findIndex(s=>s.field===o.field);return l===-1?null:f({},o,{rowIndex:r,columnIndex:l})}),Jo={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:zt.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function wx(e){return e}const xx=le(Xe,bn,(e,t)=>{const n=e.length;return n===0?0:un(t[n-1]+e[n-1].computedWidth,1)}),Sx=()=>rl((e,t,n,o,r)=>f({},e,{headerHeight:t,groupHeaderHeight:n,headerFilterHeight:o,headersTotalHeight:r}),{maxSize:1});function yx(e,t){var W;const n=Rt(),{listView:o}=t,r=K(e,Xe),l=K(e,go),s=rr(e),i=K(e,bo),a=L=>i.has(L)&&e.current.isRowSelectable(L),d=Ya(e),u=K(e,vg),g=K(e,Si),m=K(e,xi),{autoHeight:p}=t,v=o,S=K(e,ho),b=Pi(t.rowHeight,Jo.rowHeight),x=Math.floor(b*S),T=Math.floor(t.columnHeaderHeight*S),D=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*S),O=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*S),k=K(e,xx),$=xo(e,t),E=s.left.reduce((L,A)=>L+A.computedWidth,0),y=s.right.reduce((L,A)=>L+A.computedWidth,0),C={rowHeight:x,headerHeight:T,columnsTotalWidth:k,leftPinnedWidth:E,rightPinnedWidth:y,topPinnedHeight:$,bottomPinnedHeight:0,scrollbarSize:t.scrollbarSize},I=Ht(Sx).current,M=K(e,zn),j=K(e,Nn),G=Math.min(j.enabled?j.paginationModel.pageSize:M,M),{getRowHeight:z,getEstimatedRowHeight:F,getRowSpacing:P}=t,H=K(e,Cx),V=pm({refs:{container:e.current.mainElementRef,scroller:e.current.virtualScrollerRef,scrollbarVertical:e.current.virtualScrollbarVerticalRef,scrollbarHorizontal:e.current.virtualScrollbarHorizontalRef},dimensions:C,virtualization:{isRtl:n,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx},colspan:{enabled:u,getColspan:(L,A)=>{if(typeof A.colSpan=="function"){const B=e.current.getRow(L),Y=e.current.getRowValue(B,A);return A.colSpan(Y,B,A,e)??0}return A.colSpan??1}},initialState:{scroll:(W=t.initialState)==null?void 0:W.scroll,rowSpanning:e.current.state.rowSpanning,virtualization:e.current.state.virtualization},rows:d.rows,range:d.range,rowCount:G,columns:r,pinnedRows:l,pinnedColumns:s,autoHeight:p,minimalContentHeight:Mi,getRowHeight:c.useMemo(()=>{if(z)return L=>z(f({},L,{densityFactor:S}))},[z,S]),getEstimatedRowHeight:c.useMemo(()=>F?L=>F(f({},L,{densityFactor:S})):void 0,[F,S]),getRowSpacing:c.useMemo(()=>P?L=>{const A=d.rowIdToIndexMap.get(L.id)??-1,B={isFirstVisible:A===0,isLastVisible:A===d.rows.length-1,indexRelativeToCurrentPage:A};return P(f({},L,B,{indexRelativeToCurrentPage:e.current.getRowIndexRelativeToVisibleRows(L.id)}))}:void 0,[e,P,d.rows,d.rowIdToIndexMap]),applyRowHeight:Fe((L,A)=>e.current.unstable_applyPipeProcessors("rowHeight",L,A)),virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:Fe(()=>H),resizeThrottleMs:t.resizeThrottleMs,onResize:Fe(L=>e.current.publishEvent("resize",L)),onWheel:Fe(L=>{e.current.publishEvent("virtualScrollerWheel",{},L)}),onTouchMove:Fe(L=>{e.current.publishEvent("virtualScrollerTouchMove",{},L)}),onRenderContextChange:Fe(L=>{e.current.publishEvent("renderedRowsIntervalChange",L)}),onScrollChange:(L,A)=>{e.current.publishEvent("scrollPositionChange",{top:L.top,left:L.left,renderContext:A})},scrollReset:v,renderRow:L=>{var A;return h.jsx(t.slots.row,f({row:L.model,rowId:L.id,index:L.rowIndex,selected:a(L.id),offsetLeft:L.offsetLeft,columnsTotalWidth:k,rowHeight:L.baseRowHeight,pinnedColumns:s,visibleColumns:r,firstColumnIndex:L.firstColumnIndex,lastColumnIndex:L.lastColumnIndex,focusedColumnIndex:L.focusedColumnIndex,isFirstVisible:L.isFirstVisible,isLastVisible:L.isLastVisible,isNotVisible:L.isVirtualFocusRow,showBottomBorder:L.showBottomBorder,scrollbarWidth:g,gridHasFiller:m},(A=t.slotProps)==null?void 0:A.row),L.id)},renderInfiniteLoadingTrigger:L=>{var A,B;return(B=(A=e.current).getInfiniteLoadingTriggerElement)==null?void 0:B.call(A,{lastRowId:L})}});Cn(()=>{e.current.store.state.dimensions=I(V.store.state.dimensions,T,D,O,$),e.current.store.state.rowsMeta=V.store.state.rowsMeta,e.current.store.state.virtualization=V.store.state.virtualization}),No(V.store,mt.selectors.dimensions,(L,A)=>{e.current.setState(B=>f({},B,{dimensions:I(A,T,D,O,$)}))}),No(V.store,wx,(L,A)=>{A.rowsMeta!==e.current.state.rowsMeta&&e.current.setState(B=>f({},B,{rowsMeta:A.rowsMeta})),A.virtualization!==e.current.state.virtualization&&e.current.setState(B=>f({},B,{virtualization:A.virtualization}))}),e.current.register("private",{virtualizer:V})}const Je=(e,t,n,o)=>{const r=c.useRef(o),l=c.useRef(!1);o!==r.current&&(l.current=!1,r.current=o),l.current||(t.current.state=e(t.current.state,n,t),l.current=!0)};function Xr(e,t){if(e==null)return"";const n=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const o=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(o[0])?`"'${o}"`:[t.delimiter,`
`,"\r",'"'].some(r=>n.includes(r))?`"${o}"`:o}return n}const Xa=(e,t)=>{var l,s;const{csvOptions:n,ignoreValueFormatter:o}=t;let r;if(o){const i=e.colDef.type;i==="number"?r=String(e.value):i==="date"||i==="dateTime"?r=(l=e.value)==null?void 0:l.toISOString():typeof((s=e.value)==null?void 0:s.toString)=="function"?r=e.value.toString():r=e.value}else r=e.formattedValue;return Xr(r,n)};class Qr{constructor(t){gt(this,"rowString","");gt(this,"isEmpty",!0);this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const vx=({id:e,columns:t,getCellParams:n,csvOptions:o,ignoreValueFormatter:r})=>{const l=new Qr({csvOptions:o});return t.forEach(s=>{const i=n(e,s.field);l.addValue(Xa(i,{ignoreValueFormatter:r,csvOptions:o}))}),l.getRowString()};function Ix(e){const{columns:t,rowIds:n,csvOptions:o,ignoreValueFormatter:r,apiRef:l}=e,s=n.reduce((g,m)=>`${g}${vx({id:m,columns:t,getCellParams:l.current.getCellParams,ignoreValueFormatter:r,csvOptions:o})}\r
`,"").trim();if(!o.includeHeaders)return s;const i=t.filter(g=>g.field!==Bn.field),a=[];if(o.includeColumnGroupsHeaders){const g=l.current.getAllGroupDetails();let m=0;const p=i.reduce((v,S)=>{const b=l.current.getColumnGroupPath(S.field);return v[S.field]=b,m=Math.max(m,b.length),v},{});for(let v=0;v<m;v+=1){const S=new Qr({csvOptions:o,sanitizeCellValue:Xr});a.push(S),i.forEach(b=>{const x=(p[b.field]||[])[v],T=g[x];S.addValue(T?T.headerName||T.groupId:"")})}}const d=new Qr({csvOptions:o,sanitizeCellValue:Xr});return i.forEach(g=>{d.addValue(g.headerName||g.field)}),a.push(d),`${`${a.map(g=>g.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function Ks(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function Mx(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{Ks(e)}):Ks(e)}function Px(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const kx=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,o=(typeof n=="object"?n==null?void 0:n.clipboardExport:n)||!1,r=t.clipboardCopyCellDelimiter,l=c.useCallback(s=>{if(!Og(s)||Px(s.target))return;let i="";if(ur(e)>0)i=e.current.getDataAsCsv({includeHeaders:!1,delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1});else{const d=ht(e);if(d){const u=e.current.getCellParams(d.id,d.field);i=Xa(u,{csvOptions:{delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:o})}}i=e.current.unstable_applyPipeProcessors("clipboardCopy",i),i&&(Mx(i),e.current.publishEvent("clipboardCopy",i))},[e,o,r]);va(e,()=>e.current.rootElementRef.current,"keydown",l),Ve(e,"clipboardCopy",t.onClipboardCopy)},Fx=e=>f({},e,{columnMenu:{open:!1}}),Ex=e=>{const t=it(e,"useGridColumnMenu"),n=c.useCallback(s=>{const i=jo(e),a={open:!0,field:s};(a.open!==i.open||a.field!==i.field)&&(e.current.setState(u=>u.columnMenu.open&&u.columnMenu.field===s?u:(t.debug("Opening Column Menu"),f({},u,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences())},[e,t]),o=c.useCallback(()=>{const s=jo(e);if(s.field){const d=Vt(e),u=St(e),g=At(e);let m=s.field;if(d[m]||(m=g[0]),u[m]===!1){const p=g.filter(S=>S===m?!0:u[S]!==!1),v=p.indexOf(m);m=p[v+1]||p[v-1]}e.current.setColumnHeaderFocus(m)}const i={open:!1,field:void 0};(i.open!==s.open||i.field!==s.field)&&e.current.setState(d=>(t.debug("Hiding Column Menu"),f({},d,{columnMenu:i})))},[e,t]),r=c.useCallback(s=>{t.debug("Toggle Column Menu");const i=jo(e);!i.open||i.field!==s?n(s):o()},[e,t,n,o]);Ie(e,{showColumnMenu:n,hideColumnMenu:o,toggleColumnMenu:r},"public"),re(e,"columnResizeStart",o),re(e,"virtualScrollerWheel",e.current.hideColumnMenu),re(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},Tx=(e,t,n)=>{var r,l,s;n.current.caches.columns={lastColumnsProp:t.columns};const o=Mn({apiRef:n,columnsToUpsert:t.columns,initialState:(r=t.initialState)==null?void 0:r.columns,columnVisibilityModel:t.columnVisibilityModel??((s=(l=t.initialState)==null?void 0:l.columns)==null?void 0:s.columnVisibilityModel)??{},keepOnlyColumnsToUpsert:!0});return f({},e,{columns:o,pinnedColumns:e.pinnedColumns??_o})};function Dx(e,t){var y,C;const n=it(e,"useGridColumns");e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:St,changeEvent:"columnVisibilityModelChange"});const o=c.useCallback(I=>{n.debug("Updating columns state."),e.current.setState(Hx(I)),e.current.publishEvent("columnsChange",I.orderedFields)},[n,e]),r=c.useCallback(I=>Vt(e)[I],[e]),l=c.useCallback(()=>yt(e),[e]),s=c.useCallback(()=>Xe(e),[e]),i=c.useCallback((I,M=!0)=>(M?Xe(e):yt(e)).findIndex(G=>G.field===I),[e]),a=c.useCallback(I=>{const M=i(I);return bn(e)[M]},[e,i]),d=c.useCallback(I=>{var j,G;St(e)!==I&&(e.current.setState(z=>f({},z,{columns:Mn({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:I,keepOnlyColumnsToUpsert:!1})})),(G=(j=e.current).updateRenderContext)==null||G.call(j))},[e]),u=c.useCallback(I=>{if(fn(e)){e.current.updateNonPivotColumns(I);return}const M=Mn({apiRef:e,columnsToUpsert:I,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0});o(M)},[e,o]),g=c.useCallback((I,M)=>{const j=St(e),G=j[I]??!0;if(M!==G){const z=f({},j,{[I]:M});e.current.setColumnVisibilityModel(z)}},[e]),m=c.useCallback(I=>At(e).findIndex(j=>j===I),[e]),p=c.useCallback((I,M)=>{const j=At(e),G=m(I);if(G===M)return;n.debug(`Moving column ${I} to index ${M}`);const z=[...j],F=z.splice(G,1)[0];z.splice(M,0,F),o(f({},Tt(e),{orderedFields:z}));const P={column:e.current.getColumn(I),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(I),oldIndex:G};e.current.publishEvent("columnIndexChange",P)},[e,n,o,m]),v=c.useCallback((I,M)=>{n.debug(`Updating column ${I} width to ${M}`);const j=Tt(e),G=j.lookup[I],z=f({},G,{width:M,hasBeenResized:!0});o(qr(f({},j,{lookup:f({},j.lookup,{[I]:z})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(I),colDef:z,width:M})},[e,n,o]),S={getColumn:r,getAllColumns:l,getColumnIndex:i,getColumnPosition:a,getVisibleColumns:s,getColumnIndexRelativeToVisibleColumns:m,updateColumns:u,setColumnVisibilityModel:d,setColumnVisibility:g,setColumnWidth:v},b={setColumnIndex:p};Ie(e,S,"public"),Ie(e,b,t.signature===Et.DataGrid?"private":"public");const x=c.useCallback((I,M)=>{var H,V;const j={},G=St(e);(!M.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(((V=(H=t.initialState)==null?void 0:H.columns)==null?void 0:V.columnVisibilityModel)??{}).length>0||Object.keys(G).length>0)&&(j.columnVisibilityModel=G),j.orderedFields=At(e);const F=yt(e),P={};return F.forEach(W=>{if(W.hasBeenResized){const L={};wa.forEach(A=>{let B=W[A];B===1/0&&(B=-1),L[A]=B}),P[W.field]=L}}),Object.keys(P).length>0&&(j.dimensions=P),f({},I,{columns:j})},[e,t.columnVisibilityModel,(y=t.initialState)==null?void 0:y.columns]),T=c.useCallback((I,M)=>{const j=M.stateToRestore.columns,G=j==null?void 0:j.columnVisibilityModel;if(j==null)return I;const z=Mn({apiRef:e,columnsToUpsert:[],initialState:j,columnVisibilityModel:G,keepOnlyColumnsToUpsert:!1});return j!=null&&e.current.setState(F=>f({},F,{columns:f({},F.columns,{lookup:z.lookup,orderedFields:z.orderedFields,initialColumnVisibilityModel:z.initialColumnVisibilityModel})})),G!=null&&e.current.setState(F=>f({},F,{columns:f({},F.columns,{columnVisibilityModel:G})})),j!=null&&e.current.publishEvent("columnsChange",z.orderedFields),I},[e]),D=c.useCallback((I,M)=>{var j;if(M===ot.columns){const G=t.slots.columnsPanel;return h.jsx(G,f({},(j=t.slotProps)==null?void 0:j.columnsPanel))}return I},[t.slots.columnsPanel,(C=t.slotProps)==null?void 0:C.columnsPanel]),O=c.useCallback(I=>{const M=fn(e);return t.disableColumnSelector||M?I:[...I,"columnMenuColumnsItem"]},[t.disableColumnSelector,e]);Ye(e,"columnMenu",O),Ye(e,"exportState",x),Ye(e,"restoreState",T),Ye(e,"preferencePanel",D);const k=c.useRef(null);re(e,"viewportInnerSizeChange",I=>{if(k.current!==I.width){if(k.current=I.width,!Xe(e).some(j=>j.flex&&j.flex>0))return;o(qr(Tt(e),e.current.getRootDimensions()))}});const E=c.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const I=Mn({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});o(I)},[e,n,o]);Pl(e,"hydrateColumns",E),c.useEffect(()=>{if(e.current.caches.columns.lastColumnsProp===t.columns)return;e.current.caches.columns.lastColumnsProp=t.columns,n.info(`GridColumns have changed, new length ${t.columns.length}`);const I=Mn({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:t.columnVisibilityModel});o(I)},[n,e,o,t.columns,t.columnVisibilityModel]),c.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,n,t.columnVisibilityModel])}function Hx(e){return t=>f({},t,{columns:e})}const Ox=(e,t)=>{var n;return f({},e,{density:((n=t.initialState)==null?void 0:n.density)??t.density??"standard"})},$x=(e,t)=>{var i;const n=it(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:cn,changeEvent:"densityChange"});const r={setDensity:Fe(a=>{cn(e)!==a&&(n.debug(`Set grid density to ${a}`),e.current.setState(u=>f({},u,{density:a})))})};Ie(e,r,"public");const l=c.useCallback((a,d)=>{var m;const u=cn(e);return!d.exportOnlyDirtyModels||t.density!=null||((m=t.initialState)==null?void 0:m.density)!=null?f({},a,{density:u}):a},[e,t.density,(i=t.initialState)==null?void 0:i.density]),s=c.useCallback((a,d)=>{var g;const u=(g=d.stateToRestore)!=null&&g.density?d.stateToRestore.density:cn(e);return e.current.setState(m=>f({},m,{density:u})),a},[e]);Ye(e,"exportState",l),Ye(e,"restoreState",s),c.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function Gx(e,t="csv",n=document.title||"untitled"){const o=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const r=URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=o,l.click(),setTimeout(()=>{URL.revokeObjectURL(r)});return}throw new Error("MUI X: exportAs not supported.")}const Qa=({apiRef:e,options:t})=>{const n=yt(e);return t.fields?t.fields.reduce((r,l)=>{const s=n.find(i=>i.field===l);return s&&r.push(s),r},[]):(t.allColumns?n:Xe(e)).filter(r=>r.disableExport!==!0)},Za=({apiRef:e})=>{var a,d;const t=ta(e),n=lt(e),o=ur(e),r=t.filter(u=>n[u].type!=="footer"),l=go(e),s=((a=l==null?void 0:l.top)==null?void 0:a.map(u=>u.id))||[],i=((d=l==null?void 0:l.bottom)==null?void 0:d.map(u=>u.id))||[];if(r.unshift(...s),r.push(...i),o>0){const u=ra(e);return r.filter(g=>u.has(g))}return r},Lx=(e,t)=>{const n=it(e,"useGridCsvExport"),o=t.ignoreValueFormatterDuringExport,r=(typeof o=="object"?o==null?void 0:o.csvExport:o)||!1,l=c.useCallback((d={})=>{n.debug("Get data as CSV");const u=Qa({apiRef:e,options:d}),m=(d.getRowsToExport??Za)({apiRef:e});return Ix({columns:u,rowIds:m,csvOptions:{delimiter:d.delimiter||",",shouldAppendQuotes:d.shouldAppendQuotes??!0,includeHeaders:d.includeHeaders??!0,includeColumnGroupsHeaders:d.includeColumnGroupsHeaders??!0,escapeFormulas:d.escapeFormulas??!0},ignoreValueFormatter:r,apiRef:e})},[n,e,r]),s=c.useCallback(d=>{n.debug("Export data as CSV");const u=l(d),g=new Blob([d!=null&&d.utf8WithBom?new Uint8Array([239,187,191]):"",u],{type:"text/csv"});Gx(g,"csv",d==null?void 0:d.fileName)},[n,l]);Ie(e,{getDataAsCsv:l,exportDataAsCsv:s},"public");const a=c.useCallback((d,u)=>{var g;return(g=u.csvOptions)!=null&&g.disableToolbarButton?d:[...d,{component:h.jsx(KC,{options:u.csvOptions}),componentName:"csvExport"}]},[]);Ye(e,"exportMenu",a)};function jx(e,t){const n=[],o=t.querySelectorAll("style, link[rel='stylesheet']");for(let r=0;r<o.length;r+=1){const l=o[r];if(l.tagName==="STYLE"){const s=e.createElement(l.tagName),i=l.sheet;if(i){let a="";for(let d=0;d<i.cssRules.length;d+=1)typeof i.cssRules[d].cssText=="string"&&(a+=`${i.cssRules[d].cssText}\r
`);s.appendChild(e.createTextNode(a)),e.head.appendChild(s)}}else if(l.getAttribute("href")){const s=e.createElement(l.tagName);for(let i=0;i<l.attributes.length;i+=1){const a=l.attributes[i];a&&s.setAttribute(a.nodeName,a.nodeValue||"")}n.push(new Promise(i=>{s.addEventListener("load",()=>i())})),e.head.appendChild(s)}}return n}const Ro=(e,t,n)=>{let o=e.paginationModel;const r=e.rowCount,l=(n==null?void 0:n.pageSize)??o.pageSize,s=(n==null?void 0:n.page)??o.page,i=ia(r,l,s);n&&((n==null?void 0:n.page)!==o.page||(n==null?void 0:n.pageSize)!==o.pageSize)&&(o=n);const a=l===-1?0:Sh(o.page,i);return a!==o.page&&(o=f({},o,{page:a})),ca(o.pageSize,t),o},Ax=(e,t)=>{var T,D;const n=it(e,"useGridPaginationModel"),o=K(e,ho),r=c.useRef(et(e)),l=Math.floor(t.rowHeight*o);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:rt,changeEvent:"paginationModelChange"});const s=c.useCallback(O=>{const k=rt(e);O!==k.page&&(n.debug(`Setting page to ${O}`),e.current.setPaginationModel({page:O,pageSize:k.pageSize}))},[e,n]),i=c.useCallback(O=>{const k=rt(e);O!==k.pageSize&&(n.debug(`Setting page size to ${O}`),e.current.setPaginationModel({pageSize:O,page:k.page}))},[e,n]),a=c.useCallback(O=>{const k=rt(e);O!==k&&(n.debug("Setting 'paginationModel' to",O),e.current.setState($=>f({},$,{pagination:f({},$.pagination,{paginationModel:Ro($.pagination,t.signature,O)})}),"setPaginationModel"))},[e,n,t.signature]);Ie(e,{setPage:s,setPageSize:i,setPaginationModel:a},"public");const u=c.useCallback((O,k)=>{var y,C;const $=rt(e);return!k.exportOnlyDirtyModels||t.paginationModel!=null||((C=(y=t.initialState)==null?void 0:y.pagination)==null?void 0:C.paginationModel)!=null||$.page!==0&&$.pageSize!==xh(t.autoPageSize)?f({},O,{pagination:f({},O.pagination,{paginationModel:$})}):O},[e,t.paginationModel,(D=(T=t.initialState)==null?void 0:T.pagination)==null?void 0:D.paginationModel,t.autoPageSize]),g=c.useCallback((O,k)=>{var E,y;const $=(E=k.stateToRestore.pagination)!=null&&E.paginationModel?f({},aa(t.autoPageSize),(y=k.stateToRestore.pagination)==null?void 0:y.paginationModel):rt(e);return e.current.setState(C=>f({},C,{pagination:f({},C.pagination,{paginationModel:Ro(C.pagination,t.signature,$)})}),"stateRestorePreProcessing"),O},[e,t.autoPageSize,t.signature]);Ye(e,"exportState",u),Ye(e,"restoreState",g);const m=()=>{var k;const O=rt(e);(k=e.current.virtualScrollerRef)!=null&&k.current&&e.current.scrollToIndexes({rowIndex:O.page*O.pageSize})},p=c.useCallback(()=>{if(!t.autoPageSize)return;const O=e.current.getRootDimensions(),k=Math.max(1,Math.floor(O.viewportInnerSize.height/l));e.current.setPageSize(k)},[e,t.autoPageSize,l]),v=c.useCallback(O=>{if(O==null)return;const k=rt(e);if(k.page===0)return;const $=ga(e);k.page>$-1&&e.current.setPage(Math.max(0,$-1))},[e]),S=c.useCallback(()=>{rt(e).page!==0&&e.current.setPage(0),e.current.getScrollPosition().top!==0&&e.current.scroll({top:0})},[e]),b=c.useCallback(O=>{const k=f({},O,{items:cr(e)});vt(k,r.current)||(r.current=k,S())},[e,S]);re(e,"viewportInnerSizeChange",p),re(e,"paginationModelChange",m),re(e,"rowCountChange",v),re(e,"sortModelChange",S),re(e,"filterModelChange",b);const x=c.useRef(!0);c.useEffect(()=>{if(x.current){x.current=!1;return}t.pagination&&e.current.setState(O=>f({},O,{pagination:f({},O.pagination,{paginationModel:Ro(O.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.signature,t.pagination]),c.useEffect(()=>{e.current.setState(O=>{const k=t.pagination===!0;return O.pagination.paginationMode===t.paginationMode||O.pagination.enabled===k?O:f({},O,{pagination:f({},O.pagination,{paginationMode:t.paginationMode,enabled:t.pagination===!0})})})},[e,t.paginationMode,t.pagination]),c.useEffect(p,[p])};function zx(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function Rx(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const Vx=(e,t)=>{const n=e.current.rootElementRef.current!==null,o=it(e,"useGridPrintExport"),r=c.useRef(null),l=c.useRef(null),s=c.useRef({}),i=c.useRef([]),a=c.useRef(null);c.useEffect(()=>{r.current=dn(e.current.rootElementRef.current)},[e,n]);const d=c.useCallback((b,x,T)=>new Promise(D=>{const O=Qa({apiRef:e,options:{fields:b,allColumns:x}}).map(E=>E.field),k=yt(e),$={};k.forEach(E=>{$[E.field]=O.includes(E.field)}),T&&($[Bn.field]=!0),e.current.setColumnVisibilityModel($),D()}),[e]),u=c.useCallback(b=>{const T=b({apiRef:e}).reduce((D,O)=>{const k=e.current.getRow(O);return k[On]||D.push(k),D},[]);e.current.setRows(T)},[e]),g=c.useCallback((b,x)=>{var F,P,H;const T=f({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},x),D=b.contentDocument;if(!D)return;const O=nr(e),k=e.current.rootElementRef.current,$=k.cloneNode(!0),E=$.querySelector(`.${w.main}`);E.style.overflow="visible",$.style.contain="size";let y=((F=k.querySelector(`.${w.toolbar}`))==null?void 0:F.offsetHeight)||0,C=((P=k.querySelector(`.${w.footerContainer}`))==null?void 0:P.offsetHeight)||0;const I=$.querySelector(`.${w.footerContainer}`);T.hideToolbar&&((H=$.querySelector(`.${w.toolbar}`))==null||H.remove(),y=0),T.hideFooter&&I&&(I.remove(),C=0);const M=O.currentPageTotalHeight+xo(e,t)+y+C;$.style.height=`${M}px`,$.style.boxSizing="content-box",!T.hideFooter&&I&&(I.style.position="absolute",I.style.width="100%",I.style.top=`${M-C}px`);const j=document.createElement("div");j.appendChild($),D.body.style.marginTop="0px",D.body.innerHTML=j.innerHTML;const G=typeof T.pageStyle=="function"?T.pageStyle():T.pageStyle;if(typeof G=="string"){const V=D.createElement("style");V.appendChild(D.createTextNode(G)),D.head.appendChild(V)}T.bodyClassName&&D.body.classList.add(...T.bodyClassName.split(" "));let z=[];if(T.copyStyles){const V=k.getRootNode(),W=V.constructor.name==="ShadowRoot"?V:r.current;z=jx(D,W)}Promise.all(z).then(()=>{b.contentWindow.print()})},[e,r,t]),m=c.useCallback(b=>{var x,T;r.current.body.removeChild(b),e.current.restoreState(l.current||{}),(T=(x=l.current)==null?void 0:x.columns)!=null&&T.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState(D=>f({},D,{virtualization:a.current})),e.current.setRows(i.current),l.current=null,s.current={},i.current=[]},[e]),v={exportDataAsPrint:c.useCallback(async b=>{if(o.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(l.current=e.current.exportState(),s.current=St(e),i.current=e.current.getSortedRows().filter(T=>!T[On]),t.pagination){const D={page:0,pageSize:pl(e)};e.current.setState(O=>f({},O,{pagination:f({},O.pagination,{paginationModel:Ro(O.pagination,"DataGridPro",D)})}))}a.current=e.current.state.virtualization,e.current.unstable_setVirtualization(!1),await d(b==null?void 0:b.fields,b==null?void 0:b.allColumns,b==null?void 0:b.includeCheckboxes),u((b==null?void 0:b.getRowsToExport)??Za),await zx();const x=Rx(b==null?void 0:b.fileName);x.onload=()=>{g(x,b),x.contentWindow.matchMedia("print").addEventListener("change",D=>{D.matches===!1&&m(x)})},r.current.body.appendChild(x)},[t,o,e,g,m,d,u])};Ie(e,v,"public");const S=c.useCallback((b,x)=>{var T;return(T=x.printOptions)!=null&&T.disableToolbarButton?b:[...b,{component:h.jsx(qC,{options:x.printOptions}),componentName:"printExport"}]},[]);Ye(e,"exportMenu",S)},Nx=(e,t,n)=>{var r,l;const o=t.filterModel??((l=(r=t.initialState)==null?void 0:r.filter)==null?void 0:l.filterModel)??so();return f({},e,{filter:f({filterModel:gl(o,t.disableMultipleColumnsFiltering,n)},Gi),visibleRowsLookup:{}})},Bx=e=>e.filteredRowsLookup;function qs(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function _x(){return rl(Object.values)}const Wx=(e,t)=>{var y,C,I;const n=it(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:et,changeEvent:"filterModelChange"});const o=c.useCallback(()=>{e.current.setState(M=>{const j=et(e),G=e.current.getFilterState(j),z=f({},M,{filter:f({},M.filter,G)}),F=qs(e,z);return f({},z,{visibleRowsLookup:F})}),e.current.publishEvent("filteredRowsSet")},[e]),r=c.useCallback((M,j)=>j==null||j.filterable===!1||t.disableColumnFilter?M:[...M,"columnMenuFilterItem"],[t.disableColumnFilter]),l=c.useCallback(M=>{const j=et(e),G=[...j.items],z=G.findIndex(F=>F.id===M.id);z===-1?G.push(M):G[z]=M,e.current.setFilterModel(f({},j,{items:G}),"upsertFilterItem")},[e]),s=c.useCallback(M=>{const j=et(e),G=[...j.items];M.forEach(z=>{const F=G.findIndex(P=>P.id===z.id);F===-1?G.push(z):G[F]=z}),e.current.setFilterModel(f({},j,{items:G}),"upsertFilterItems")},[e]),i=c.useCallback(M=>{const j=et(e),G=j.items.filter(z=>z.id!==M.id);G.length!==j.items.length&&e.current.setFilterModel(f({},j,{items:G}),"deleteFilterItem")},[e]),a=c.useCallback((M,j,G)=>{if(n.debug("Displaying filter panel"),M){const z=et(e),F=z.items.filter(W=>{var Y;if(W.value!==void 0)return!(Array.isArray(W.value)&&W.value.length===0);const A=(Y=e.current.getColumn(W.field).filterOperators)==null?void 0:Y.find(_=>_.value===W.operator);return!(typeof(A==null?void 0:A.requiresFilterValue)>"u"?!0:A==null?void 0:A.requiresFilterValue)});let P;const H=F.find(W=>W.field===M),V=e.current.getColumn(M);H?P=F:t.disableMultipleColumnsFiltering?P=[Kr({field:M,operator:V.filterOperators[0].value},e)]:P=[...F,Kr({field:M,operator:V.filterOperators[0].value},e)],e.current.setFilterModel(f({},z,{items:P}))}e.current.showPreferences(ot.filters,j,G)},[e,n,t.disableMultipleColumnsFiltering]),d=c.useCallback(()=>{n.debug("Hiding filter panel"),e.current.hidePreferences()},[e,n]),u=c.useCallback(M=>{const j=et(e);j.logicOperator!==M&&e.current.setFilterModel(f({},j,{logicOperator:M}),"changeLogicOperator")},[e]),g=c.useCallback(M=>{const j=et(e);vt(j.quickFilterValues,M)||e.current.setFilterModel(f({},j,{quickFilterValues:[...M]}))},[e]),m=c.useCallback((M,j)=>{et(e)!==M&&(n.debug("Setting filter model"),e.current.updateControlState("filter",ms(M,t.disableMultipleColumnsFiltering,e),j),e.current.unstable_applyFilters())},[e,n,t.disableMultipleColumnsFiltering]),p=c.useCallback(M=>{const j=gl(M,t.disableMultipleColumnsFiltering,e),G=t.filterMode==="client"?kg(j,e,t.disableEval):null,z=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:G,filterModel:j??so()});return f({},z,{filterModel:j})},[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),v={setFilterLogicOperator:u,unstable_applyFilters:o,deleteFilterItem:i,upsertFilterItem:l,upsertFilterItems:s,setFilterModel:m,showFilterPanel:a,hideFilterPanel:d,setQuickFilterValues:g,ignoreDiacritics:t.ignoreDiacritics,getFilterState:p};Ie(e,v,"public");const S=c.useCallback((M,j)=>{var F,P;const G=et(e);return G.items.forEach(H=>{delete H.fromInput}),!j.exportOnlyDirtyModels||t.filterModel!=null||((P=(F=t.initialState)==null?void 0:F.filter)==null?void 0:P.filterModel)!=null||!vt(G,so())?f({},M,{filter:{filterModel:G}}):M},[e,t.filterModel,(C=(y=t.initialState)==null?void 0:y.filter)==null?void 0:C.filterModel]),b=c.useCallback((M,j)=>{var z;const G=(z=j.stateToRestore.filter)==null?void 0:z.filterModel;return G==null?M:(e.current.updateControlState("filter",ms(G,t.disableMultipleColumnsFiltering,e),"restoreState"),f({},M,{callbacks:[...M.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),x=c.useCallback((M,j)=>{var G;if(j===ot.filters){const z=t.slots.filterPanel;return h.jsx(z,f({},(G=t.slotProps)==null?void 0:G.filterPanel))}return M},[t.slots.filterPanel,(I=t.slotProps)==null?void 0:I.filterPanel]),{getRowId:T}=t,D=Ht(_x),O=c.useCallback(M=>{var L;if(t.filterMode!=="client"||!M.isRowMatchingFilters||!M.filterModel.items.length&&!((L=M.filterModel.quickFilterValues)!=null&&L.length))return Gi;const j=xt(e),G={},{isRowMatchingFilters:z}=M,F={},P={passingFilterItems:null,passingQuickFilterValues:null},H=D.current(e.current.state.rows.dataRowIdToModelLookup);for(let A=0;A<H.length;A+=1){const B=H[A],Y=T?T(B):B.id;z(B,void 0,P);const _=Eg([P.passingFilterItems],[P.passingQuickFilterValues],M.filterModel,e,F);_||(G[Y]=_)}const V="auto-generated-group-footer-root";return j[V]&&(G[V]=!0),{filteredRowsLookup:G,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode,T,D]);Ye(e,"columnMenu",r),Ye(e,"exportState",S),Ye(e,"restoreState",b),Ye(e,"preferencePanel",x),uo(e,mn,"filtering",O),uo(e,mn,"visibleRowsLookupCreation",Bx);const k=c.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const M=et(e),j=Vt(e),G=M.items.filter(z=>z.field&&j[z.field]);G.length<M.items.length&&e.current.setFilterModel(f({},M,{items:G}))},[e,n]),$=c.useCallback(M=>{M==="filtering"&&e.current.unstable_applyFilters()},[e]),E=c.useCallback(()=>{e.current.setState(M=>f({},M,{visibleRowsLookup:qs(e,M)}))},[e]);re(e,"rowsSet",o),re(e,"columnsChange",k),re(e,"activeStrategyProcessorChange",$),re(e,"rowExpansionChange",E),re(e,"columnVisibilityModelChange",()=>{var j;const M=et(e);(j=M.quickFilterValues)!=null&&j.length&&_i(M)&&o()}),Cn(()=>{o()}),st(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,n,t.filterModel])},Ux=e=>f({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),Kx=(e,t)=>{const n=it(e,"useGridFocus"),o=c.useRef(null),r=e.current.rootElementRef.current!==null,l=c.useCallback((y,C)=>{y&&e.current.getRow(y.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(y.id,y.field),C)},[e]),s=c.useCallback((y,C)=>{const I=ht(e);(I==null?void 0:I.id)===y&&(I==null?void 0:I.field)===C||(e.current.setState(M=>(n.debug(`Focusing on cell with id=${y} and field=${C}`),f({},M,{tabIndex:{cell:{id:y,field:C},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:y,field:C},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.getRow(y)&&(I&&l(I,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(y,C))))},[e,n,l]),i=c.useCallback((y,C={})=>{const I=ht(e);l(I,C),e.current.setState(M=>(n.debug(`Focusing on column header with colIndex=${y}`),f({},M,{tabIndex:{columnHeader:{field:y},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:y},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[e,n,l]),a=c.useCallback((y,C={})=>{const I=ht(e);l(I,C),e.current.setState(M=>(n.debug(`Focusing on column header filter with colIndex=${y}`),f({},M,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:y},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:y},cell:null,columnGroupHeader:null}})))},[e,n,l]),d=c.useCallback((y,C,I={})=>{const M=ht(e);M&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(M.id,M.field),I),e.current.setState(j=>f({},j,{tabIndex:{columnGroupHeader:{field:y,depth:C},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:y,depth:C},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[e]),u=c.useCallback(()=>Uo(e),[e]),g=c.useCallback((y,C,I)=>{let M=e.current.getColumnIndex(C);const j=Xe(e),G=Dn(e,{pagination:t.pagination,paginationMode:t.paginationMode}),z=go(e),F=[].concat(z.top||[],G.rows,z.bottom||[]);let P=F.findIndex(L=>L.id===y);I==="right"?M+=1:I==="left"?M-=1:P+=1,M>=j.length?(P+=1,P<F.length&&(M=0)):M<0&&(P-=1,P>=0&&(M=j.length-1)),P=gn(P,0,F.length-1);const H=F[P];if(!H)return;const V=e.current.unstable_getCellColSpanInfo(H.id,M);V&&V.spannedByColSpan&&(I==="left"||I==="below"?M=V.leftVisibleCellIndex:I==="right"&&(M=V.rightVisibleCellIndex)),M=gn(M,0,j.length-1);const W=j[M];e.current.setCellFocus(H.id,W.field)},[e,t.pagination,t.paginationMode]),m=c.useCallback(({id:y,field:C})=>{e.current.setCellFocus(y,C)},[e]),p=c.useCallback((y,C)=>{C.key==="Enter"||C.key==="Tab"||C.key==="Shift"||Wo(C.key)||e.current.setCellFocus(y.id,y.field)},[e]),v=c.useCallback(({field:y},C)=>{C.target===C.currentTarget&&e.current.setColumnHeaderFocus(y,C)},[e]),S=c.useCallback(({fields:y,depth:C},I)=>{if(I.target!==I.currentTarget)return;const M=Uo(e);M!==null&&M.depth===C&&y.includes(M.field)||e.current.setColumnGroupHeaderFocus(y[0],C,I)},[e]),b=c.useCallback((y,C)=>{var I,M;(M=(I=C.relatedTarget)==null?void 0:I.getAttribute("class"))!=null&&M.includes(w.columnHeader)||(n.debug("Clearing focus"),e.current.setState(j=>f({},j,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),x=c.useCallback(y=>{o.current=y},[]),T=c.useCallback(y=>{const C=o.current;o.current=null;const I=ht(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:y,cell:C}))return;if(!I){C&&e.current.setCellFocus(C.id,C.field);return}if((C==null?void 0:C.id)===I.id&&(C==null?void 0:C.field)===I.field)return;const j=e.current.getCellElement(I.id,I.field);j!=null&&j.contains(y.target)||(C?e.current.setCellFocus(C.id,C.field):(e.current.setState(G=>f({},G,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),l(I,y)))},[e,l]),D=c.useCallback(y=>{if(y.cellMode==="view")return;const C=ht(e);((C==null?void 0:C.id)!==y.id||(C==null?void 0:C.field)!==y.field)&&e.current.setCellFocus(y.id,y.field)},[e]),O=c.useCallback(()=>{const y=ht(e);if(y&&!e.current.getRow(y.id)){const C=y.id;let I=null;if(typeof C<"u"){const M=e.current.getRowElement(C),j=M!=null&&M.dataset.rowindex?Number(M==null?void 0:M.dataset.rowindex):0,G=Dn(e,{pagination:t.pagination,paginationMode:t.paginationMode}),z=G.rows[gn(j,0,G.rows.length-1)];I=(z==null?void 0:z.id)??null}e.current.setState(M=>f({},M,{focus:{cell:I===null?null:{id:I,field:y.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[e,t.pagination,t.paginationMode]),k=Fe(()=>{const y=ht(e);if(!y)return;const C=Dn(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(C.rows.find(j=>j.id===y.id)||C.rows.length===0)return;const M=Xe(e);e.current.setState(j=>f({},j,{tabIndex:{cell:{id:C.rows[0].id,field:M[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),$={setCellFocus:s,setColumnHeaderFocus:i,setColumnHeaderFilterFocus:a},E={moveFocusToRelativeCell:g,setColumnGroupHeaderFocus:d,getColumnGroupHeaderFocus:u};Ie(e,$,"public"),Ie(e,E,"private"),c.useEffect(()=>{const y=dn(e.current.rootElementRef.current);return y.addEventListener("mouseup",T),()=>{y.removeEventListener("mouseup",T)}},[e,r,T]),re(e,"columnHeaderBlur",b),re(e,"cellDoubleClick",m),re(e,"cellMouseDown",x),re(e,"cellKeyDown",p),re(e,"cellModeChange",D),re(e,"columnHeaderFocus",v),re(e,"columnGroupHeaderFocus",S),re(e,"rowsSet",O),re(e,"paginationModelChange",k)},Gr=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:o})=>{if(o){if(e<n)return e+1}else if(!o&&e>t)return e-1;return null},Lr=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:o})=>{if(o){if(e>t)return e-1}else if(!o&&e<n)return e+1;return null};function qx(e,t,n,o){var i,a;const r=jn.selectors.hiddenCells(e.current.virtualizer.store.state);if(!((i=r[t])!=null&&i[n]))return t;const l=ta(e);let s=l.indexOf(t)+(o==="down"?1:-1);for(;s>=0&&s<l.length;){const d=l[s];if(!((a=r[d])!=null&&a[n]))return d;s+=o==="down"?1:-1}return t}const Yx=Le(Co,go,(e,t)=>(t.top||[]).concat(e.rows,t.bottom||[])),Xx=(e,t)=>{const n=it(e,"useGridKeyboardNavigation"),o=Rt(),r=c.useCallback(()=>Yx(e),[e]),l=t.signature!=="DataGrid"&&t.headerFilters,s=c.useCallback((b,x,T="left",D="up")=>{const O=ln(e),k=e.current.unstable_getCellColSpanInfo(x,b);k&&k.spannedByColSpan&&(T==="left"?b=k.leftVisibleCellIndex:T==="right"&&(b=k.rightVisibleCellIndex));const $=fo(e)[b],E=qx(e,x,b,D),y=O.findIndex(C=>C.id===E);n.debug(`Navigating to cell row ${y}, col ${b}`),e.current.scrollToIndexes({colIndex:b,rowIndex:y}),e.current.setCellFocus(E,$)},[e,n]),i=c.useCallback((b,x)=>{n.debug(`Navigating to header col ${b}`),e.current.scrollToIndexes({colIndex:b});const T=e.current.getVisibleColumns()[b].field;e.current.setColumnHeaderFocus(T,x)},[e,n]),a=c.useCallback((b,x)=>{n.debug(`Navigating to header filter col ${b}`),e.current.scrollToIndexes({colIndex:b});const T=e.current.getVisibleColumns()[b].field;e.current.setColumnHeaderFilterFocus(T,x)},[e,n]),d=c.useCallback((b,x,T)=>{n.debug(`Navigating to header col ${b}`),e.current.scrollToIndexes({colIndex:b});const{field:D}=e.current.getVisibleColumns()[b];e.current.setColumnGroupHeaderFocus(D,x,T)},[e,n]),u=c.useCallback(b=>{var x;return(x=r()[b])==null?void 0:x.id},[r]),g=c.useCallback((b,x)=>{const T=x.currentTarget.querySelector(`.${w.columnHeaderTitleContainerContent}`);if(!!T&&T.contains(x.target)&&b.field!==Bn.field)return;const O=r(),k=e.current.getViewportPageSize(),$=b.field?e.current.getColumnIndex(b.field):0,E=O.length>0?0:null,y=O.length-1,C=0,I=Xe(e).length-1,M=wo(e);let j=!0;switch(x.key){case"ArrowDown":{l?a($,x):E!==null&&s($,u(E));break}case"ArrowRight":{const G=Lr({currentColIndex:$,firstColIndex:C,lastColIndex:I,isRtl:o});G!==null&&i(G,x);break}case"ArrowLeft":{const G=Gr({currentColIndex:$,firstColIndex:C,lastColIndex:I,isRtl:o});G!==null&&i(G,x);break}case"ArrowUp":{M>0&&d($,M-1,x);break}case"PageDown":{E!==null&&y!==null&&s($,u(Math.min(E+k,y)));break}case"Home":{i(C,x);break}case"End":{i(I,x);break}case"Enter":{(x.ctrlKey||x.metaKey)&&e.current.toggleColumnMenu(b.field);break}case" ":break;default:j=!1}j&&x.preventDefault()},[e,r,l,a,s,u,o,i,d]),m=c.useCallback((b,x)=>{const T=nf(e)===b.field,D=of(e)===b.field;if(T||D||!Wo(x.key))return;const O=r(),k=e.current.getViewportPageSize(),$=b.field?e.current.getColumnIndex(b.field):0,E=0,y=O.length-1,C=0,I=Xe(e).length-1;let M=!0;switch(x.key){case"ArrowDown":{const j=u(E);j!=null&&s($,j);break}case"ArrowRight":{const j=Lr({currentColIndex:$,firstColIndex:C,lastColIndex:I,isRtl:o});j!==null&&a(j,x);break}case"ArrowLeft":{const j=Gr({currentColIndex:$,firstColIndex:C,lastColIndex:I,isRtl:o});j!==null?a(j,x):e.current.setColumnHeaderFilterFocus(b.field,x);break}case"ArrowUp":{i($,x);break}case"PageDown":{y!==null&&s($,u(Math.min(E+k,y)));break}case"Home":{a(C,x);break}case"End":{a(I,x);break}case" ":break;default:M=!1}M&&x.preventDefault()},[e,r,a,o,i,s,u]),p=c.useCallback((b,x)=>{const T=Uo(e);if(T===null)return;const{field:D,depth:O}=T,{fields:k,depth:$,maxDepth:E}=b,y=r(),C=e.current.getViewportPageSize(),I=e.current.getColumnIndex(D),M=D?e.current.getColumnIndex(D):0,j=0,G=y.length-1,z=0,F=Xe(e).length-1;let P=!0;switch(x.key){case"ArrowDown":{$===E-1?i(I,x):d(I,O+1,x);break}case"ArrowUp":{$>0&&d(I,O-1,x);break}case"ArrowRight":{const H=k.length-k.indexOf(D)-1;I+H+1<=F&&d(I+H+1,O,x);break}case"ArrowLeft":{const H=k.indexOf(D);I-H-1>=z&&d(I-H-1,O,x);break}case"PageDown":{G!==null&&s(M,u(Math.min(j+C,G)));break}case"Home":{d(z,O,x);break}case"End":{d(F,O,x);break}case" ":break;default:P=!1}P&&x.preventDefault()},[e,r,i,d,s,u]),v=c.useCallback((b,x)=>{if(yo(x))return;const T=e.current.getCellParams(b.id,b.field);if(T.cellMode===ze.Edit||!Wo(x.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:x,cell:T}))return;const O=r();if(O.length===0)return;const k=e.current.getViewportPageSize(),$=b.field?e.current.getColumnIndex(b.field):0,E=O.findIndex(G=>G.id===b.id),y=0,C=O.length-1,I=0,M=Xe(e).length-1;let j=!0;switch(x.key){case"ArrowDown":{E<C&&s($,u(E+1),o?"right":"left","down");break}case"ArrowUp":{E>y?s($,u(E-1)):l?a($,x):i($,x);break}case"ArrowRight":{const G=Lr({currentColIndex:$,firstColIndex:I,lastColIndex:M,isRtl:o});G!==null&&s(G,u(E),o?"left":"right");break}case"ArrowLeft":{const G=Gr({currentColIndex:$,firstColIndex:I,lastColIndex:M,isRtl:o});G!==null&&s(G,u(E),o?"right":"left");break}case"Tab":{x.shiftKey&&$>I?s($-1,u(E),"left"):!x.shiftKey&&$<M&&s($+1,u(E),"right");break}case" ":{if(b.field===fl)break;const z=b.colDef;if(z&&(z.field===Ug||Um(z.field)))break;!x.shiftKey&&E<C&&s($,u(Math.min(E+k,C)));break}case"PageDown":{E<C&&s($,u(Math.min(E+k,C)));break}case"PageUp":{const G=Math.max(E-k,y);G!==E&&G>=y?s($,u(G)):i($,x);break}case"Home":{x.ctrlKey||x.metaKey||x.shiftKey?s(I,u(y)):s(I,u(E));break}case"End":{x.ctrlKey||x.metaKey||x.shiftKey?s(M,u(C)):s(M,u(E));break}default:j=!1}j&&x.preventDefault()},[e,r,o,s,u,l,a,i]),S=c.useCallback((b,{event:x})=>x.key===" "?!1:b,[]);Ye(e,"canStartEditing",S),re(e,"columnHeaderKeyDown",g),re(e,"headerFilterKeyDown",m),re(e,"columnGroupHeaderKeyDown",p),re(e,"cellKeyDown",v)},Qx=(e,t)=>{var v,S;const n=it(e,"useGridRowCount"),o=K(e,bl),r=K(e,kn),l=K(e,eo),s=K(e,rt),i=Ht(()=>rt(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:kn,changeEvent:"rowCountChange"});const d={setRowCount:c.useCallback(b=>{r!==b&&(n.debug("Setting 'rowCount' to",b),e.current.setState(x=>f({},x,{pagination:f({},x.pagination,{rowCount:b})})))},[e,n,r])};Ie(e,d,"public");const u=c.useCallback((b,x)=>{var O,k;const T=kn(e);return!x.exportOnlyDirtyModels||t.rowCount!=null||((k=(O=t.initialState)==null?void 0:O.pagination)==null?void 0:k.rowCount)!=null?f({},b,{pagination:f({},b.pagination,{rowCount:T})}):b},[e,t.rowCount,(S=(v=t.initialState)==null?void 0:v.pagination)==null?void 0:S.rowCount]),g=c.useCallback((b,x)=>{var D;const T=(D=x.stateToRestore.pagination)!=null&&D.rowCount?x.stateToRestore.pagination.rowCount:kn(e);return e.current.setState(O=>f({},O,{pagination:f({},O.pagination,{rowCount:T})})),b},[e]);Ye(e,"exportState",u),Ye(e,"restoreState",g);const m=c.useCallback(b=>{t.paginationMode==="client"||!i.current||b.pageSize!==i.current&&(i.current=b.pageSize,r===-1&&e.current.setPage(0))},[t.paginationMode,i,r,e]);re(e,"paginationModelChange",m),c.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(o):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,o,t.rowCount]);const p=l.hasNextPage===!1;c.useEffect(()=>{p&&r===-1&&e.current.setRowCount(s.pageSize*s.page+o)},[e,o,p,r,s])},Zx=(e,t)=>{var a,d;const n=it(e,"useGridPaginationMeta"),o=K(e,eo);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:eo,changeEvent:"paginationMetaChange"});const l={setPaginationMeta:c.useCallback(u=>{o!==u&&(n.debug("Setting 'paginationMeta' to",u),e.current.setState(g=>f({},g,{pagination:f({},g.pagination,{meta:u})})))},[e,n,o])};Ie(e,l,"public");const s=c.useCallback((u,g)=>{var v,S;const m=eo(e);return!g.exportOnlyDirtyModels||t.paginationMeta!=null||((S=(v=t.initialState)==null?void 0:v.pagination)==null?void 0:S.meta)!=null?f({},u,{pagination:f({},u.pagination,{meta:m})}):u},[e,t.paginationMeta,(d=(a=t.initialState)==null?void 0:a.pagination)==null?void 0:d.meta]),i=c.useCallback((u,g)=>{var p;const m=(p=g.stateToRestore.pagination)!=null&&p.meta?g.stateToRestore.pagination.meta:eo(e);return e.current.setState(v=>f({},v,{pagination:f({},v.pagination,{meta:m})})),u},[e]);Ye(e,"exportState",s),Ye(e,"restoreState",i),c.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},Jx=(e,t)=>{var l,s,i,a,d,u,g;const n=f({},aa(t.autoPageSize),t.paginationModel??((s=(l=t.initialState)==null?void 0:l.pagination)==null?void 0:s.paginationModel));ca(n.pageSize,t.signature);const o=t.rowCount??((a=(i=t.initialState)==null?void 0:i.pagination)==null?void 0:a.rowCount)??(t.paginationMode==="client"?(d=e.rows)==null?void 0:d.totalRowCount:void 0),r=t.paginationMeta??((g=(u=t.initialState)==null?void 0:u.pagination)==null?void 0:g.meta)??{};return f({},e,{pagination:f({},e.pagination,{paginationModel:n,rowCount:o,meta:r,enabled:t.pagination===!0,paginationMode:t.paginationMode})})},eS=(e,t)=>{Zx(e,t),Ax(e,t),Qx(e,t)},tS=(e,t)=>{var n;return f({},e,{preferencePanel:((n=t.initialState)==null?void 0:n.preferencePanel)??{open:!1}})},nS=(e,t)=>{var i;const n=it(e,"useGridPreferencesPanel"),o=c.useCallback(()=>{e.current.setState(a=>{if(!a.preferencePanel.open)return a;n.debug("Hiding Preferences Panel");const d=Kt(e);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:d.openedPanelValue}),f({},a,{preferencePanel:{open:!1}})})},[e,n]),r=c.useCallback((a,d,u)=>{n.debug("Opening Preferences Panel"),e.current.setState(g=>f({},g,{preferencePanel:f({},g.preferencePanel,{open:!0,openedPanelValue:a,panelId:d,labelId:u})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:a})},[n,e]);Ie(e,{showPreferences:r,hidePreferences:o},"public");const l=c.useCallback((a,d)=>{var m;const u=Kt(e);return!d.exportOnlyDirtyModels||((m=t.initialState)==null?void 0:m.preferencePanel)!=null||u.open?f({},a,{preferencePanel:u}):a},[e,(i=t.initialState)==null?void 0:i.preferencePanel]),s=c.useCallback((a,d)=>{const u=d.stateToRestore.preferencePanel;return u!=null&&e.current.setState(g=>f({},g,{preferencePanel:u})),a},[e]);Ye(e,"exportState",l),Ye(e,"restoreState",s)},Zr=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},oS=["id","field"],rS=["id","field"],lS=(e,t)=>{const[n,o]=c.useState({}),r=c.useRef(n),l=c.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:i,cellModesModel:a,onCellModesModelChange:d}=t,u=F=>(...P)=>{t.editMode===zt.Cell&&F(...P)},g=c.useCallback((F,P)=>{const H=e.current.getCellParams(F,P);if(!e.current.isCellEditable(H))throw new Error(`MUI X: The cell with id=${F} and field=${P} is not editable.`)},[e]),m=c.useCallback((F,P,H)=>{if(e.current.getCellMode(F,P)!==H)throw new Error(`MUI X: The cell with id=${F} and field=${P} is not in ${H} mode.`)},[e]),p=c.useCallback((F,P)=>{if(!F.isEditable||F.cellMode===ze.Edit)return;const H=f({},F,{reason:Bt.cellDoubleClick});e.current.publishEvent("cellEditStart",H,P)},[e]),v=c.useCallback((F,P)=>{if(F.cellMode===ze.View||e.current.getCellMode(F.id,F.field)===ze.View)return;const H=f({},F,{reason:kt.cellFocusOut});e.current.publishEvent("cellEditStop",H,P)},[e]),S=c.useCallback((F,P)=>{if(F.cellMode===ze.Edit){if(P.which===229)return;let H;if(P.key==="Escape"?H=kt.escapeKeyDown:P.key==="Enter"?H=kt.enterKeyDown:P.key==="Tab"&&(H=P.shiftKey?kt.shiftTabKeyDown:kt.tabKeyDown,P.preventDefault()),H){const V=f({},F,{reason:H});e.current.publishEvent("cellEditStop",V,P)}}else if(F.isEditable){let H;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:P,cellParams:F,editMode:"cell"}))return;if(Wi(P)?H=Bt.printableKeyDown:Ki(P)?H=Bt.pasteKeyDown:P.key==="Enter"?H=Bt.enterKeyDown:(P.key==="Backspace"||P.key==="Delete")&&(H=Bt.deleteKeyDown),H){const W=f({},F,{reason:H,key:P.key});e.current.publishEvent("cellEditStart",W,P)}}},[e]),b=c.useCallback(F=>{const{id:P,field:H,reason:V}=F,W={id:P,field:H};(V===Bt.printableKeyDown||V===Bt.deleteKeyDown||V===Bt.pasteKeyDown)&&(W.deleteValue=!0),e.current.startCellEditMode(W)},[e]),x=c.useCallback(F=>{const{id:P,field:H,reason:V}=F;e.current.runPendingEditCellValueMutation(P,H);let W;V===kt.enterKeyDown?W="below":V===kt.tabKeyDown?W="right":V===kt.shiftTabKeyDown&&(W="left");const L=V==="escapeKeyDown";e.current.stopCellEditMode({id:P,field:H,ignoreModifications:L,cellToFocusAfter:W})},[e]),T=F=>async(...P)=>{var H;if(F){const{id:V,field:W}=P[0];((H=e.current.state.editRows[V][W])==null?void 0:H.error)||F(...P)}};re(e,"cellDoubleClick",u(p)),re(e,"cellFocusOut",u(v)),re(e,"cellKeyDown",u(S)),re(e,"cellEditStart",u(b)),re(e,"cellEditStop",u(x)),Ve(e,"cellEditStart",t.onCellEditStart),Ve(e,"cellEditStop",T(t.onCellEditStop));const D=c.useCallback((F,P)=>{const H=tt(e);return H[F]&&H[F][P]?ze.Edit:ze.View},[e]),O=Fe(F=>{const P=F!==t.cellModesModel;d&&P&&d(F,{api:e.current}),!(t.cellModesModel&&P)&&(o(F),r.current=F,e.current.publishEvent("cellModesModelChange",F))}),k=c.useCallback((F,P,H)=>{const V=f({},r.current);if(H!==null)V[F]=f({},V[F],{[P]:f({},H)});else{const W=V[F],L=Q(W,[P].map(co));V[F]=L,Object.keys(V[F]).length===0&&delete V[F]}O(V)},[O]),$=c.useCallback((F,P,H)=>{e.current.setState(V=>{const W=f({},V.editRows);return H!==null?W[F]=f({},W[F],{[P]:f({},H)}):(delete W[F][P],Object.keys(W[F]).length===0&&delete W[F]),f({},V,{editRows:W})})},[e]),E=c.useCallback(F=>{const{id:P,field:H}=F,V=Q(F,oS);g(P,H),m(P,H,ze.View),k(P,H,f({mode:ze.Edit},V))},[g,m,k]),y=Fe(async F=>{const{id:P,field:H,deleteValue:V,initialValue:W}=F,L=e.current.getCellValue(P,H);let A=L;V?A=Zr(e.current.getColumn(H)):W&&(A=W);const B=e.current.getColumn(H),Y=!!B.preProcessEditCellProps&&V;let _={value:A,error:!1,isProcessingProps:Y};if($(P,H,_),e.current.setCellFocus(P,H),Y&&(_=await Promise.resolve(B.preProcessEditCellProps({id:P,row:e.current.getRow(P),props:_,hasChanged:A!==L})),e.current.getCellMode(P,H)===ze.Edit)){const J=tt(e);$(P,H,f({},_,{value:J[P][H].value,isProcessingProps:!1}))}}),C=c.useCallback(F=>{const{id:P,field:H}=F,V=Q(F,rS);m(P,H,ze.Edit),k(P,H,f({mode:ze.View},V))},[m,k]),I=Fe(async F=>{var q;const{id:P,field:H,ignoreModifications:V,cellToFocusAfter:W="none"}=F;m(P,H,ze.Edit),e.current.runPendingEditCellValueMutation(P,H);const L=()=>{$(P,H,null),k(P,H,null),W!=="none"&&e.current.moveFocusToRelativeCell(P,H,W)};if(V){L();return}const A=tt(e),{error:B,isProcessingProps:Y}=A[P][H],_=e.current.getRow(P);if(B||Y){l.current[P][H].mode=ze.Edit,k(P,H,{mode:ze.Edit});return}const J=e.current.getRowWithUpdatedValuesFromCellEditing(P,H);if((q=t.dataSource)!=null&&q.updateRow){if(vt(_,J)){L();return}const ge=()=>{l.current[P][H].mode=ze.Edit,k(P,H,{mode:ze.Edit})},ce={rowId:P,updatedRow:J,previousRow:_};try{await e.current.dataSource.editRow(ce),L()}catch{ge()}}else if(s){const ge=ce=>{l.current[P][H].mode=ze.Edit,k(P,H,{mode:ze.Edit}),i&&i(ce)};try{Promise.resolve(s(J,_,{rowId:P})).then(ce=>{e.current.updateRows([ce]),L()}).catch(ge)}catch(ce){ge(ce)}}else e.current.updateRows([J]),L()}),M=c.useCallback(async F=>{var q,ge;const{id:P,field:H,value:V,debounceMs:W,unstable_skipValueParser:L}=F;g(P,H),m(P,H,ze.Edit);const A=e.current.getColumn(H),B=e.current.getRow(P);let Y=V;A.valueParser&&!L&&(Y=A.valueParser(V,B,A,e));let _=tt(e),J=f({},_[P][H],{value:Y,changeReason:W?"debouncedSetEditCellValue":"setEditCellValue"});if(A.preProcessEditCellProps){const ce=V!==_[P][H].value;J=f({},J,{isProcessingProps:!0}),$(P,H,J),J=await Promise.resolve(A.preProcessEditCellProps({id:P,row:B,props:J,hasChanged:ce}))}return e.current.getCellMode(P,H)===ze.View?!1:(_=tt(e),J=f({},J,{isProcessingProps:!1}),J.value=A.preProcessEditCellProps?_[P][H].value:Y,$(P,H,J),_=tt(e),!((ge=(q=_[P])==null?void 0:q[H])!=null&&ge.error))},[e,g,m,$]),j=c.useCallback((F,P)=>{const H=e.current.getColumn(P),V=tt(e),W=e.current.getRow(F);if(!V[F]||!V[F][P])return e.current.getRow(F);const{value:L}=V[F][P];return H.valueSetter?H.valueSetter(L,W,H,e):f({},W,{[P]:L})},[e]),G={getCellMode:D,startCellEditMode:E,stopCellEditMode:C},z={setCellEditingEditCellValue:M,getRowWithUpdatedValuesFromCellEditing:j};Ie(e,G,"public"),Ie(e,z,"private"),c.useEffect(()=>{a&&O(a)},[a,O]),st(()=>{const F=xt(e),P=l.current;l.current=Hi(n),Object.entries(n).forEach(([H,V])=>{Object.entries(V).forEach(([W,L])=>{var Y,_;const A=((_=(Y=P[H])==null?void 0:Y[W])==null?void 0:_.mode)||ze.View,B=F[H]?e.current.getRowId(F[H]):H;L.mode===ze.Edit&&A===ze.View?y(f({id:B,field:W},L)):L.mode===ze.View&&A===ze.Edit&&I(f({id:B,field:W},L))})})},[e,n,y,I])},sS=["id"],iS=["id"],aS=(e,t)=>{const[n,o]=c.useState({}),r=c.useRef(n),l=c.useRef({}),s=c.useRef({}),i=c.useRef(void 0),a=c.useRef(null),{processRowUpdate:d,onProcessRowUpdateError:u,rowModesModel:g,onRowModesModelChange:m}=t,p=L=>(...A)=>{t.editMode===zt.Row&&L(...A)},v=c.useCallback((L,A)=>{const B=e.current.getCellParams(L,A);if(!e.current.isCellEditable(B))throw new Error(`MUI X: The cell with id=${L} and field=${A} is not editable.`)},[e]),S=c.useCallback((L,A)=>{if(e.current.getRowMode(L)!==A)throw new Error(`MUI X: The row with id=${L} is not in ${A} mode.`)},[e]),b=c.useCallback(L=>{const A=tt(e);return Object.values(A[L]).some(B=>B.error)},[e]),x=c.useCallback((L,A)=>{if(!L.isEditable||e.current.getRowMode(L.id)===We.Edit)return;const B=e.current.getRowParams(L.id),Y=f({},B,{field:L.field,reason:Zt.cellDoubleClick});e.current.publishEvent("rowEditStart",Y,A)},[e]),T=c.useCallback(L=>{a.current=L},[]),D=c.useCallback((L,A)=>{L.isEditable&&e.current.getRowMode(L.id)!==We.View&&(a.current=null,i.current=setTimeout(()=>{var B;if(((B=a.current)==null?void 0:B.id)!==L.id){if(!e.current.getRow(L.id)||e.current.getRowMode(L.id)===We.View||b(L.id))return;const Y=e.current.getRowParams(L.id),_=f({},Y,{field:L.field,reason:Lt.rowFocusOut});e.current.publishEvent("rowEditStop",_,A)}}))},[e,b]);c.useEffect(()=>()=>{clearTimeout(i.current)},[]);const O=c.useCallback((L,A)=>{if(L.cellMode===We.Edit){if(A.which===229)return;let B;if(A.key==="Escape")B=Lt.escapeKeyDown;else if(A.key==="Enter")B=Lt.enterKeyDown;else if(A.key==="Tab"){const Y=fo(e).filter(_=>e.current.getColumn(_).type===sr?!0:e.current.isCellEditable(e.current.getCellParams(L.id,_)));if(A.shiftKey?L.field===Y[0]&&(B=Lt.shiftTabKeyDown):L.field===Y[Y.length-1]&&(B=Lt.tabKeyDown),A.preventDefault(),!B){const _=Y.findIndex(q=>q===L.field),J=Y[A.shiftKey?_-1:_+1];e.current.setCellFocus(L.id,J)}}if(B){if(B!==Lt.escapeKeyDown&&b(L.id))return;const Y=f({},e.current.getRowParams(L.id),{reason:B,field:L.field});e.current.publishEvent("rowEditStop",Y,A)}}else if(L.isEditable){let B;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:A,cellParams:L,editMode:"row"}))return;if(Wi(A)||Ki(A)?B=Zt.printableKeyDown:A.key==="Enter"?B=Zt.enterKeyDown:(A.key==="Backspace"||A.key==="Delete")&&(B=Zt.deleteKeyDown),B){const _=e.current.getRowParams(L.id),J=f({},_,{field:L.field,reason:B});e.current.publishEvent("rowEditStart",J,A)}}},[e,b]),k=c.useCallback(L=>{const{id:A,field:B,reason:Y}=L,_={id:A,fieldToFocus:B};(Y===Zt.printableKeyDown||Y===Zt.deleteKeyDown)&&(_.deleteValue=!!B),e.current.startRowEditMode(_)},[e]),$=c.useCallback(L=>{const{id:A,reason:B,field:Y}=L;e.current.runPendingEditCellValueMutation(A);let _;B===Lt.enterKeyDown?_="below":B===Lt.tabKeyDown?_="right":B===Lt.shiftTabKeyDown&&(_="left");const J=B==="escapeKeyDown";e.current.stopRowEditMode({id:A,ignoreModifications:J,field:Y,cellToFocusAfter:_})},[e]);re(e,"cellDoubleClick",p(x)),re(e,"cellFocusIn",p(T)),re(e,"cellFocusOut",p(D)),re(e,"cellKeyDown",p(O)),re(e,"rowEditStart",p(k)),re(e,"rowEditStop",p($)),Ve(e,"rowEditStart",t.onRowEditStart),Ve(e,"rowEditStop",t.onRowEditStop);const E=c.useCallback(L=>Da(e,{rowId:L,editMode:t.editMode})?We.Edit:We.View,[e,t.editMode]),y=Fe(L=>{const A=L!==t.rowModesModel;m&&A&&m(L,{api:e.current}),!(t.rowModesModel&&A)&&(o(L),r.current=L,e.current.publishEvent("rowModesModelChange",L))}),C=c.useCallback((L,A)=>{const B=f({},r.current);A!==null?B[L]=f({},A):delete B[L],y(B)},[y]),I=c.useCallback((L,A)=>{e.current.setState(B=>{const Y=f({},B.editRows);return A!==null?Y[L]=A:delete Y[L],f({},B,{editRows:Y})})},[e]),M=c.useCallback((L,A,B)=>{e.current.setState(Y=>{const _=f({},Y.editRows);return B!==null?_[L]=f({},_[L],{[A]:f({},B)}):(delete _[L][A],Object.keys(_[L]).length===0&&delete _[L]),f({},Y,{editRows:_})})},[e]),j=c.useCallback(L=>{const{id:A}=L,B=Q(L,sS);S(A,We.View),C(A,f({mode:We.Edit},B))},[S,C]),G=Fe(L=>{const{id:A,fieldToFocus:B,deleteValue:Y,initialValue:_}=L,J=e.current.getRow(A),q=yt(e),ge=q.reduce((ce,de)=>{const U=de.field;if(!e.current.getCellParams(A,U).isEditable)return ce;const te=e.current.getColumn(U);let ie=e.current.getCellValue(A,U);return B===U&&(Y||_)&&(Y?ie=Zr(te):_&&(ie=_)),ce[U]={value:ie,error:!1,isProcessingProps:te.editable&&!!te.preProcessEditCellProps&&Y},ce},{});s.current[A]=J,I(A,ge),B&&e.current.setCellFocus(A,B),q.filter(ce=>e.current.getCellParams(A,ce.field).isEditable&&ce.editable&&!!ce.preProcessEditCellProps&&Y).forEach(ce=>{const de=ce.field,U=e.current.getCellValue(A,de),X=Y?Zr(ce):_??U;Promise.resolve(ce.preProcessEditCellProps({id:A,row:J,props:ge[de],hasChanged:X!==U})).then(te=>{if(e.current.getRowMode(A)===We.Edit){const ie=tt(e);M(A,de,f({},te,{value:ie[A][de].value,isProcessingProps:!1}))}})})}),z=c.useCallback(L=>{const{id:A}=L,B=Q(L,iS);S(A,We.Edit),C(A,f({mode:We.View},B))},[S,C]),F=Fe(async L=>{var U;const{id:A,ignoreModifications:B,field:Y,cellToFocusAfter:_="none"}=L;e.current.runPendingEditCellValueMutation(A);const J=()=>{_!=="none"&&Y&&e.current.moveFocusToRelativeCell(A,Y,_),I(A,null),C(A,null),delete s.current[A]};if(B){J();return}const q=tt(e),ge=s.current[A];if(Object.values(q[A]).some(X=>X.isProcessingProps)){l.current[A].mode=We.Edit;return}if(b(A)){l.current[A].mode=We.Edit,C(A,{mode:We.Edit});return}const de=e.current.getRowWithUpdatedValuesFromRowEditing(A);if((U=t.dataSource)!=null&&U.updateRow){if(vt(ge,de)){J();return}const X=()=>{l.current[A].mode=We.Edit,C(A,{mode:We.Edit})},te={rowId:A,updatedRow:de,previousRow:ge};try{await e.current.dataSource.editRow(te),J()}catch{X()}}else if(d){const X=te=>{l.current[A]&&(l.current[A].mode=We.Edit,C(A,{mode:We.Edit})),u&&u(te)};try{Promise.resolve(d(de,ge,{rowId:A})).then(te=>{e.current.updateRows([te]),J()}).catch(X)}catch(te){X(te)}}else e.current.updateRows([de]),J()}),P=c.useCallback(L=>{const{id:A,field:B,value:Y,debounceMs:_,unstable_skipValueParser:J}=L;v(A,B);const q=e.current.getColumn(B),ge=e.current.getRow(A);let ce=Y;q.valueParser&&!J&&(ce=q.valueParser(Y,ge,q,e));let de=tt(e),U=f({},de[A][B],{value:ce,changeReason:_?"debouncedSetEditCellValue":"setEditCellValue"});return q.preProcessEditCellProps||M(A,B,U),new Promise(X=>{const te=[];if(q.preProcessEditCellProps){const ie=U.value!==de[A][B].value;U=f({},U,{isProcessingProps:!0}),M(A,B,U);const ae=de[A],he=Q(ae,[B].map(co)),pe=Promise.resolve(q.preProcessEditCellProps({id:A,row:ge,props:U,hasChanged:ie,otherFieldsProps:he})).then(ve=>{if(e.current.getRowMode(A)===We.View){X(!1);return}de=tt(e),ve=f({},ve,{isProcessingProps:!1}),ve.value=q.preProcessEditCellProps?de[A][B].value:ce,M(A,B,ve)});te.push(pe)}Object.entries(de[A]).forEach(([ie,ae])=>{if(ie===B)return;const he=e.current.getColumn(ie);if(!he.preProcessEditCellProps)return;ae=f({},ae,{isProcessingProps:!0}),M(A,ie,ae),de=tt(e);const pe=de[A],ve=Q(pe,[ie].map(co)),ke=Promise.resolve(he.preProcessEditCellProps({id:A,row:ge,props:ae,hasChanged:!1,otherFieldsProps:ve})).then(Te=>{if(e.current.getRowMode(A)===We.View){X(!1);return}Te=f({},Te,{isProcessingProps:!1}),M(A,ie,Te)});te.push(ke)}),Promise.all(te).then(()=>{e.current.getRowMode(A)===We.Edit?(de=tt(e),X(!de[A][B].error)):X(!1)})})},[e,v,M]),H=c.useCallback(L=>{const A=tt(e),B=e.current.getRow(L);if(!A[L])return e.current.getRow(L);let Y=f({},s.current[L],B);return Object.entries(A[L]).forEach(([_,J])=>{const q=e.current.getColumn(_);q!=null&&q.valueSetter?Y=q.valueSetter(J.value,Y,q,e):Y[_]=J.value}),Y},[e]),V={getRowMode:E,startRowEditMode:j,stopRowEditMode:z},W={setRowEditingEditCellValue:P,getRowWithUpdatedValuesFromRowEditing:H};Ie(e,V,"public"),Ie(e,W,"private"),c.useEffect(()=>{g&&y(g)},[g,y]),st(()=>{const L=xt(e),A=l.current;l.current=Hi(n);const B=new Set([...Object.keys(n),...Object.keys(A)]);Array.from(B).forEach(Y=>{var ge;const _=n[Y]??{mode:We.View},J=((ge=A[Y])==null?void 0:ge.mode)||We.View,q=L[Y]?e.current.getRowId(L[Y]):Y;_.mode===We.Edit&&J===We.View?G(f({id:q},_)):_.mode===We.View&&J===We.Edit&&F(f({id:q},_))})},[e,n,G,F])},cS=e=>f({},e,{editRows:{}}),uS=(e,t)=>{lS(e,t),aS(e,t);const n=c.useRef({}),{isCellEditable:o}=t,r=c.useCallback(m=>$n(m.rowNode)||!m.colDef.editable||!m.colDef.renderEditCell?!1:o?o(m):!0,[o]),l=(m,p,v,S)=>{if(!v){S();return}if(n.current[m]||(n.current[m]={}),n.current[m][p]){const[T]=n.current[m][p];clearTimeout(T)}const b=()=>{const[T]=n.current[m][p];clearTimeout(T),S(),delete n.current[m][p]},x=setTimeout(()=>{S(),delete n.current[m][p]},v);n.current[m][p]=[x,b]};c.useEffect(()=>{const m=n.current;return()=>{Object.entries(m).forEach(([p,v])=>{Object.keys(v).forEach(S=>{const[b]=m[p][S];clearTimeout(b),delete m[p][S]})})}},[]);const s=c.useCallback((m,p)=>{if(n.current[m]){if(!p)Object.keys(n.current[m]).forEach(v=>{const[,S]=n.current[m][v];S()});else if(n.current[m][p]){const[,v]=n.current[m][p];v()}}},[]),i=c.useCallback(m=>{const{id:p,field:v,debounceMs:S}=m;return new Promise(b=>{l(p,v,S,async()=>{const x=t.editMode===zt.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(p,v)===ze.Edit){const T=await x(m);b(T)}})})},[e,t.editMode]),a=c.useCallback((m,p)=>t.editMode===zt.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(m,p):e.current.getRowWithUpdatedValuesFromRowEditing(m),[e,t.editMode]),d=c.useCallback((m,p)=>{var S;return((S=tt(e)[m])==null?void 0:S[p])??null},[e]),u={isCellEditable:r,setEditCellValue:i,getRowWithUpdatedValues:a,unstable_getEditCellMeta:d},g={runPendingEditCellValueMutation:s};Ie(e,u,"public"),Ie(e,g,"private")},dS=(e,t,n)=>{const o=!!t.dataSource;return n.current.caches.rows=Go({rows:o?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),f({},e,{rows:Ii({apiRef:n,rowCountProp:t.rowCount,loadingProp:o?!0:t.loading,previousTree:null,previousTreeDepths:null})})},gS=(e,t)=>{const n=it(e,"useGridRows"),o=c.useRef(Date.now()),r=c.useRef(t.rowCount),l=pn(),s=c.useCallback(F=>{const P=xt(e)[F];if(P)return P;const H=jt(e,F);return H&&$n(H)?{[On]:F}:null},[e]),i=c.useCallback(F=>Gn(e,F),[e]),a=c.useCallback(({cache:F,throttle:P})=>{const H=()=>{o.current=Date.now(),e.current.setState(W=>f({},W,{rows:Ii({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:lt(e),previousTreeDepths:is(e),previousGroupsToFetch:Gd(e)})})),e.current.publishEvent("rowsSet")};if(l.clear(),e.current.caches.rows=F,!P){H();return}const V=t.throttleRowsMs-(Date.now()-o.current);if(V>0){l.start(V,H);return}H()},[t.throttleRowsMs,t.rowCount,t.loading,e,l]),d=c.useCallback(F=>{if(n.debug(`Updating all rows, new length ${F.length}`),fn(e)){e.current.updateNonPivotRows(F,!1);return}const P=Go({rows:F,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),H=e.current.caches.rows;P.rowsBeforePartialUpdates=H.rowsBeforePartialUpdates,a({cache:P,throttle:!0})},[n,t.getRowId,t.loading,t.rowCount,a,e]),u=c.useCallback(F=>{if(t.signature===Et.DataGrid&&F.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(fn(e)){e.current.updateNonPivotRows(F);return}const P=cs(e,F,t.getRowId),H=as({updates:P,getRowId:t.getRowId,previousCache:e.current.caches.rows});a({cache:H,throttle:!0})},[t.signature,t.getRowId,a,e]),g=c.useCallback((F,P)=>{const H=cs(e,F,t.getRowId),V=as({updates:H,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:P??[]});a({cache:V,throttle:!1})},[t.getRowId,a,e]),m=c.useCallback(F=>{n.debug(`Setting loading to ${F}`),e.current.setState(P=>f({},P,{rows:f({},P.rows,{loading:F})})),e.current.caches.rows.loadingPropBeforePartialUpdates=F},[e,n]),p=c.useCallback(()=>{const F=an(e),P=xt(e);return new Map(F.map(H=>[H,P[H]??{}]))},[e]),v=c.useCallback(()=>zn(e),[e]),S=c.useCallback(()=>an(e),[e]),b=c.useCallback(F=>{const{rowIdToIndexMap:P}=Dn(e);return P.get(F)},[e]),x=c.useCallback((F,P)=>{const H=jt(e,F);if(!H)throw new Error(`MUI X: No row with id #${F} found.`);if(H.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const V=f({},H,{childrenExpanded:P});e.current.setState(W=>f({},W,{rows:f({},W.rows,{tree:f({},W.rows.tree,{[F]:V})})})),e.current.publishEvent("rowExpansionChange",V)},[e]),T=c.useCallback(F=>jt(e,F)??null,[e]),D=c.useCallback(({skipAutoGeneratedRows:F=!0,groupId:P,applySorting:H,applyFiltering:V,directChildrenOnly:W=!1})=>{const L=lt(e);let A;if(H){const B=L[P];if(!B)return[];const Y=po(e);A=[];const _=Y.findIndex(J=>J===P)+1;for(let J=_;J<Y.length&&(W?L[Y[J]].depth===B.depth+1:L[Y[J]].depth>B.depth);J+=1){const q=Y[J];(!F||!$n(L[q]))&&A.push(q)}}else A=al(L,P,F,W);if(V){const B=Vn(e);A=ir(B)?A:A.filter(Y=>B[Y]!==!1)}return A},[e]),O=c.useCallback((F,P)=>{const H=jt(e,F);if(!H)throw new Error(`MUI X: No row with id #${F} found.`);if(H.parent!==nt)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(H.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(V=>{const W=lt(e)[nt],L=W.children,A=L.findIndex(Y=>Y===F);if(A===-1||A===P)return V;n.debug(`Moving row ${F} to index ${P}`);const B=[...L];return B.splice(P,0,B.splice(A,1)[0]),f({},V,{rows:f({},V.rows,{tree:f({},V.rows.tree,{[nt]:f({},W,{children:B})})})})}),e.current.publishEvent("rowsSet")},[e,n]),k=c.useCallback((F,P)=>{if(t.signature===Et.DataGrid&&P.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(P.length===0)return;if(Rn(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const V=f({},lt(e)),W=f({},xt(e)),L=V[nt],A=[...L.children],B=new Set;for(let _=0;_<P.length;_+=1){const J=P[_],q=or(J,t.getRowId,"A row was provided without id when calling replaceRows()."),[ge]=A.splice(F+_,1,q);B.has(ge)||(delete W[ge],delete V[ge]);const ce={id:q,depth:0,parent:nt,type:"leaf",groupingKey:null};W[q]=J,V[q]=ce,B.add(q)}V[nt]=f({},L,{children:A});const Y=A.filter(_=>{var J;return((J=V[_])==null?void 0:J.type)==="leaf"});e.current.caches.rows.dataRowIdToModelLookup=W,e.current.setState(_=>f({},_,{rows:f({},_.rows,{loading:t.loading,totalRowCount:Math.max(t.rowCount||0,A.length),dataRowIdToModelLookup:W,dataRowIds:Y,tree:V})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId,t.loading,t.rowCount]),$={getRow:s,setLoading:m,getRowId:i,getRowModels:p,getRowsCount:v,getAllRowIds:S,setRows:d,updateRows:u,getRowNode:T,getRowIndexRelativeToVisibleRows:b,unstable_replaceRows:k},E={setRowIndex:O,setRowChildrenExpansion:x,getRowGroupChildren:D},y={updateNestedRows:g},C=c.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let F;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?F=f({},e.current.caches.rows,{updates:{type:"full",rows:an(e)}}):F=Go({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),a({cache:F,throttle:!1})},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,a]),I=Ht(()=>t.dataSource),M=c.useCallback(F=>{if(t.dataSource&&t.dataSource!==I.current){I.current=t.dataSource;return}F==="rowTreeCreation"&&C()},[C,I,t.dataSource]),j=c.useCallback(()=>{e.current.getActiveStrategy(on.RowTree)!==Ld(e)&&C()},[e,C]);re(e,"activeStrategyProcessorChange",M),re(e,"strategyAvailabilityChange",j);const G=c.useCallback(()=>{e.current.setState(F=>{const P=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:lt(e),treeDepths:is(e),dataRowIds:an(e),dataRowIdToModelLookup:xt(e)});return f({},F,{rows:f({},F.rows,P,{totalTopLevelRowCount:vi({tree:P.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet")},[e,t.rowCount]);Pl(e,"hydrateRows",G),Ie(e,$,"public"),Ie(e,E,t.signature===Et.DataGrid?"private":"public"),Ie(e,y,"private");const z=c.useRef(!0);c.useEffect(()=>{if(z.current){z.current=!1;return}let F=!1;t.rowCount!==r.current&&(F=!0,r.current=t.rowCount);const P=t.dataSource?jd(e):t.rows,H=e.current.caches.rows.rowsBeforePartialUpdates===P,V=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,W=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;H&&(V||(e.current.setState(L=>f({},L,{rows:f({},L.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading),W||(e.current.setState(L=>f({},L,{rows:f({},L.rows,{totalRowCount:Math.max(t.rowCount||0,L.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,L.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount),!F)||(n.debug(`Updating all rows, new length ${P==null?void 0:P.length}`),a({cache:Go({rows:P,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,t.dataSource,n,a,e])},hS=e=>{const t={[nt]:f({},zd(),{children:e})};for(let n=0;n<e.length;n+=1){const o=e[n];t[o]={id:o,depth:0,parent:nt,type:"leaf",groupingKey:null}}return{groupingName:mn,tree:t,treeDepths:{0:e.length},dataRowIds:e}},fS=({previousTree:e,actions:t})=>{const n=f({},e),o={};for(let s=0;s<t.remove.length;s+=1){const i=t.remove[s];o[i]=!0,delete n[i]}for(let s=0;s<t.insert.length;s+=1){const i=t.insert[s];n[i]={id:i,depth:0,parent:nt,type:"leaf",groupingKey:null}}const r=n[nt];let l=[...r.children,...t.insert];return Object.values(o).length&&(l=l.filter(s=>!o[s])),n[nt]=f({},r,{children:l}),{groupingName:mn,tree:n,treeDepths:{0:l.length},dataRowIds:l}},mS=e=>e.updates.type==="full"?hS(e.updates.rows):fS({previousTree:e.previousTree,actions:e.updates.actions}),pS=e=>{uo(e,mn,"rowTreeCreation",mS)};class jr extends Error{}function bS(e,t){var v;const n=c.useCallback(S=>({field:S,colDef:e.current.getColumn(S)}),[e]),o=c.useCallback(S=>{const b=e.current.getRow(S);if(!b)throw new jr(`No row with id #${S} found`);return{id:S,columns:e.current.getAllColumns(),row:b}},[e]),r=c.useCallback((S,b,x,{cellMode:T,colDef:D,hasFocus:O,rowNode:k,tabIndex:$})=>{const E=x[b],y=D!=null&&D.valueGetter?D.valueGetter(E,x,D,e):E,C={id:S,field:b,row:x,rowNode:k,colDef:D,cellMode:T,hasFocus:O,tabIndex:$,value:y,formattedValue:y,isEditable:!1,api:e.current};return D&&D.valueFormatter&&(C.formattedValue=D.valueFormatter(y,x,D,e)),C.isEditable=D&&e.current.isCellEditable(C),C},[e]),l=c.useCallback((S,b)=>{var $;const x=e.current.getRow(S),T=jt(e,S);if(!x||!T)throw new jr(`No row with id #${S} found`);const D=ht(e),O=wl(e),k=e.current.getCellMode(S,b);return e.current.getCellParamsForRow(S,b,x,{colDef:t.listView&&(($=t.listViewColumn)==null?void 0:$.field)===b?zi(e):e.current.getColumn(b),rowNode:T,hasFocus:D!==null&&D.field===b&&D.id===S,tabIndex:O&&O.field===b&&O.id===S?0:-1,cellMode:k})},[e,t.listView,(v=t.listViewColumn)==null?void 0:v.field]),s=c.useCallback((S,b)=>{const x=e.current.getColumn(b),T=e.current.getRow(S);if(!T)throw new jr(`No row with id #${S} found`);return!x||!x.valueGetter?T[b]:x.valueGetter(T[x.field],T,x,e)},[e]),i=c.useCallback((S,b)=>Vd(S,b,e),[e]),a=c.useCallback((S,b)=>{const x=i(S,b);return!b||!b.valueFormatter?x:b.valueFormatter(x,S,b,e)},[e,i]),d=c.useCallback(S=>e.current.rootElementRef.current?Wp(e.current.rootElementRef.current,S):null,[e]),u=c.useCallback(S=>e.current.rootElementRef.current?Up(e.current.rootElementRef.current,S):null,[e]),g=c.useCallback((S,b)=>e.current.rootElementRef.current?Kp(e.current.rootElementRef.current,{id:S,field:b}):null,[e]),m={getCellValue:s,getCellParams:l,getCellElement:g,getRowValue:i,getRowFormattedValue:a,getRowParams:o,getRowElement:u,getColumnHeaderParams:n,getColumnHeaderElement:d},p={getCellParamsForRow:r};Ie(e,m,"public"),Ie(e,p,"private")}const lo={type:"include",ids:new Set},CS=(e,t)=>f({},e,{rowSelection:t.rowSelection?t.rowSelectionModel??lo:lo}),wS=(e,t)=>{var L,A,B,Y,_,J,q,ge,ce,de;const n=it(e,"useGridSelection"),o=c.useCallback(U=>(...X)=>{t.rowSelection&&U(...X)},[t.rowSelection]),r=K(e,Rn)>1,l=t.signature!==Et.DataGrid&&(((L=t.rowSelectionPropagation)==null?void 0:L.parents)||((A=t.rowSelectionPropagation)==null?void 0:A.descendants))&&r,s=c.useMemo(()=>t.rowSelectionModel,[t.rowSelectionModel]),i=c.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:t.onRowSelectionModelChange,stateSelector:Ft,changeEvent:"rowSelectionChange"});const{checkboxSelection:a,disableRowSelectionOnClick:d,isRowSelectable:u}=t,g=Cl(t),m=K(e,lt),p=c.useCallback(U=>{let X=U;const te=i.current??U,ie=e.current.isRowSelected(U);if(ie){const ae=Fn(e),he=ae.findIndex(ve=>ve===te),pe=ae.findIndex(ve=>ve===X);if(he===pe)return;he>pe?X=ae[pe+1]:X=ae[pe-1]}i.current=U,e.current.selectRowRange({startId:te,endId:X},!ie)},[e]),v=Fe(()=>t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?ha(e):Fn(e)),S=c.useCallback((U,X)=>{if(t.signature===Et.DataGrid&&!g&&(U.type!=="include"||U.ids.size>1))throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Ft(e)!==U&&(n.debug("Setting selection model"),e.current.setState(ie=>f({},ie,{rowSelection:t.rowSelection?U:lo}),X))},[e,n,t.rowSelection,t.signature,g]),b=c.useCallback(U=>bo(e).has(U),[e]),x=c.useCallback(U=>{if(t.rowSelection===!1||u&&!u(e.current.getRowParams(U)))return!1;const X=jt(e,U);return!((X==null?void 0:X.type)==="footer"||(X==null?void 0:X.type)==="pinnedRow")},[e,t.rowSelection,u]),T=c.useCallback(()=>ra(e),[e]),D=c.useCallback((U,X=!0,te=!1)=>{var ie,ae,he,pe,ve,ke;if(e.current.isRowSelectable(U))if(i.current=U,te){n.debug(`Setting selection for row ${U}`);const Te={type:"include",ids:new Set},se=xe=>{Te.ids.add(xe)};X&&(se(U),l&&Yn(e,m,U,((ie=t.rowSelectionPropagation)==null?void 0:ie.descendants)??!1,((ae=t.rowSelectionPropagation)==null?void 0:ae.parents)??!1,se)),e.current.setRowSelectionModel(Te,"singleRowSelection")}else{n.debug(`Toggling selection for row ${U}`);const Te=Ft(e),se={type:Te.type,ids:new Set(Te.ids)},xe=nn(se);xe.unselect(U);const oe=Se=>{xe.select(Se)},ue=Se=>{xe.unselect(Se)};X?(oe(U),l&&Yn(e,m,U,((he=t.rowSelectionPropagation)==null?void 0:he.descendants)??!1,((pe=t.rowSelectionPropagation)==null?void 0:pe.parents)??!1,oe)):l&&Ss(e,m,U,((ve=t.rowSelectionPropagation)==null?void 0:ve.descendants)??!1,((ke=t.rowSelectionPropagation)==null?void 0:ke.parents)??!1,ue),(se.type==="include"&&se.ids.size<2||g)&&e.current.setRowSelectionModel(se,"singleRowSelection")}},[e,n,l,m,(B=t.rowSelectionPropagation)==null?void 0:B.descendants,(Y=t.rowSelectionPropagation)==null?void 0:Y.parents,g]),O=c.useCallback((U,X=!0,te=!1)=>{var ve,ke,Te,se,xe,oe;if(n.debug("Setting selection for several rows"),t.rowSelection===!1)return;const ie=new Set;for(let ue=0;ue<U.length;ue+=1){const Ce=U[ue];e.current.isRowSelectable(Ce)&&ie.add(Ce)}const ae=Ft(e);let he;if(te){if(he={type:"include",ids:ie},X){const ue=nn(he);if(l){const Ce=Se=>{ue.select(Se)};for(const Se of ie)Yn(e,m,Se,((ve=t.rowSelectionPropagation)==null?void 0:ve.descendants)??!1,((ke=t.rowSelectionPropagation)==null?void 0:ke.parents)??!1,Ce)}}else he.ids=new Set;if(ae.type===he.type&&he.ids.size===ae.ids.size&&Array.from(he.ids).every(ue=>ae.ids.has(ue)))return}else{he={type:ae.type,ids:new Set(ae.ids)};const ue=nn(he),Ce=ye=>{ue.select(ye)},Se=ye=>{ue.unselect(ye)};for(const ye of ie)X?(ue.select(ye),l&&Yn(e,m,ye,((Te=t.rowSelectionPropagation)==null?void 0:Te.descendants)??!1,((se=t.rowSelectionPropagation)==null?void 0:se.parents)??!1,Ce)):(Se(ye),l&&Ss(e,m,ye,((xe=t.rowSelectionPropagation)==null?void 0:xe.descendants)??!1,((oe=t.rowSelectionPropagation)==null?void 0:oe.parents)??!1,Se))}(he.type==="include"&&he.ids.size<2||g)&&e.current.setRowSelectionModel(he,"multipleRowsSelection")},[n,l,g,e,m,(_=t.rowSelectionPropagation)==null?void 0:_.descendants,(J=t.rowSelectionPropagation)==null?void 0:J.parents,t.rowSelection]),k=c.useCallback(U=>{var ae,he;if(!r||!l||U.ids.size===0&&U.type==="include")return U;const X={type:U.type,ids:new Set(U.ids)},te=nn(X),ie=pe=>{te.select(pe)};for(const pe of U.ids)Yn(e,m,pe,((ae=t.rowSelectionPropagation)==null?void 0:ae.descendants)??!1,((he=t.rowSelectionPropagation)==null?void 0:he.parents)??!1,ie,te);return X},[e,m,(q=t.rowSelectionPropagation)==null?void 0:q.descendants,(ge=t.rowSelectionPropagation)==null?void 0:ge.parents,r,l]),$=c.useCallback(({startId:U,endId:X},te=!0,ie=!1)=>{if(!e.current.getRow(U)||!e.current.getRow(X))return;n.debug(`Expanding selection from row ${U} to row ${X}`);const ae=Fn(e),he=ae.indexOf(U),pe=ae.indexOf(X),[ve,ke]=he>pe?[pe,he]:[he,pe],Te=ae.slice(ve,ke+1);e.current.selectRows(Te,te,ie)},[e,n]),E={selectRow:D,setRowSelectionModel:S,getSelectedRows:T,isRowSelected:b,isRowSelectable:x},y={selectRows:O,selectRowRange:$,getPropagatedRowSelectionModel:k};Ie(e,E,"public"),Ie(e,y,t.signature===Et.DataGrid?"private":"public");const C=c.useRef(!0),I=c.useCallback((U=!1)=>{var se,xe;if(C.current)return;const X=Ft(e),te=xt(e),ie=lt(e),ae=Vn(e),he=oe=>t.filterMode==="server"?!te[oe]:!ie[oe]||ae[oe]===!1,pe={type:X.type,ids:new Set(X.ids)},ve=nn(pe);let ke=!1;for(const oe of X.ids){if(he(oe)){if(t.keepNonExistentRowsSelected)continue;ve.unselect(oe),ke=!0;continue}if(!((se=t.rowSelectionPropagation)!=null&&se.parents))continue;const ue=m[oe];if((ue==null?void 0:ue.type)==="group"){if(ue.isAutoGenerated){ve.unselect(oe),ke=!0;continue}ue.children.every(Se=>ae[Se]===!1)||(ve.unselect(oe),ke=!0)}}const Te=r&&((xe=t.rowSelectionPropagation)==null?void 0:xe.parents)&&(pe.ids.size>0||pe.type==="exclude");if(ke||Te&&!U)if(Te)if(pe.type==="exclude"){const oe=v(),ue=[];for(let Ce=0;Ce<oe.length;Ce+=1){const Se=oe[Ce];(t.keepNonExistentRowsSelected||!he(Se))&&ve.has(Se)&&ue.push(Se)}e.current.selectRows(ue,!0,!0)}else e.current.selectRows(Array.from(pe.ids),!0,!0);else e.current.setRowSelectionModel(pe,"multipleRowsSelection")},[e,r,(ce=t.rowSelectionPropagation)==null?void 0:ce.parents,t.keepNonExistentRowsSelected,t.filterMode,m,v]),M=c.useCallback((U,X)=>{const te=X.metaKey||X.ctrlKey,ie=!a&&!te&&!Hg(X),ae=!g||ie,he=e.current.isRowSelected(U),ke=ur(e)>1&&ae||!he;e.current.selectRow(U,ke,ae)},[e,g,a]),j=c.useCallback((U,X)=>{var ae;if(d)return;const te=(ae=X.target.closest(`.${w.cell}`))==null?void 0:ae.getAttribute("data-field");if(te===Bn.field||te===fl)return;if(te){const he=e.current.getColumn(te);if((he==null?void 0:he.type)===sr)return}jt(e,U.id).type!=="pinnedRow"&&(X.shiftKey&&g?p(U.id):M(U.id,X))},[d,g,e,p,M]),G=c.useCallback((U,X)=>{var te;g&&X.shiftKey&&((te=window.getSelection())==null||te.removeAllRanges())},[g]),z=c.useCallback((U,X)=>{g&&X.nativeEvent.shiftKey?p(U.id):e.current.selectRow(U.id,U.value,!g)},[e,p,g]),F=c.useCallback(U=>{var ae;const X=et(e),te=Ji(e),ie=X.items.length>0||(te==null?void 0:te.some(he=>he.length));!t.isRowSelectable&&!t.checkboxSelectionVisibleOnly&&(!r||(ae=t.rowSelectionPropagation)!=null&&ae.descendants)&&!ie?e.current.setRowSelectionModel({type:U?"exclude":"include",ids:new Set},"multipleRowsSelection"):e.current.selectRows(v(),U)},[e,v,t.checkboxSelectionVisibleOnly,t.isRowSelectable,(de=t.rowSelectionPropagation)==null?void 0:de.descendants,r]),P=c.useCallback(U=>{F(U.value)},[F]),H=c.useCallback((U,X)=>{if(e.current.getCellMode(U.id,U.field)!==ze.Edit&&!yo(X)){if(Wo(X.key)&&X.shiftKey){const te=ht(e);if(te&&te.id!==U.id){X.preventDefault();const ie=e.current.isRowSelected(te.id);if(!g){e.current.selectRow(te.id,!ie,!0);return}const ae=e.current.getRowIndexRelativeToVisibleRows(te.id),he=e.current.getRowIndexRelativeToVisibleRows(U.id);let pe,ve;ae>he?ie?(pe=he,ve=ae-1):(pe=he,ve=ae):ie?(pe=ae+1,ve=he):(pe=ae,ve=he);const ke=Dn(e),Te=[];for(let se=pe;se<=ve;se+=1)Te.push(ke.rows[se].id);e.current.selectRows(Te,!ie);return}}if(X.key===" "&&X.shiftKey){X.preventDefault(),M(U.id,X);return}String.fromCharCode(X.keyCode)==="A"&&(X.ctrlKey||X.metaKey)&&(X.preventDefault(),F(!0))}},[e,g,M,F]),V=Fe(()=>{if(!t.rowSelection){e.current.setRowSelectionModel(lo);return}if(s===void 0)return;if(!l||!r||s.type==="include"&&s.ids.size===0){e.current.setRowSelectionModel(s);return}const U=e.current.getPropagatedRowSelectionModel(s);if(U.type!==s.type||U.ids.size!==s.ids.size||!Array.from(s.ids).every(X=>U.ids.has(X))){e.current.setRowSelectionModel(U);return}e.current.setRowSelectionModel(s)});re(e,"sortedRowsSet",o(()=>I(!0))),re(e,"filteredRowsSet",o(()=>I())),re(e,"rowClick",o(j)),re(e,"rowSelectionCheckboxChange",o(z)),re(e,"headerSelectionCheckboxChange",P),re(e,"cellMouseDown",o(G)),re(e,"cellKeyDown",o(H)),c.useEffect(()=>{V()},[e,s,t.rowSelection,V]);const W=s!=null;c.useEffect(()=>{if(W||!t.rowSelection||typeof x!="function")return;const U=Ft(e);if(U.type!=="include")return;const X=new Set;for(const te of U.ids)x(te)&&X.add(te);X.size<U.ids.size&&e.current.setRowSelectionModel({type:U.type,ids:X})},[e,x,W,t.rowSelection]),c.useEffect(()=>{if(!t.rowSelection||W)return;const U=Ft(e);!g&&(U.type==="include"&&U.ids.size>1||U.type==="exclude")&&e.current.setRowSelectionModel(lo)},[e,g,a,W,t.rowSelection]),c.useEffect(()=>{o(I)},[I,o]),c.useEffect(()=>{C.current&&(C.current=!1)},[])},xS=e=>{const{classes:t}=e;return c.useMemo(()=>Me({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Pe,t),[t])},SS=(e,t)=>{const n={classes:t.classes},o=xS(n),r=c.useCallback(l=>{const s=f({},Bn,{cellClassName:o.cellCheckbox,headerClassName:o.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),i=t.checkboxSelection,a=l.lookup[Pt]!=null;return i&&!a?(l.lookup[Pt]=s,l.orderedFields=[Pt,...l.orderedFields]):!i&&a?(delete l.lookup[Pt],l.orderedFields=l.orderedFields.filter(d=>d!==Pt)):i&&a&&(l.lookup[Pt]=f({},s,l.lookup[Pt]),t.columns.some(d=>d.field===Pt)||(l.orderedFields=[Pt,...l.orderedFields.filter(d=>d!==Pt)])),l},[e,o,t.columns,t.checkboxSelection]);Ye(e,"hydrateColumns",r)},yS=(e,t)=>{var o,r;const n=t.sortModel??((r=(o=t.initialState)==null?void 0:o.sorting)==null?void 0:r.sortModel)??[];return f({},e,{sorting:{sortModel:Ei(n,t.disableMultipleColumnsSorting),sortedRows:[]}})},vS=(e,t)=>{var k,$;const n=it(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Ct,changeEvent:"sortModelChange"});const o=c.useCallback((E,y)=>{const C=Ct(e),I=C.findIndex(j=>j.field===E);let M=[...C];return I>-1?(y==null?void 0:y.sort)==null?M.splice(I,1):M.splice(I,1,y):M=[...C,y],M},[e]),r=c.useCallback((E,y)=>{const I=Ct(e).find(M=>M.field===E.field);if(I){const M=y===void 0?fs(E.sortingOrder??t.sortingOrder,I.sort):y;return M===void 0?void 0:f({},I,{sort:M})}return{field:E.field,sort:y===void 0?fs(E.sortingOrder??t.sortingOrder):y}},[e,t.sortingOrder]),l=c.useCallback((E,y)=>y==null||y.sortable===!1||t.disableColumnSorting?E:(y.sortingOrder||t.sortingOrder).some(I=>!!I)?[...E,"columnMenuSortItem"]:E,[t.sortingOrder,t.disableColumnSorting]),s=c.useCallback(()=>{e.current.setState(E=>{if(t.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),f({},E,{sorting:f({},E.sorting,{sortedRows:al(lt(e),nt,!1)})});const y=Ct(e),C=ug(y,e),I=e.current.applyStrategyProcessor("sorting",{sortRowList:C});return f({},E,{sorting:f({},E.sorting,{sortedRows:I})})}),e.current.publishEvent("sortedRowsSet")},[e,n,t.sortingMode]),i=c.useCallback(E=>{Ct(e)!==E&&(n.debug("Setting sort model"),e.current.setState(hs(E,t.disableMultipleColumnsSorting)),e.current.applySorting())},[e,n,t.disableMultipleColumnsSorting]),a=c.useCallback((E,y,C)=>{const I=e.current.getColumn(E),M=r(I,y);let j;!C||t.disableMultipleColumnsSorting?j=(M==null?void 0:M.sort)==null?[]:[M]:j=o(I.field,M),e.current.setSortModel(j)},[e,o,r,t.disableMultipleColumnsSorting]),d=c.useCallback(()=>Ct(e),[e]),u=c.useCallback(()=>ml(e).map(y=>y.model),[e]),g=c.useCallback(()=>po(e),[e]),m=c.useCallback(E=>e.current.getSortedRowIds()[E],[e]);Ie(e,{getSortModel:d,getSortedRows:u,getSortedRowIds:g,getRowIdFromRowIndex:m,setSortModel:i,sortColumn:a,applySorting:s},"public");const v=c.useCallback((E,y)=>{var M,j;const C=Ct(e);return!y.exportOnlyDirtyModels||t.sortModel!=null||((j=(M=t.initialState)==null?void 0:M.sorting)==null?void 0:j.sortModel)!=null||C.length>0?f({},E,{sorting:{sortModel:C}}):E},[e,t.sortModel,($=(k=t.initialState)==null?void 0:k.sorting)==null?void 0:$.sortModel]),S=c.useCallback((E,y)=>{var I;const C=(I=y.stateToRestore.sorting)==null?void 0:I.sortModel;return C==null?E:(e.current.setState(hs(C,t.disableMultipleColumnsSorting)),f({},E,{callbacks:[...E.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),b=c.useCallback(E=>{const y=lt(e),C=y[nt],I=E.sortRowList?E.sortRowList(C.children.map(M=>y[M])):[...C.children];return C.footerId!=null&&I.push(C.footerId),I},[e]);Ye(e,"exportState",v),Ye(e,"restoreState",S),uo(e,mn,"sorting",b);const x=c.useCallback(({field:E,colDef:y},C)=>{if(!y.sortable||t.disableColumnSorting)return;const I=t.multipleColumnsSortingMode==="always"||C.shiftKey||C.metaKey||C.ctrlKey;a(E,void 0,I)},[a,t.disableColumnSorting,t.multipleColumnsSortingMode]),T=c.useCallback(({field:E,colDef:y},C)=>{!y.sortable||t.disableColumnSorting||C.key==="Enter"&&!C.ctrlKey&&!C.metaKey&&a(E,void 0,t.multipleColumnsSortingMode==="always"||C.shiftKey)},[a,t.disableColumnSorting,t.multipleColumnsSortingMode]),D=c.useCallback(()=>{const E=Ct(e),y=Vt(e);if(E.length>0){const C=E.filter(I=>y[I.field]);C.length<E.length&&e.current.setSortModel(C)}},[e]),O=c.useCallback(E=>{E==="sorting"&&e.current.applySorting()},[e]);Ye(e,"columnMenu",l),re(e,"columnHeaderClick",x),re(e,"columnHeaderKeyDown",T),re(e,"rowsSet",e.current.applySorting),re(e,"columnsChange",D),re(e,"activeStrategyProcessorChange",O),Cn(()=>{e.current.applySorting()}),st(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function Ys(e){const{containerSize:t,scrollPosition:n,elementSize:o,elementOffset:r}=e,l=r+o;if(o>t)return r;if(l-t>n)return l-t;if(r<n)return r}const IS=(e,t)=>{const n=Rt(),o=it(e,"useGridScroll"),r=e.current.columnHeadersContainerRef,l=e.current.virtualScrollerRef,s=K(e,ln),i=c.useCallback(g=>{var x;const m=Qe(e),p=zn(e),v=Xe(e);if(!(g.rowIndex==null)&&p===0||v.length===0)return!1;o.debug(`Scrolling to cell at row ${g.rowIndex}, col: ${g.colIndex} `);let b={};if(g.colIndex!==void 0){const T=bn(e);let D;if(typeof g.rowIndex<"u"){const O=(x=s[g.rowIndex])==null?void 0:x.id,k=e.current.unstable_getCellColSpanInfo(O,g.colIndex);k&&!k.spannedByColSpan&&(D=k.cellProps.width)}typeof D>"u"&&(D=v[g.colIndex].computedWidth),b.left=Ys({containerSize:m.viewportOuterSize.width,scrollPosition:Math.abs(l.current.scrollLeft),elementSize:D,elementOffset:T[g.colIndex]})}if(g.rowIndex!==void 0){const T=nr(e),D=vh(e),O=da(e),k=t.pagination?g.rowIndex-D*O:g.rowIndex,$=T.positions[k+1]?T.positions[k+1]-T.positions[k]:T.currentPageTotalHeight-T.positions[k];b.top=Ys({containerSize:m.viewportInnerSize.height,scrollPosition:l.current.scrollTop,elementSize:$,elementOffset:T.positions[k]})}return b=e.current.unstable_applyPipeProcessors("scrollToIndexes",b,g),typeof b.left!==void 0||typeof b.top!==void 0?(e.current.scroll(b),!0):!1},[o,e,l,t.pagination,s]),a=c.useCallback(g=>{if(l.current&&g.left!==void 0&&r.current){const m=n?-1:1;r.current.scrollLeft=g.left,l.current.scrollLeft=m*g.left,o.debug(`Scrolling left: ${g.left}`)}l.current&&g.top!==void 0&&(l.current.scrollTop=g.top,o.debug(`Scrolling top: ${g.top}`)),o.debug("Scrolling, updating container, and viewport")},[l,n,r,o]),d=c.useCallback(()=>l!=null&&l.current?{top:l.current.scrollTop,left:l.current.scrollLeft}:{top:0,left:0},[l]);Ie(e,{scroll:a,scrollToIndexes:i,getScrollPosition:d},"public")};function MS(e,t){Ve(e,"columnHeaderClick",t.onColumnHeaderClick),Ve(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),Ve(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Ve(e,"columnHeaderOver",t.onColumnHeaderOver),Ve(e,"columnHeaderOut",t.onColumnHeaderOut),Ve(e,"columnHeaderEnter",t.onColumnHeaderEnter),Ve(e,"columnHeaderLeave",t.onColumnHeaderLeave),Ve(e,"cellClick",t.onCellClick),Ve(e,"cellDoubleClick",t.onCellDoubleClick),Ve(e,"cellKeyDown",t.onCellKeyDown),Ve(e,"preferencePanelClose",t.onPreferencePanelClose),Ve(e,"preferencePanelOpen",t.onPreferencePanelOpen),Ve(e,"menuOpen",t.onMenuOpen),Ve(e,"menuClose",t.onMenuClose),Ve(e,"rowDoubleClick",t.onRowDoubleClick),Ve(e,"rowClick",t.onRowClick),Ve(e,"stateChange",t.onStateChange)}const Zn={width:0,height:0},PS={isReady:!1,root:Zn,viewportOuterSize:Zn,viewportInnerSize:Zn,contentSize:Zn,minimumSize:Zn,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},kS=(e,t,n)=>{const o=PS,r=ho(n);return f({},e,{dimensions:f({},o,TS(t,n,r,rr(n)))})},FS=le(Xe,bn,(e,t)=>{const n=e.length;return n===0?0:un(t[n-1]+e[n-1].computedWidth,1)});function ES(e,t){const n=e.current.virtualizer,o=n.api.updateDimensions,r=n.api.getViewportPageSize,s={getRootDimensions:c.useCallback(()=>Qe(e),[e])},i={updateDimensions:o,getViewportPageSize:r};Ie(e,s,"public"),Ie(e,i,"private"),Ve(e,"rootMount",d=>{Xs(d,Qe(e))}),Ve(e,"debouncedResize",t.onResize),No(e.current.store,d=>d.dimensions,(d,u)=>{e.current.rootElementRef.current&&Xs(e.current.rootElementRef.current,u),DS(u.viewportInnerSize,d.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",u.viewportInnerSize),e.current.publishEvent("debouncedResize",u.root)})}function Xs(e,t){const n=(o,r)=>e.style.setProperty(o,r);n("--DataGrid-hasScrollX",`${Number(t.hasScrollX)}`),n("--DataGrid-hasScrollY",`${Number(t.hasScrollY)}`),n("--DataGrid-scrollbarSize",`${t.scrollbarSize}px`),n("--DataGrid-rowWidth",`${t.rowWidth}px`),n("--DataGrid-columnsTotalWidth",`${t.columnsTotalWidth}px`),n("--DataGrid-leftPinnedWidth",`${t.leftPinnedWidth}px`),n("--DataGrid-rightPinnedWidth",`${t.rightPinnedWidth}px`),n("--DataGrid-headerHeight",`${t.headerHeight}px`),n("--DataGrid-headersTotalHeight",`${t.headersTotalHeight}px`),n("--DataGrid-topContainerHeight",`${t.topContainerHeight}px`),n("--DataGrid-bottomContainerHeight",`${t.bottomContainerHeight}px`),n("--height",`${t.rowHeight}px`)}function TS(e,t,n,o){const r=Pi(e.rowHeight,Jo.rowHeight);return{rowHeight:Math.floor(r*n),headerHeight:Math.floor(e.columnHeaderHeight*n),groupHeaderHeight:Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*n),headerFilterHeight:Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n),columnsTotalWidth:FS(t),headersTotalHeight:xo(t,e),leftPinnedWidth:o.left.reduce((l,s)=>l+s.computedWidth,0),rightPinnedWidth:o.right.reduce((l,s)=>l+s.computedWidth,0)}}function DS(e,t){return e.width===t.width&&e.height===t.height}const HS=(e,t,n)=>{const o=Pd(n),r=zn(n),l=Nn(n),s=Math.min(l.enabled?l.paginationModel.pageSize:r,r);return f({},e,{rowsMeta:{currentPageTotalHeight:s*o,positions:Array.from({length:s},(i,a)=>a*o),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},OS=(e,t)=>{const n=e.current.virtualizer,{getRowHeight:o,setLastMeasuredRowIndex:r,storeRowHeightMeasurement:l,resetRowHeights:s,hydrateRowsMeta:i,observeRowHeight:a,rowHasAutoHeight:d,getRowHeightEntry:u,getLastMeasuredRowIndex:g}=n.api.rowsMeta;Pl(e,"rowHeight",i);const m={unstable_getRowHeight:o,unstable_setLastMeasuredRowIndex:r,unstable_storeRowHeightMeasurement:l,resetRowHeights:s},p={hydrateRowsMeta:i,observeRowHeight:a,rowHasAutoHeight:d,getRowHeightEntry:u,getLastMeasuredRowIndex:g};Ie(e,m,"public"),Ie(e,p,"private")},$S=e=>{const t=c.useCallback((r={})=>e.current.unstable_applyPipeProcessors("exportState",{},r),[e]),n=c.useCallback(r=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:r}).callbacks.forEach(s=>{s()})},[e]);Ie(e,{exportState:t,restoreState:n},"public")},GS=e=>{const t=e.current.virtualizer,n=t.api.resetColSpan,o=t.api.getCellColSpanInfo,r=t.api.calculateColSpan,l={unstable_getCellColSpanInfo:o},s={resetColSpan:n,calculateColSpan:r};Ie(e,l,"public"),Ie(e,s,"private"),re(e,"columnOrderChange",n)},Ja=(e,t,n)=>{if($i(e)){if(n[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:o,children:r}=e;r.forEach(l=>{Ja(l,[...t,o],n)})},Jr=e=>{if(!e)return{};const t={};return e.forEach(n=>{Ja(n,[],t)}),t},el=(e,t,n)=>{const o=a=>t[a]??[],r=[],l=Math.max(0,...e.map(a=>o(a).length)),s=(a,d,u)=>{const g=o(a),m=o(d);for(let p=0;p<=u;p+=1)if(g[p]!==m[p])return!1;return!0},i=(a,d)=>{const u=n==null?void 0:n.left,g=n==null?void 0:n.right,m=!!(u!=null&&u.includes(a)),p=!!(u!=null&&u.includes(d)),v=!!(g!=null&&g.includes(a)),S=!!(g!=null&&g.includes(d));return m!==p||v!==S};for(let a=0;a<l;a+=1){const d=[];for(let u=0;u<e.length;u+=1){const g=e[u],m=o(g)[a]??null;if(d.length===0){d.push({columnFields:[g],groupId:m});continue}const p=d[d.length-1],v=p.columnFields[p.columnFields.length-1];p.groupId!==m||!s(v,g,a)||i(v,g)?d.push({columnFields:[g],groupId:m}):p.columnFields.push(g)}r.push(d)}return r},LS=["groupId","children"],kl=e=>{const t={};for(let n=0;n<e.length;n+=1){const o=e[n];if($i(o))continue;const{groupId:r,children:l}=o,s=Q(o,LS);if(!r)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const i=f({},s,{groupId:r}),a=kl(l);if(a[r]!==void 0||t[r]!==void 0)throw new Error(`MUI X: The groupId ${r} is used multiple times in the columnGroupingModel.`);Object.assign(t,a),t[r]=i}return t},jS=(e,t,n)=>{if(n.current.caches.columnGrouping={lastColumnGroupingModel:t.columnGroupingModel},!t.columnGroupingModel)return e;const o=At(n),r=fo(n),l=kl(t.columnGroupingModel??[]),s=Jr(t.columnGroupingModel??[]),i=el(o,s,n.current.state.pinnedColumns??{}),a=r.length===0?0:Math.max(...r.map(d=>{var u;return((u=s[d])==null?void 0:u.length)??0}));return f({},e,{columnGrouping:{lookup:l,unwrappedGroupingModel:s,headerStructure:i,maxDepth:a}})},AS=(e,t)=>{const n=c.useCallback(i=>ba(e)[i]??[],[e]),o=c.useCallback(()=>Ca(e),[e]);Ie(e,{getColumnGroupPath:n,getAllGroupDetails:o},"public");const l=c.useCallback(()=>{const i=Jr(t.columnGroupingModel??[]);e.current.setState(a=>{var m;const d=((m=a.columns)==null?void 0:m.orderedFields)??[],u=a.pinnedColumns??{},g=el(d,i,u);return f({},a,{columnGrouping:f({},a.columnGrouping,{headerStructure:g})})})},[e,t.columnGroupingModel]),s=c.useCallback(i=>{var S,b;e.current.caches.columnGrouping.lastColumnGroupingModel=i;const a=((b=(S=e.current).getPinnedColumns)==null?void 0:b.call(S))??{},d=At(e),u=fo(e),g=kl(i??[]),m=Jr(i??[]),p=el(d,m,a),v=u.length===0?0:Math.max(...u.map(x=>{var T;return((T=m[x])==null?void 0:T.length)??0}));e.current.setState(x=>f({},x,{columnGrouping:{lookup:g,unwrappedGroupingModel:m,headerStructure:p,maxDepth:v}}))},[e]);re(e,"columnIndexChange",l),re(e,"columnsChange",()=>{s(t.columnGroupingModel)}),re(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),c.useEffect(()=>{t.columnGroupingModel!==e.current.caches.columnGrouping.lastColumnGroupingModel&&s(t.columnGroupingModel)},[e,s,t.columnGroupingModel])};function zS(){let e,t;const n=new Promise((o,r)=>{e=o,t=r});return n.resolve=e,n.reject=t,n}function Qs(e,t){if(t!==void 0&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const o=e.changedTouches[n];if(o.identifier===t)return{x:o.clientX,y:o.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Zs(e,t,n,o){let r=e;return o==="Right"?r+=t-n.left:r+=n.right-t,r}function RS(e,t,n){return n==="Left"?e-t.left:t.right-e}function VS(e){return e==="Right"?"Left":"Right"}function NS(e,t){const n=e.classList.contains(w["columnSeparator--sideRight"])?"Right":"Left";return t?VS(n):n}function Js(e){e.preventDefault(),e.stopImmediatePropagation()}function BS(e){const t=c.useRef(void 0),n=()=>xm(e),o=K(e,n);return c.useEffect(()=>{t.current&&o===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(n()===!1)return Promise.resolve();t.current=zS()}return t.current}}function _S(e,t){if(e.length<4)return e;const n=e.slice();n.sort((i,a)=>i-a);const o=n[Math.floor(n.length*.25)],r=n[Math.floor(n.length*.75)-1],l=r-o,s=l<5?5:l*t;return n.filter(i=>i>o-s&&i<r+s)}function WS(e,t,n){const o={},r=e.current.rootElementRef.current;return r.classList.add(w.autosizing),n.forEach(l=>{const i=rb(e.current,l.field).map(v=>v.getBoundingClientRect().width??0),a=t.includeOutliers?i:_S(i,t.outliersFactor);if(t.includeHeaders){const v=ob(e.current,l.field);if(v){const S=v.querySelector(`.${w.columnHeaderTitle}`),b=v.querySelector(`.${w.columnHeaderTitleContainerContent}`),x=v.querySelector(`.${w.iconButtonContainer}`),T=v.querySelector(`.${w.menuIcon}`),D=S??b,O=window.getComputedStyle(v,null),k=parseInt(O.paddingLeft,10)+parseInt(O.paddingRight,10),E=D.scrollWidth+1+k+((x==null?void 0:x.clientWidth)??0)+((T==null?void 0:T.clientWidth)??0);a.push(E)}}const d=l.minWidth!==-1/0&&l.minWidth!==void 0,u=l.maxWidth!==1/0&&l.maxWidth!==void 0,g=d?l.minWidth:0,m=u?l.maxWidth:1/0,p=a.length===0?0:Math.max(...a);o[l.field]=gn(p,g,m)}),r.classList.remove(w.autosizing),o}const US=e=>f({},e,{columnResize:{resizingColumnField:""}});function KS(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const qS=(e,t)=>{const n=Rt(),o=it(e,"useGridColumnResize"),r=Ht(KS).current,l=c.useRef(null),s=c.useRef(null),i=pn(),a=c.useRef(void 0),d=C=>{var F,P;o.debug(`Updating width to ${C} for col ${r.colDef.field}`);const I=r.columnHeaderElement.offsetWidth,M=C-I,j=C-r.initialColWidth;if(j>0){const H=r.initialTotalWidth+j;(P=(F=e.current.rootElementRef)==null?void 0:F.current)==null||P.style.setProperty("--DataGrid-rowWidth",`${H}px`)}r.colDef.computedWidth=C,r.colDef.width=C,r.colDef.flex=0,r.columnHeaderElement.style.width=`${C}px`;const G=r.headerFilterElement;G&&(G.style.width=`${C}px`),r.groupHeaderElements.forEach(H=>{const V=H;let W;V.getAttribute("aria-colspan")==="1"?W=`${C}px`:W=`${V.offsetWidth+M}px`,V.style.width=W}),r.cellElements.forEach(H=>{const V=H;let W;V.getAttribute("aria-colspan")==="1"?W=`${C}px`:W=`${V.offsetWidth+M}px`,V.style.setProperty("--width",W)});const z=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);z===Jt.LEFT&&(In(r.fillerLeft,"width",M),r.leftPinnedCellsAfter.forEach(H=>{In(H,"left",M)}),r.leftPinnedHeadersAfter.forEach(H=>{In(H,"left",M)})),z===Jt.RIGHT&&(In(r.fillerRight,"width",M),r.rightPinnedCellsBefore.forEach(H=>{In(H,"right",M)}),r.rightPinnedHeadersBefore.forEach(H=>{In(H,"right",M)}))},u=C=>{if(x(),r.previousMouseClickEvent){const I=r.previousMouseClickEvent,M=I.timeStamp,j=I.clientX,G=I.clientY;if(C.timeStamp-M<300&&C.clientX===j&&C.clientY===G){r.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,C);return}}if(r.colDef){e.current.setColumnWidth(r.colDef.field,r.colDef.width),o.debug(`Updating col ${r.colDef.field} with new width: ${r.colDef.width}`);const I=Tt(e);r.groupHeaderElements.forEach(M=>{const j=Xp(M),G=M,F=`${j.reduce((P,H)=>I.columnVisibilityModel[H]!==!1?P+I.lookup[H].computedWidth:P,0)}px`;G.style.width=F})}i.start(0,()=>{e.current.publishEvent("columnResizeStop",null,C)})},g=(C,I,M)=>{var F;const j=e.current.rootElementRef.current;r.initialColWidth=C.computedWidth,r.initialTotalWidth=e.current.getRootDimensions().rowWidth,r.colDef=C,r.columnHeaderElement=Yp(e.current.columnHeadersContainerRef.current,C.field);const G=j.querySelector(`.${w.headerFilterRow} [data-field="${Xt(C.field)}"]`);G&&(r.headerFilterElement=G),r.groupHeaderElements=Qp((F=e.current.columnHeadersContainerRef)==null?void 0:F.current,C.field),r.cellElements=Zp(r.columnHeaderElement,e.current),r.fillerLeft=Ls(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),r.fillerRight=Ls(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");const z=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);r.leftPinnedCellsAfter=z!==Jt.LEFT?[]:Jp(e.current,r.columnHeaderElement,n),r.rightPinnedCellsBefore=z!==Jt.RIGHT?[]:eb(e.current,r.columnHeaderElement,n),r.leftPinnedHeadersAfter=z!==Jt.LEFT?[]:tb(e.current,r.columnHeaderElement,n),r.rightPinnedHeadersBefore=z!==Jt.RIGHT?[]:nb(e.current,r.columnHeaderElement,n),s.current=NS(I,n),l.current=RS(M,r.columnHeaderElement.getBoundingClientRect(),s.current)},m=Fe(u),p=Fe(C=>{if(C.buttons===0){m(C);return}let I=Zs(l.current,C.clientX,r.columnHeaderElement.getBoundingClientRect(),s.current);I=gn(I,r.colDef.minWidth,r.colDef.maxWidth),d(I);const M={element:r.columnHeaderElement,colDef:r.colDef,width:I};e.current.publishEvent("columnResize",M,C)}),v=Fe(C=>{Qs(C,a.current)&&u(C)}),S=Fe(C=>{const I=Qs(C,a.current);if(!I)return;if(C.type==="mousemove"&&C.buttons===0){v(C);return}let M=Zs(l.current,I.x,r.columnHeaderElement.getBoundingClientRect(),s.current);M=gn(M,r.colDef.minWidth,r.colDef.maxWidth),d(M);const j={element:r.columnHeaderElement,colDef:r.colDef,width:M};e.current.publishEvent("columnResize",j,C)}),b=Fe(C=>{const I=Xo(C.target,w["columnSeparator--resizable"]);if(!I)return;const M=C.changedTouches[0];M!=null&&(a.current=M.identifier);const j=Xo(C.target,w.columnHeader),G=qp(j),z=e.current.getColumn(G);o.debug(`Start Resize on col ${z.field}`),e.current.publishEvent("columnResizeStart",{field:G},C),g(z,I,M.clientX);const F=dn(C.currentTarget);F.addEventListener("touchmove",S),F.addEventListener("touchend",v)}),x=c.useCallback(()=>{const C=dn(e.current.rootElementRef.current);C.body.style.removeProperty("cursor"),C.removeEventListener("mousemove",p),C.removeEventListener("mouseup",m),C.removeEventListener("touchmove",S),C.removeEventListener("touchend",v),setTimeout(()=>{C.removeEventListener("click",Js,!0)},100),r.columnHeaderElement&&(r.columnHeaderElement.style.pointerEvents="unset")},[e,r,p,m,S,v]),T=c.useCallback(({field:C})=>{e.current.setState(I=>f({},I,{columnResize:f({},I.columnResize,{resizingColumnField:C})}))},[e]),D=c.useCallback(()=>{e.current.setState(C=>f({},C,{columnResize:f({},C.columnResize,{resizingColumnField:""})}))},[e]),O=Fe(({colDef:C},I)=>{if(I.button!==0||!I.currentTarget.classList.contains(w["columnSeparator--resizable"]))return;I.preventDefault(),o.debug(`Start Resize on col ${C.field}`),e.current.publishEvent("columnResizeStart",{field:C.field},I),g(C,I.currentTarget,I.clientX);const M=dn(e.current.rootElementRef.current);M.body.style.cursor="col-resize",r.previousMouseClickEvent=I.nativeEvent,M.addEventListener("mousemove",p),M.addEventListener("mouseup",m),M.addEventListener("click",Js,!0)}),k=Fe((C,I)=>{if(t.disableAutosize||I.button!==0)return;const M=e.current.state.columns.lookup[C.field];M.resizable!==!1&&e.current.autosizeColumns(f({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[M.field]}))}),$=BS(e),E=c.useRef(!1),y=c.useCallback(async C=>{var z;if(!((z=e.current.rootElementRef)==null?void 0:z.current)||E.current)return;E.current=!0;const M=Tt(e),j=f({},Fm,C,{columns:(C==null?void 0:C.columns)??M.orderedFields});j.columns=j.columns.filter(F=>M.columnVisibilityModel[F]!==!1);const G=j.columns.map(F=>e.current.state.columns.lookup[F]);try{!t.disableVirtualization&&j.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await $());const F=WS(e,j,G),P=G.map(H=>f({},H,{width:F[H.field],computedWidth:F[H.field],flex:0}));if(j.expand){const V=M.orderedFields.map(B=>M.lookup[B]).filter(B=>M.columnVisibilityModel[B.field]!==!1).reduce((B,Y)=>B+(F[Y.field]??Y.computedWidth??Y.width),0),A=e.current.getRootDimensions().viewportInnerSize.width-V;if(A>0){const B=A/(P.length||1);P.forEach(Y=>{Y.width+=B,Y.computedWidth+=B})}}e.current.updateColumns(P),P.forEach((H,V)=>{if(H.width!==G[V].width){const W=H.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(H.field),colDef:H,width:W})}})}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),E.current=!1}},[e,$,t.disableVirtualization]);c.useEffect(()=>x,[x]),nl(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),va(e,()=>{var C;return(C=e.current.columnHeadersContainerRef)==null?void 0:C.current},"touchstart",b,{passive:!0}),Ie(e,{autosizeColumns:y},"public"),re(e,"columnResizeStop",D),re(e,"columnResizeStart",T),re(e,"columnSeparatorMouseDown",O),re(e,"columnSeparatorDoubleClick",k),Ve(e,"columnResize",t.onColumnResize),Ve(e,"columnWidthChange",t.onColumnWidthChange)};function In(e,t,n){e&&(e.style[t]=`${parseInt(e.style[t],10)+n}px`)}function YS(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}function ei(e){return e.firstRowIndex!==0||e.lastRowIndex!==0}const Ar=(e,t,n)=>{if(!e)return null;let o=e[t.field];const r=t.rowSpanValueGetter??t.valueGetter;return r&&(o=r(o,e,t,n)),o},ec={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},XS={firstRowIndex:0,lastRowIndex:0},Hn={caches:ec,processedRange:XS},ti=20,tc=(e,t,n,o,r,l)=>{const s=e.current.virtualizer,i=l?Hn:jn.selectors.state(s.store.state),a=f({},i.caches.spannedCells),d=f({},i.caches.hiddenCells),u=f({},i.caches.hiddenCellOriginMap),g={firstRowIndex:Math.min(i.processedRange.firstRowIndex,r.firstRowIndex),lastRowIndex:Math.max(i.processedRange.lastRowIndex,r.lastRowIndex)};return t.forEach((m,p)=>{var v;for(let S=r.firstRowIndex;S<r.lastRowIndex;S+=1){const b=n[S];if((v=d[b.id])!=null&&v[p])continue;const x=Ar(b.model,m,e);if(x==null)continue;let T=b.id,D=S,O=0;const k=[];if(S===r.firstRowIndex){let E=S-1,y=n[E];for(;E>=o.firstRowIndex&&y&&Ar(y.model,m,e)===x;){const C=n[E+1];d[C.id]?d[C.id][p]=!0:d[C.id]={[p]:!0},k.push(S),O+=1,T=y.id,D=E,E-=1,y=n[E]}}k.forEach(E=>{u[E]?u[E][p]=D:u[E]={[p]:D}});let $=S+1;for(;$<=o.lastRowIndex&&n[$]&&Ar(n[$].model,m,e)===x;){const E=n[$];d[E.id]?d[E.id][p]=!0:d[E.id]={[p]:!0},u[$]?u[$][p]=D:u[$]={[p]:D},$+=1,O+=1}O>0&&(a[T]?a[T][p]=O+1:a[T]={[p]:O+1})}}),{caches:{spannedCells:a,hiddenCells:d,hiddenCellOriginMap:u},processedRange:g}},QS=(e,t)=>{const n=an(t).length;if(e.pagination){const o=da(t);let r=ti;return o>0&&(r=o-1),{firstRowIndex:0,lastRowIndex:Math.min(r,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(ti,n)}},ZS=(e,t,n)=>{var m;if(!t.rowSpanning)return f({},e,{rowSpanning:Hn});const o=e.rows.dataRowIds||[],r=e.columns.orderedFields||[],l=e.rows.dataRowIdToModelLookup,s=e.columns.lookup,i=!!e.filter.filterModel.items.length||!!((m=e.filter.filterModel.quickFilterValues)!=null&&m.length);if(!o.length||!r.length||!l||!s||i)return f({},e,{rowSpanning:Hn});const a=QS(t,n),d=o.map(p=>({id:p,model:l[p]})),u=r.map(p=>s[p]),g=tc(n,u,d,a,a,!0);return f({},e,{rowSpanning:g})},JS=(e,t)=>{const n=e.current.virtualizer.store,o=c.useCallback((l,s=!1)=>{const{range:i,rows:a}=Dn(e);if(i===null||!ei(l))return;const d=s?Hn:jn.selectors.state(n.state),u=YS({firstRowIndex:l.firstRowIndex,lastRowIndex:Math.min(l.lastRowIndex,i.lastRowIndex-i.firstRowIndex+1)},d.processedRange);if(u===null)return;const g=Xe(e),m=tc(e,g,a,i,u,s),p=Object.keys(m.caches.spannedCells).length,v=Object.keys(m.caches.hiddenCells).length,S=Object.keys(d.caches.spannedCells).length,b=Object.keys(d.caches.hiddenCells).length;!(s||p!==S||v!==b)||p===0&&S===0||n.set("rowSpanning",m)},[e,n]),r=c.useCallback(()=>{const l=yl(e);ei(l)&&o(l,!0)},[e,o]);re(e,"renderedRowsIntervalChange",tn(t.rowSpanning,o)),re(e,"sortedRowsSet",tn(t.rowSpanning,r)),re(e,"paginationModelChange",tn(t.rowSpanning,r)),re(e,"filteredRowsSet",tn(t.rowSpanning,r)),re(e,"columnsChange",tn(t.rowSpanning,r)),c.useEffect(()=>{t.rowSpanning?n.state.rowSpanning.caches===ec&&r():n.state.rowSpanning!==Hn&&n.set("rowSpanning",Hn)},[e,n,r,t.rowSpanning])},ey=(e,t,n)=>f({},e,{listViewColumn:t.listViewColumn?f({},t.listViewColumn,{computedWidth:tl(n)}):void 0});function ty(e,t){const n=()=>{e.current.setState(l=>l.listViewColumn?f({},l,{listViewColumn:f({},l.listViewColumn,{computedWidth:tl(e)})}):l)},o=c.useRef(null);re(e,"viewportInnerSizeChange",l=>{o.current!==l.width&&(o.current=l.width,n())}),re(e,"columnVisibilityModelChange",n),st(()=>{const l=t.listViewColumn;l&&e.current.setState(s=>f({},s,{listViewColumn:f({},l,{computedWidth:tl(e)})}))},[e,t.listViewColumn]),c.useEffect(()=>{t.listView&&t.listViewColumn},[t.listView,t.listViewColumn])}function tl(e){return Qe(e).viewportInnerSize.width}const ny=le(et,Ct,rt,(e,t,n)=>({groupKeys:[],paginationModel:n,sortModel:t,filterModel:e,start:n.page*n.pageSize,end:n.page*n.pageSize+n.pageSize-1}));let zr=function(e){return e.Default="set-new-rows",e.LazyLoading="replace-row-range",e}({});class Vo{constructor(t){gt(this,"getCacheKeys",t=>{if(this.chunkSize<1||typeof t.start!="number")return[t];const n=[];for(let o=t.start;o<=t.end;o+=this.chunkSize){const r=Math.min(o+this.chunkSize-1,t.end);n.push(f({},t,{start:o,end:r}))}return n});gt(this,"splitResponse",(t,n)=>{const o=this.getCacheKeys(t);if(o.length===1)return new Map([[t,n]]);const r=new Map;return o.forEach(l=>{var a,d,u,g;const s=l.end===t.end,i=f({},n,{pageInfo:f({},n.pageInfo,{hasNextPage:((a=n.pageInfo)==null?void 0:a.hasNextPage)!==void 0&&!s?!0:(d=n.pageInfo)==null?void 0:d.hasNextPage,nextCursor:((u=n.pageInfo)==null?void 0:u.nextCursor)!==void 0&&!s?n.rows[l.end+1].id:(g=n.pageInfo)==null?void 0:g.nextCursor}),rows:typeof l.start!="number"||typeof t.start!="number"?n.rows:n.rows.slice(l.start-t.start,l.end-t.start+1)});r.set(l,i)}),r});this.chunkSize=t}}gt(Vo,"mergeResponses",t=>t.length===1?t[0]:t.reduce((n,o)=>({rows:[...n.rows,...o.rows],rowCount:o.rowCount,pageInfo:o.pageInfo}),{rows:[],rowCount:0,pageInfo:{}}));const oy=["skipCache"],ry={clear:()=>{},get:()=>{},set:()=>{}};function ni(e,t={}){return e===null?ry:e??new Hm(t)}const ly=(e,t,n={})=>{var k,$;const o=c.useCallback(()=>{e.current.setStrategyAvailability(on.DataSource,zr.Default,t.dataSource?()=>!0:()=>!1)},[e,t.dataSource]),[r,l]=c.useState(!1),s=K(e,rt),i=c.useRef(0),a=t.onDataSourceError,d=Ht(()=>{if(!t.pagination)return new Vo(s.pageSize);const E=t.pageSizeOptions.map(C=>typeof C=="number"?C:C.value).sort((C,I)=>C-I),y=Math.min(s.pageSize,E[0]);return new Vo(y)}).current,[u,g]=c.useState(()=>ni(t.dataSourceCache,n.cacheOptions)),m=c.useCallback(async(E,y)=>{var H,V,W;const C=(H=t.dataSource)==null?void 0:H.getRows;if(!C)return;if(E&&E!==nt&&t.signature!=="DataGrid"){(V=n.fetchRowChildren)==null||V.call(n,[E]);return}(W=n.clearDataSourceState)==null||W.call(n);const I=y||{},{skipCache:M}=I,j=Q(I,oy),G=f({},ny(e),e.current.unstable_applyPipeProcessors("getRowsParams",{}),j),F=d.getCacheKeys(G).map(L=>u.get(L));if(!M&&F.every(L=>L!==void 0)){e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:Vo.mergeResponses(F),fetchParams:G});return}(r||e.current.getRowsCount()===0)&&e.current.setLoading(!0);const P=i.current+1;i.current=P;try{const L=await C(G);d.splitResponse(G,L).forEach((B,Y)=>u.set(Y,B)),i.current===P&&e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:L,fetchParams:G})}catch(L){i.current===P&&(e.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:L,fetchParams:G}),typeof a=="function"&&a(new Om({message:L==null?void 0:L.message,params:G,cause:L})))}finally{r&&i.current===P&&e.current.setLoading(!1)}},[d,u,e,r,(k=t.dataSource)==null?void 0:k.getRows,a,n,t.signature]),p=c.useCallback(()=>{l(e.current.getActiveStrategy(on.DataSource)===zr.Default)},[e]),v=c.useCallback(E=>{if("error"in E){e.current.setRows([]);return}const{response:y}=E;y.rowCount!==void 0&&e.current.setRowCount(y.rowCount),e.current.setRows(y.rows),e.current.unstable_applyPipeProcessors("processDataSourceRows",{params:E.fetchParams,response:y},!0)},[e]),S=($=t.dataSource)==null?void 0:$.updateRow,b=n.handleEditRow,x=c.useCallback(async E=>{if(S)try{const y=await S(E);return typeof b=="function"?(b(E,y),y):(e.current.updateNestedRows([y],[]),y&&!vt(y,E.previousRow)&&e.current.dataSource.cache.clear(),y)}catch(y){throw typeof a=="function"&&a(new $m({message:y==null?void 0:y.message,params:E,cause:y})),y}},[e,S,a,b]),T={dataSource:{fetchRows:m,cache:u,editRow:x}},D=c.useMemo(()=>ol(m,0),[m]),O=c.useRef(!0);return c.useEffect(()=>{if(O.current){O.current=!1;return}if(t.dataSourceCache===void 0)return;const E=ni(t.dataSourceCache,n.cacheOptions);g(y=>y!==E?E:y)},[t.dataSourceCache,n.cacheOptions]),c.useEffect(()=>(t.dataSource&&(e.current.dataSource.cache.clear(),e.current.dataSource.fetchRows()),()=>{i.current+=1}),[e,t.dataSource]),{api:{public:T},debouncedFetchRows:D,strategyProcessor:{strategyName:zr.Default,group:"dataSourceRowsUpdate",processor:v},setStrategyAvailability:o,cacheChunkManager:d,cache:u,events:{strategyAvailabilityChange:p,sortModelChange:tn(r,()=>D()),filterModelChange:tn(r,()=>D()),paginationModelChange:tn(r,()=>D())}}},sy=(e,t)=>{const{api:n,strategyProcessor:o,events:r,setStrategyAvailability:l}=ly(e,t);Ie(e,n.public,"public"),uo(e,o.strategyName,o.group,o.processor),Object.entries(r).forEach(([s,i])=>{re(e,s,i)}),c.useEffect(()=>{l()},[l])},iy=(e,t)=>{px(e,t),SS(e,t),pS(e),Je(fx,e,t),Je(CS,e,t),Je(Tx,e,t),Je(dS,e,t),Je(Jx,e,t),Je(cS,e,t),Je(Ux,e,t),Je(yS,e,t),Je(tS,e,t),Je(Nx,e,t),Je(ZS,e,t),Je(Ox,e,t),Je(US,e,t),Je(Fx,e,t),Je(jS,e,t),Je(Cm,e,t),Je(kS,e,t),Je(HS,e,t),Je(ey,e,t),yx(e,t),Xx(e,t),wS(e,t),Dx(e,t),gS(e,t),JS(e,t),bS(e,t),GS(e),AS(e,t),uS(e,t),Kx(e,t),nS(e,t),Wx(e,t),vS(e,t),$x(e,t),qS(e,t),eS(e,t),OS(e),IS(e,t),Ex(e),Lx(e,t),Vx(e,t),kx(e,t),ES(e,t),MS(e,t),$S(e),wm(e,t),ty(e,t),sy(e,t),c.useEffect(()=>{e.current.runAppliersForPendingProcessors()})},ay=e=>{const{classes:t,headerAlign:n,isDragging:o,isLastColumn:r,showLeftBorder:l,showRightBorder:s,groupId:i,pinnedPosition:a}=e,d={root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",o&&"columnHeader--moving",s&&"columnHeader--withRightBorder",l&&"columnHeader--withLeftBorder","withBorderColor",i===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",a===Ee.LEFT&&"columnHeader--pinnedLeft",a===Ee.RIGHT&&"columnHeader--pinnedRight",r&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Me(d,Pe,t)};function cy(e){var V;const{groupId:t,width:n,depth:o,maxDepth:r,fields:l,height:s,colIndex:i,hasFocus:a,tabIndex:d,isLastColumn:u,pinnedPosition:g,pinnedOffset:m}=e,p=Z(),v=Rt(),S=c.useRef(null),b=be(),x=K(b,Ca),T=t?x[t]:{},{headerName:D=t??"",description:O="",headerAlign:k=void 0}=T;let $;const E=t&&((V=x[t])==null?void 0:V.renderHeaderGroup),y=c.useMemo(()=>({groupId:t,headerName:D,description:O,depth:o,maxDepth:r,fields:l,colIndex:i,isLastColumn:u}),[t,D,O,o,r,l,i,u]);t&&E&&($=E(y));const C=f({},e,{classes:p.classes,headerAlign:k,depth:o,isDragging:!1}),I=D??t,M=Oe(),j=t===null?`empty-group-cell-${M}`:t,G=ay(C);c.useLayoutEffect(()=>{if(a){const L=S.current.querySelector('[tabindex="0"]')||S.current;L==null||L.focus()}},[b,a]);const z=c.useCallback(W=>L=>{yo(L)||b.current.publishEvent(W,y,L)},[b,y]),F=c.useMemo(()=>({onKeyDown:z("columnGroupHeaderKeyDown"),onFocus:z("columnGroupHeaderFocus"),onBlur:z("columnGroupHeaderBlur")}),[z]),P=typeof T.headerClassName=="function"?T.headerClassName(y):T.headerClassName,H=c.useMemo(()=>mr(f({},e.style),v,g,m),[g,m,e.style,v]);return h.jsx(Na,f({ref:S,classes:G,columnMenuOpen:!1,colIndex:i,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:d,isDraggable:!1,headerComponent:$,headerClassName:P,description:O,elementId:j,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:I,"aria-colspan":l.length,"data-fields":`|-${l.join("-|-")}-|`,style:H},F))}const oi=_e("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"}),uy=e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:o,columnHeaderTabIndexState:r,columnGroupHeaderTabIndexState:l,columnHeaderFocus:s,columnGroupHeaderFocus:i,headerGroupingMaxDepth:a,columnMenuState:d,columnVisibility:u,columnGroupsHeaderStructure:g,hasOtherElementInTabSequence:m}=e,[p,v]=c.useState(""),[S,b]=c.useState(""),x=pt(),T=Z(),D=K(x,ba),O=K(x,bn),k=K(x,vm),$=K(x,rr),E=K(x,Vt),y=Fa(O,k,$.left.length),C=K(x,il),I=K(x,xi),M=K(x,Ed),j=K(x,Td),G=K(x,Si),z=c.useCallback(q=>b(q.field),[]),F=c.useCallback(()=>b(""),[]),P=c.useCallback(q=>v(q.field),[]),H=c.useCallback(()=>v(""),[]),V=c.useMemo(()=>$.left.length?{firstColumnIndex:0,lastColumnIndex:$.left.length}:null,[$.left.length]),W=c.useMemo(()=>$.right.length?{firstColumnIndex:t.length-$.right.length,lastColumnIndex:t.length}:null,[$.right.length,t.length]);re(x,"columnResizeStart",z),re(x,"columnResizeStop",F),re(x,"columnHeaderDragStart",P),re(x,"columnHeaderDragEndNative",H);const L=q=>{const{renderContext:ge=k}=q||{},ce=ge.firstColumnIndex,de=Math.min(ge.lastColumnIndex,t.length);return{renderedColumns:t.slice(ce,de),firstColumnToRender:ce,lastColumnToRender:de}},A=(q,ge,ce,de=!1)=>{const U=(q==null?void 0:q.position)===Ee.RIGHT,X=(q==null?void 0:q.position)===void 0,te=$.right.length>0&&U||$.right.length===0&&X,ie=y-ce;return h.jsxs(c.Fragment,{children:[X&&h.jsx("div",{role:"presentation",style:{width:ie}}),ge,X&&h.jsx("div",{role:"presentation",className:He(w.filler,de&&w["filler--borderBottom"])}),te&&h.jsx(Ml,{header:!0,pinnedRight:U,borderBottom:de,borderTop:!1})]})},B=(q,ge={})=>{const{renderedColumns:ce,firstColumnToRender:de}=L(q),U=[];for(let X=0;X<ce.length;X+=1){const te=ce[X],ie=de+X,ae=ie===0,he=r!==null&&r.field===te.field||ae&&!m?0:-1,pe=s!==null&&s.field===te.field,ve=d.open&&d.field===te.field,ke=q==null?void 0:q.position,Te=ro(ke,te.computedWidth,ie,O,C,G),se=ke===Ee.RIGHT?ce[X-1]:ce[X+1],xe=se?s!==null&&s.field===se.field:!1,oe=ie+1===O.length-$.right.length,ue=X,Ce=ce.length,Se=Zo(ke,ue),ye=Qo(ke,ue,Ce,T.showColumnVerticalBorder,I);U.push(h.jsx(bb,f({},n[te.field],{columnMenuOpen:ve,filterItemsCounter:o[te.field]&&o[te.field].length,headerHeight:M,isDragging:te.field===p,colDef:te,colIndex:ie,isResizing:S===te.field,isLast:ie===O.length-1,hasFocus:pe,tabIndex:he,pinnedPosition:ke,pinnedOffset:Te,isLastUnpinned:oe,isSiblingFocused:xe,showLeftBorder:Se,showRightBorder:ye},ge),te.field))}return A(q,U,0)},Y=()=>h.jsxs(oi,{role:"row","aria-rowindex":a+1,ownerState:T,className:w["row--borderBottom"],style:{height:M},children:[V&&B({position:Ee.LEFT,renderContext:V},{disableReorder:!0}),B({renderContext:k}),W&&B({position:Ee.RIGHT,renderContext:W},{disableReorder:!0,separatorSide:vl.Left})]}),_=({depth:q,params:ge})=>{var Ce,Se;const ce=L(ge);if(ce.renderedColumns.length===0)return null;const{firstColumnToRender:de,lastColumnToRender:U}=ce,X=g[q],te=t[de].field,ie=((Ce=D[te])==null?void 0:Ce[q])??null,ae=X.findIndex(({groupId:ye,columnFields:Ge})=>ye===ie&&Ge.includes(te)),he=t[U-1].field,pe=((Se=D[he])==null?void 0:Se[q])??null,ve=X.findIndex(({groupId:ye,columnFields:Ge})=>ye===pe&&Ge.includes(he)),ke=X.slice(ae,ve+1).map(ye=>f({},ye,{columnFields:ye.columnFields.filter(Ge=>u[Ge]!==!1)})).filter(ye=>ye.columnFields.length>0),Te=ke[0].columnFields.indexOf(te),xe=ke[0].columnFields.slice(0,Te).reduce((ye,Ge)=>{const Ne=E[Ge];return ye+(Ne.computedWidth??0)},0);let oe=de;const ue=ke.map(({groupId:ye,columnFields:Ge},Ne)=>{const qe=i!==null&&i.depth===q&&Ge.includes(i.field),we=l!==null&&l.depth===q&&Ge.includes(l.field)?0:-1,R={groupId:ye,width:Ge.reduce((me,Be)=>me+E[Be].computedWidth,0),fields:Ge,colIndex:oe,hasFocus:qe,tabIndex:we},ee=ge.position,Re=ro(ee,R.width,oe,O,C,G);oe+=Ge.length;let De=Ne;return ee===Ee.LEFT&&(De=oe-1),h.jsx(cy,{groupId:ye,width:R.width,fields:R.fields,colIndex:R.colIndex,depth:q,isLastColumn:Ne===ke.length-1,maxDepth:a,height:j,hasFocus:qe,tabIndex:we,pinnedPosition:ee,pinnedOffset:Re,showLeftBorder:Zo(ee,De),showRightBorder:Qo(ee,De,ke.length,T.showColumnVerticalBorder,I)},Ne)});return A(ge,ue,xe)};return{renderContext:k,leftRenderContext:V,rightRenderContext:W,pinnedColumns:$,visibleColumns:t,columnPositions:O,getFillers:A,getColumnHeadersRow:Y,getColumnsToRender:L,getColumnGroupHeadersRows:()=>{if(a===0)return null;const q=[];for(let ge=0;ge<a;ge+=1)q.push(h.jsxs(oi,{role:"row","aria-rowindex":ge+1,ownerState:T,style:{height:j},children:[V&&_({depth:ge,params:{position:Ee.LEFT,renderContext:V,maxLastColumn:V.lastColumnIndex}}),_({depth:ge,params:{renderContext:k}}),W&&_({depth:ge,params:{position:Ee.RIGHT,renderContext:W,maxLastColumn:W.lastColumnIndex}})]},ge));return q},getPinnedCellOffset:ro,isDragging:!!p,getInnerProps:()=>({role:"rowgroup"})}},dy=["className"],gy=e=>{const{classes:t}=e;return Me({root:["columnHeaders"]},Pe,t)},hy=$e("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),fy=fe(function(t,n){const{className:o}=t,r=Q(t,dy),l=Z(),s=gy(l);return h.jsx(hy,f({className:He(s.root,o),ownerState:l},r,{role:"presentation",ref:n}))}),my=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],py=fe(function(t,n){const{visibleColumns:o,sortColumnLookup:r,filterColumnLookup:l,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:i,columnHeaderFocus:a,columnGroupHeaderFocus:d,headerGroupingMaxDepth:u,columnMenuState:g,columnVisibility:m,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:v}=t,S=Q(t,my),{getInnerProps:b,getColumnHeadersRow:x,getColumnGroupHeadersRows:T}=uy({visibleColumns:o,sortColumnLookup:r,filterColumnLookup:l,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:i,columnHeaderFocus:a,columnGroupHeaderFocus:d,headerGroupingMaxDepth:u,columnMenuState:g,columnVisibility:m,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:v});return h.jsxs(fy,f({},S,b(),{ref:n,children:[T(),x()]}))}),by=qt(py);function Cy(e){return null}function wy(e){return null}const xy=fe(function(t,n){const r=be().current.getLocaleText("noResultsOverlayLabel");return h.jsx(pr,f({},t,{ref:n,children:r}))}),Sy=()=>Me({root:["bottomContainer"]},Pe,{}),yy=$e("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function vy(e){const t=Sy();return h.jsx(yy,f({},e,{className:He(t.root,w["container--bottom"]),role:"presentation"}))}const Iy=f({},yd,{cell:Qm,skeletonCell:sp,columnHeaderFilterIconButton:Db,columnHeaderSortIcon:Eb,columnMenu:Kb,columnHeaders:by,detailPanels:Cy,bottomContainer:vy,footer:Dw,footerRowCount:Kw,toolbar:Iw,pinnedRows:wy,loadingOverlay:zw,noResultsOverlay:xy,noRowsOverlay:Rw,noColumnsOverlay:Vw,pagination:Bw,filterPanel:yC,columnsPanel:Qb,columnsManagement:DC,panel:nC,row:ex}),My={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1},Py=e=>f({},My,e.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{}),ky=Iy,Fy=e=>{const t=er(),n=c.useMemo(()=>Tc({props:e,theme:t,name:"MuiDataGrid"}),[t,e]),o=c.useMemo(()=>f({},Bd,n.localeText),[n.localeText]),r=c.useMemo(()=>_m({defaultSlots:ky,slots:n.slots}),[n.slots]),l=c.useMemo(()=>Object.keys(Jo).reduce((s,i)=>(s[i]=n[i]??Jo[i],s),{}),[n]);return c.useMemo(()=>f({},n,l,{localeText:o,slots:r},Py(n)),[n,o,r,l])};class Ey{constructor(){gt(this,"maxListeners",20);gt(this,"warnOnce",!1);gt(this,"events",{})}on(t,n,o={}){let r=this.events[t];r||(r={highPriority:new Map,regular:new Map},this.events[t]=r),o.isFirst?r.highPriority.set(n,!0):r.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const o=this.events[t];if(!o)return;const r=Array.from(o.highPriority.keys()),l=Array.from(o.regular.keys());for(let s=r.length-1;s>=0;s-=1){const i=r[s];o.highPriority.has(i)&&i.apply(this,n)}for(let s=0;s<l.length;s+=1){const i=l[s];o.regular.has(i)&&i.apply(this,n)}}once(t,n){const o=this;this.on(t,function r(...l){o.removeListener(t,r),n.apply(o,l)})}}const nc=Symbol("mui.api_private"),Ty=e=>e.isPropagationStopped!==void 0;let ri=0;function Dy(e){var r;const t=(r=e.current)==null?void 0:r[nc];if(t)return t;const n={},o={state:n,store:tr.create(n),instanceId:{id:ri}};return ri+=1,o.getPublicApi=()=>e.current,o.register=(l,s)=>{Object.keys(s).forEach(i=>{const a=s[i],d=o[i];if((d==null?void 0:d.spying)===!0?d.target=a:o[i]=a,l==="public"){const u=e.current,g=u[i];(g==null?void 0:g.spying)===!0?g.target=a:u[i]=a}})},o.register("private",{caches:{},eventManager:new Ey}),o}function Hy(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[nc]:e.current}}function Oy(e,t){var s;const n=c.useRef(null),o=c.useRef(null);o.current||(o.current=Dy(n)),n.current||(n.current=Hy(o));const r=c.useCallback((...i)=>{const[a,d,u={}]=i;if(u.defaultMuiPrevented=!1,Ty(u)&&u.isPropagationStopped())return;const g=t.signature===Et.DataGridPro||t.signature===Et.DataGridPremium?{api:o.current.getPublicApi()}:{};o.current.eventManager.emit(a,d,u,g)},[o,t.signature]),l=c.useCallback((i,a,d)=>{o.current.eventManager.on(i,a,d);const u=o.current;return()=>{u.eventManager.removeListener(i,a)}},[o]);return Ie(o,{subscribeEvent:l,publishEvent:r},"public"),e&&!((s=e.current)!=null&&s.state)&&(e.current=n.current),c.useImperativeHandle(e,()=>n.current,[n]),c.useEffect(()=>{const i=o.current;return()=>{i.publishEvent("unmount")}},[o]),o}const $y={hooks:{useCSSVariables:yu,useGridAriaAttributes:tx,useGridRowAriaAttributes:nx,useCellAggregationResult:()=>null}},oc=function(t,n){var l;const o=Fy(t),r=Oy(o.apiRef,o);return iy(r,o),h.jsx(ox,{privateApiRef:r,configuration:$y,props:o,children:h.jsx(yp,f({className:o.className,style:o.style,sx:o.sx},(l=o.slotProps)==null?void 0:l.root,{ref:n}))})},Gy=c.memo(fe(oc));oc.propTypes={apiRef:N.shape({current:N.object}),"aria-label":N.string,"aria-labelledby":N.string,autoHeight:N.bool,autoPageSize:N.bool,autosizeOnMount:N.bool,autosizeOptions:N.shape({columns:N.arrayOf(N.string),disableColumnVirtualization:N.bool,expand:N.bool,includeHeaders:N.bool,includeOutliers:N.bool,outliersFactor:N.number}),cellModesModel:N.object,checkboxSelection:N.bool,classes:N.object,className:N.string,clipboardCopyCellDelimiter:N.string,columnBufferPx:N.number,columnFilterDebounceMs:N.number,columnGroupHeaderHeight:N.number,columnGroupingModel:N.arrayOf(N.object),columnHeaderHeight:N.number,columns:N.arrayOf(N.object).isRequired,columnVisibilityModel:N.object,dataSource:N.shape({getRows:N.func.isRequired,updateRow:N.func}),dataSourceCache:N.shape({clear:N.func.isRequired,get:N.func.isRequired,set:N.func.isRequired}),density:N.oneOf(["comfortable","compact","standard"]),disableAutosize:N.bool,disableColumnFilter:N.bool,disableColumnMenu:N.bool,disableColumnResize:N.bool,disableColumnSelector:N.bool,disableColumnSorting:N.bool,disableDensitySelector:N.bool,disableEval:N.bool,disableMultipleRowSelection:N.bool,disableRowSelectionOnClick:N.bool,disableVirtualization:N.bool,editMode:N.oneOf(["cell","row"]),estimatedRowCount:N.number,experimentalFeatures:N.shape({warnIfFocusStateIsNotSynced:N.bool}),filterDebounceMs:N.number,filterMode:N.oneOf(["client","server"]),filterModel:N.shape({items:N.arrayOf(N.shape({field:N.string.isRequired,id:N.oneOfType([N.number,N.string]),operator:N.string.isRequired,value:N.any})).isRequired,logicOperator:N.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:N.bool,quickFilterLogicOperator:N.oneOf(["and","or"]),quickFilterValues:N.array}),getCellClassName:N.func,getDetailPanelContent:N.func,getEstimatedRowHeight:N.func,getRowClassName:N.func,getRowHeight:N.func,getRowId:N.func,getRowSpacing:N.func,hideFooter:N.bool,hideFooterPagination:N.bool,hideFooterSelectedRowCount:N.bool,ignoreDiacritics:N.bool,ignoreValueFormatterDuringExport:N.oneOfType([N.shape({clipboardExport:N.bool,csvExport:N.bool}),N.bool]),initialState:N.object,isCellEditable:N.func,isRowSelectable:N.func,keepNonExistentRowsSelected:N.bool,label:N.string,loading:N.bool,localeText:N.object,logger:N.shape({debug:N.func.isRequired,error:N.func.isRequired,info:N.func.isRequired,warn:N.func.isRequired}),logLevel:N.oneOf(["debug","error","info","warn",!1]),nonce:N.string,onCellClick:N.func,onCellDoubleClick:N.func,onCellEditStart:N.func,onCellEditStop:N.func,onCellKeyDown:N.func,onCellModesModelChange:N.func,onClipboardCopy:N.func,onColumnHeaderClick:N.func,onColumnHeaderContextMenu:N.func,onColumnHeaderDoubleClick:N.func,onColumnHeaderEnter:N.func,onColumnHeaderLeave:N.func,onColumnHeaderOut:N.func,onColumnHeaderOver:N.func,onColumnOrderChange:N.func,onColumnResize:N.func,onColumnVisibilityModelChange:N.func,onColumnWidthChange:N.func,onDataSourceError:N.func,onDensityChange:N.func,onFilterModelChange:N.func,onMenuClose:N.func,onMenuOpen:N.func,onPaginationMetaChange:N.func,onPaginationModelChange:N.func,onPreferencePanelClose:N.func,onPreferencePanelOpen:N.func,onProcessRowUpdateError:N.func,onResize:N.func,onRowClick:N.func,onRowCountChange:N.func,onRowDoubleClick:N.func,onRowEditStart:N.func,onRowEditStop:N.func,onRowModesModelChange:N.func,onRowSelectionModelChange:N.func,onSortModelChange:N.func,onStateChange:N.func,pageSizeOptions:N.arrayOf(N.oneOfType([N.number,N.shape({label:N.string.isRequired,value:N.number.isRequired})]).isRequired),pagination:N.oneOf([!0]),paginationMeta:N.shape({hasNextPage:N.bool}),paginationMode:N.oneOf(["client","server"]),paginationModel:N.shape({page:N.number.isRequired,pageSize:N.number.isRequired}),processRowUpdate:N.func,resizeThrottleMs:N.number,rowBufferPx:N.number,rowCount:N.number,rowHeight:N.number,rowModesModel:N.object,rows:N.arrayOf(N.object),rowSelection:N.bool,rowSelectionModel:N.shape({ids:N.instanceOf(Set).isRequired,type:N.oneOf(["exclude","include"]).isRequired}),rowSpacingType:N.oneOf(["border","margin"]),rowSpanning:N.bool,scrollbarSize:N.number,showCellVerticalBorder:N.bool,showColumnVerticalBorder:N.bool,showToolbar:N.bool,slotProps:N.object,slots:N.object,sortingMode:N.oneOf(["client","server"]),sortingOrder:N.arrayOf(N.oneOf(["asc","desc"])),sortModel:N.arrayOf(N.shape({field:N.string.isRequired,sort:N.oneOf(["asc","desc"])})),style:N.object,sx:N.oneOfType([N.arrayOf(N.oneOfType([N.func,N.object,N.bool])),N.func,N.object]),virtualizeColumnsWithAutoRowHeight:N.bool};const Ly=({patientId:e,embedded:t=!1,maxHeight:n,onNoteSelect:o,onNoteEdit:r,onNoteCreate:l})=>{var qe,we;const s=er(),i=ci(),{isMobile:a,shouldUseCardLayout:d}=Bc(),{selectedNotes:u,filters:g,searchQuery:m,loading:p,errors:v,ui:S,fetchNotes:b,searchNotes:x,deleteNote:T,bulkDeleteNotes:D,bulkUpdateNotes:O,toggleNoteSelection:k,clearSelection:$,setFilters:E,clearFilters:y,setSearchQuery:C,setPage:I,setCreateModalOpen:M,setEditModalOpen:j,setDeleteConfirmOpen:G,setBulkDeleteConfirmOpen:z}=Dc(),[F,P]=c.useState(m),[H,V]=c.useState(null),[W,L]=c.useState(null),[A,B]=c.useState(null),[Y,_]=c.useState({open:!1,message:"",severity:"info"}),J=c.useMemo(()=>{const ee={...g||{}};return e&&(ee.patientId=e),ee},[g,e]),{data:q,isLoading:ge,error:ce}=Nc(J),de=c.useCallback(R=>{C(R);const ee={...g,...e&&{patientId:e},page:1};R.trim()?ee.search=R.trim():delete ee.search,E(ee)},[g,e,C,E]),U=Dl.useRef();Dl.useEffect(()=>{let R;return U.current=ee=>{clearTimeout(R),R=setTimeout(()=>de(ee),300)},()=>clearTimeout(R)},[de]);const X=c.useCallback(R=>{var ee;(ee=U.current)==null||ee.call(U,R)},[]),te=R=>{const ee=R.target.value;P(ee),X(ee)},ie=(R,ee)=>{if(ee===void 0||ee===""){const{[R]:Re,...De}=g;E({...De,page:1})}else{const Re={...g,page:1};R==="search"||R==="patientId"||R==="type"||R==="priority"||R==="dateFrom"||R==="dateTo"?Re[R]=ee:R==="sortBy"&&(ee==="title"||ee==="createdAt"||ee==="updatedAt"||ee==="priority")?Re.sortBy=ee:R==="sortOrder"&&(ee==="asc"||ee==="desc")&&(Re.sortOrder=ee),E(Re)}},ae=()=>{y(),P(""),C("")},he=c.useCallback(R=>{try{$(),(Array.isArray(R)?R:Array.from(R.ids||[])).forEach(Re=>{typeof Re=="string"&&Re.trim().length>0&&k(Re)})}catch(ee){console.error("Error handling row selection change:",ee),$()}},[k,$]),pe=async()=>{try{await D(u)&&(_({open:!0,message:`Successfully deleted ${u.length} notes`,severity:"success"}),$())}catch{_({open:!0,message:"Failed to delete notes",severity:"error"})}z(!1)},ve=async R=>{try{await O(u,{isConfidential:R})&&(_({open:!0,message:`Successfully updated ${u.length} notes`,severity:"success"}),$())}catch{_({open:!0,message:"Failed to update notes",severity:"error"})}L(null)},ke=R=>{o?o(R._id):t?window.open(`/notes/${R._id}`,"_blank"):i(`/notes/${R._id}`)},Te=R=>{r?r(R._id):(B(R),j(!0))},se=async R=>{try{await T(R._id)&&_({open:!0,message:"Note deleted successfully",severity:"success"})}catch{_({open:!0,message:"Failed to delete note",severity:"error"})}G(!1)},xe=R=>{try{return vr(Ir(R),"MMM dd, yyyy HH:mm")}catch{return R}},oe=R=>`${R.firstName} ${R.lastName}`,ue=R=>`${R.firstName} ${R.lastName}`,Ce=({priority:R})=>{const ee=yr.find(me=>me.value===R),Re={high:{color:s.palette.error.main,bg:`${s.palette.error.main}15`,icon:"🔴"},medium:{color:s.palette.warning.main,bg:`${s.palette.warning.main}15`,icon:"🟡"},low:{color:s.palette.success.main,bg:`${s.palette.success.main}15`,icon:"🟢"}},De=Re[R]||Re.low;return h.jsx(ft,{label:`${De.icon} ${(ee==null?void 0:ee.label)||R}`,size:"small",sx:{backgroundColor:De.bg,color:De.color,fontWeight:600,border:`1px solid ${De.color}30`,fontSize:"0.75rem","&:hover":{backgroundColor:`${De.color}25`},transition:"all 0.2s ease-in-out"}})},Se=({type:R})=>{const ee=Sr.find(me=>me.value===R),Re={consultation:{icon:"👩‍⚕️",color:s.palette.primary.main},medication_review:{icon:"💊",color:s.palette.secondary.main},follow_up:{icon:"📅",color:s.palette.info.main},adverse_event:{icon:"⚠️",color:s.palette.error.main},other:{icon:"📝",color:s.palette.grey[600]}},De=Re[R]||Re.other;return h.jsx(ft,{label:`${De.icon} ${(ee==null?void 0:ee.label)||R}`,size:"small",sx:{backgroundColor:`${De.color}10`,color:De.color,border:`1px solid ${De.color}30`,fontWeight:500,fontSize:"0.75rem","&:hover":{backgroundColor:`${De.color}20`},transition:"all 0.2s ease-in-out"}})};c.useEffect(()=>{if(console.log("Component mount - current filters:",g),!g||Object.keys(g).length===0){console.log("Initializing filters...");const R={page:1,limit:10,sortBy:"createdAt",sortOrder:"desc",...e&&{patientId:e}};E(R)}},[g,E,e]);const ye=[{field:"title",headerName:"Title",flex:1,minWidth:200,renderCell:R=>h.jsxs(Ae,{children:[h.jsx(je,{variant:"body2",fontWeight:500,noWrap:!0,children:R.value}),R.row.isConfidential&&h.jsx(ft,{icon:h.jsx(ko,{}),label:"Confidential",size:"small",color:"warning",sx:{mt:.5}})]})},{field:"patient",headerName:"Patient",width:180,renderCell:R=>h.jsxs(Ae,{children:[h.jsx(je,{variant:"body2",fontWeight:500,children:oe(R.value)}),h.jsxs(je,{variant:"caption",color:"text.secondary",children:["MRN: ",R.value.mrn]})]})},{field:"type",headerName:"Type",width:150,renderCell:R=>h.jsx(Se,{type:R.value})},{field:"priority",headerName:"Priority",width:100,renderCell:R=>h.jsx(Ce,{priority:R.value})},{field:"pharmacist",headerName:"Pharmacist",width:150,renderCell:R=>h.jsx(je,{variant:"body2",children:ue(R.value)})},{field:"createdAt",headerName:"Created",width:150,renderCell:R=>h.jsx(je,{variant:"body2",children:xe(R.value)})},{field:"attachments",headerName:"Attachments",width:120,align:"center",renderCell:R=>{var ee;return((ee=R.value)==null?void 0:ee.length)>0?h.jsx(_r,{badgeContent:R.value.length,color:"primary",children:h.jsx(_l,{color:"action"})}):null}},{field:"followUpRequired",headerName:"Follow-up",width:100,align:"center",renderCell:R=>R.value?h.jsx(Ur,{title:`Follow-up: ${R.row.followUpDate?xe(R.row.followUpDate):"Not scheduled"}`,children:h.jsx(Al,{color:"warning"})}):null},{field:"actions",type:"actions",headerName:"Actions",width:120,getActions:R=>[h.jsx($r,{icon:h.jsx(zl,{}),label:"View",onClick:()=>ke(R.row)}),h.jsx($r,{icon:h.jsx(Vl,{}),label:"Edit",onClick:()=>Te(R.row)}),h.jsx($r,{icon:h.jsx(xr,{}),label:"Delete",onClick:()=>{B(R.row),G(!0)}})]}],Ge=R=>{if(Array.isArray(R)&&R.length>0){const ee=R[0];ee&&typeof ee.field=="string"&&(ie("sortBy",ee.field),ie("sortOrder",ee.sort||void 0))}},Ne=({note:R})=>{var me;const[ee,Re]=c.useState(!1),De=u.includes(R._id);return h.jsxs(Kn,{sx:{mb:3,border:De?`2px solid ${s.palette.primary.main}`:`1px solid ${s.palette.divider}`,borderRadius:3,background:De?`linear-gradient(135deg, ${s.palette.primary.main}08, ${s.palette.background.paper})`:s.palette.background.paper,boxShadow:De?"0 8px 30px rgba(37, 99, 235, 0.15)":"0 2px 12px rgba(0,0,0,0.08)","&:hover":{boxShadow:"0 8px 30px rgba(0,0,0,0.12)",transform:"translateY(-2px)"},transition:"all 0.3s ease-in-out",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,width:"4px",height:"100%",background:R.priority==="high"?s.palette.error.main:R.priority==="medium"?s.palette.warning.main:s.palette.success.main}},children:[h.jsxs(Po,{sx:{pb:1,pl:3},children:[h.jsxs(Ae,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[h.jsxs(Ae,{sx:{flex:1},children:[h.jsx(je,{variant:"h6",component:"h3",sx:{fontWeight:700,mb:1.5,color:s.palette.text.primary,lineHeight:1.3},children:R.title}),h.jsxs(bt,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:1},children:[h.jsx(Se,{type:R.type}),h.jsx(Ce,{priority:R.priority}),R.isConfidential&&h.jsx(ft,{icon:h.jsx(ko,{sx:{fontSize:"0.875rem"}}),label:"Confidential",size:"small",sx:{backgroundColor:s.palette.warning.main,color:"white",fontWeight:500,"& .MuiChip-icon":{color:"white"}}})]})]}),h.jsx(Gt,{size:"small",onClick:()=>k(R._id),sx:{color:De?s.palette.primary.main:s.palette.text.secondary,backgroundColor:De?`${s.palette.primary.main}15`:"transparent",border:`2px solid ${De?s.palette.primary.main:s.palette.divider}`,borderRadius:"50%",width:32,height:32,"&:hover":{backgroundColor:`${s.palette.primary.main}20`,borderColor:s.palette.primary.main},transition:"all 0.2s ease-in-out"},children:De?"✓":"○"})]}),h.jsxs(Ae,{sx:{mb:2,p:2,backgroundColor:`${s.palette.grey[50]}`,borderRadius:2,border:`1px solid ${s.palette.divider}`},children:[h.jsxs(je,{variant:"body2",sx:{mb:1,display:"flex",alignItems:"center"},children:[h.jsx(Ae,{component:"span",sx:{color:s.palette.text.secondary,minWidth:"70px",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Patient:"}),h.jsx(Ae,{component:"span",sx:{fontWeight:600,color:s.palette.text.primary},children:oe(R.patient)}),h.jsx(ft,{label:`MRN: ${R.patient.mrn}`,size:"small",variant:"outlined",sx:{ml:1,fontSize:"0.7rem",height:"20px"}})]}),h.jsxs(je,{variant:"body2",sx:{mb:1,display:"flex",alignItems:"center"},children:[h.jsx(Ae,{component:"span",sx:{color:s.palette.text.secondary,minWidth:"70px",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Provider:"}),h.jsx(Ae,{component:"span",sx:{color:s.palette.text.primary},children:ue(R.pharmacist)})]}),h.jsxs(je,{variant:"body2",sx:{display:"flex",alignItems:"center"},children:[h.jsx(Ae,{component:"span",sx:{color:s.palette.text.secondary,minWidth:"70px",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Created:"}),h.jsx(Ae,{component:"span",sx:{color:s.palette.text.primary},children:xe(R.createdAt)})]})]}),h.jsxs(bt,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[R.followUpRequired&&h.jsx(Ur,{title:`Follow-up: ${R.followUpDate?xe(R.followUpDate):"Not scheduled"}`,children:h.jsx(ft,{icon:h.jsx(Al,{sx:{fontSize:"0.875rem"}}),label:"Follow-up",size:"small",sx:{backgroundColor:s.palette.warning.main,color:"white",fontWeight:500,"& .MuiChip-icon":{color:"white"}}})}),((me=R.attachments)==null?void 0:me.length)>0&&h.jsx(ft,{icon:h.jsx(_l,{sx:{fontSize:"0.875rem"}}),label:`${R.attachments.length} files`,size:"small",variant:"outlined",sx:{borderColor:s.palette.primary.main,color:s.palette.primary.main,"& .MuiChip-icon":{color:s.palette.primary.main}}})]}),h.jsx(Hc,{in:ee,children:h.jsxs(Ae,{sx:{mt:2,pt:2,borderTop:"1px solid #e0e0e0"},children:[R.content.subjective&&h.jsxs(Ae,{sx:{mb:1},children:[h.jsx(je,{variant:"caption",fontWeight:600,color:"primary",children:"Subjective:"}),h.jsx(je,{variant:"body2",sx:{mt:.5},children:R.content.subjective})]}),R.content.objective&&h.jsxs(Ae,{sx:{mb:1},children:[h.jsx(je,{variant:"caption",fontWeight:600,color:"primary",children:"Objective:"}),h.jsx(je,{variant:"body2",sx:{mt:.5},children:R.content.objective})]}),R.content.assessment&&h.jsxs(Ae,{sx:{mb:1},children:[h.jsx(je,{variant:"caption",fontWeight:600,color:"primary",children:"Assessment:"}),h.jsx(je,{variant:"body2",sx:{mt:.5},children:R.content.assessment})]}),R.content.plan&&h.jsxs(Ae,{sx:{mb:1},children:[h.jsx(je,{variant:"caption",fontWeight:600,color:"primary",children:"Plan:"}),h.jsx(je,{variant:"body2",sx:{mt:.5},children:R.content.plan})]})]})})]}),h.jsxs(Xc,{sx:{justifyContent:"space-between",px:3,pb:2,borderTop:`1px solid ${s.palette.divider}`,backgroundColor:`${s.palette.grey[25]}`},children:[h.jsx(ct,{size:"small",onClick:()=>Re(!ee),startIcon:ee?h.jsx(Vc,{}):h.jsx(Oc,{}),sx:{color:s.palette.text.secondary,"&:hover":{backgroundColor:`${s.palette.primary.main}10`,color:s.palette.primary.main},transition:"all 0.2s ease-in-out"},children:ee?"Show Less":"Show More"}),h.jsxs(bt,{direction:"row",spacing:.5,children:[h.jsx(Gt,{size:"small",onClick:()=>ke(R),sx:{color:s.palette.primary.main,backgroundColor:`${s.palette.primary.main}10`,"&:hover":{backgroundColor:`${s.palette.primary.main}20`,transform:"scale(1.1)"},transition:"all 0.2s ease-in-out"},children:h.jsx(zl,{fontSize:"small"})}),h.jsx(Gt,{size:"small",onClick:()=>Te(R),sx:{color:s.palette.secondary.main,backgroundColor:`${s.palette.secondary.main}10`,"&:hover":{backgroundColor:`${s.palette.secondary.main}20`,transform:"scale(1.1)"},transition:"all 0.2s ease-in-out"},children:h.jsx(Vl,{fontSize:"small"})}),h.jsx(Gt,{size:"small",onClick:()=>{B(R),G(!0)},sx:{color:s.palette.error.main,backgroundColor:`${s.palette.error.main}10`,"&:hover":{backgroundColor:`${s.palette.error.main}20`,transform:"scale(1.1)"},transition:"all 0.2s ease-in-out"},children:h.jsx(xr,{fontSize:"small"})})]})]})]})};return h.jsxs(Ae,{sx:{height:n||(t?600:"100%"),width:"100%"},children:[!t&&h.jsx(Ae,{sx:{mb:4},children:h.jsx(Ae,{sx:{background:`linear-gradient(135deg, ${s.palette.primary.main}15 0%, ${s.palette.secondary.main}10 100%)`,borderRadius:3,p:4,mb:3,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.03"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")',opacity:.5}},children:h.jsxs(Ae,{sx:{position:"relative",zIndex:1},children:[h.jsx(je,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1,background:`linear-gradient(135deg, ${s.palette.primary.main}, ${s.palette.secondary.main})`,backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",display:"inline-block"},children:"Clinical Notes"}),h.jsx(je,{variant:"body1",color:"text.secondary",sx:{fontSize:"1.1rem",opacity:.8},children:"Manage SOAP notes and clinical documentation with enhanced workflow"})]})})}),h.jsx(Kn,{sx:{mb:3,background:`linear-gradient(135deg, ${s.palette.background.paper} 0%, ${s.palette.grey[50]} 100%)`,border:`1px solid ${s.palette.divider}`,boxShadow:"0 4px 20px rgba(0,0,0,0.08)","&:hover":{boxShadow:"0 8px 30px rgba(0,0,0,0.12)"},transition:"all 0.3s ease-in-out"},children:h.jsxs(Po,{sx:{pb:2},children:[a?h.jsxs(bt,{spacing:2,children:[h.jsx(Pn,{placeholder:"Search notes, patients, or content...",value:F,onChange:te,InputProps:{startAdornment:h.jsx(Jn,{position:"start",children:h.jsx(Rl,{sx:{color:s.palette.primary.main}})}),endAdornment:F&&h.jsx(Jn,{position:"end",children:h.jsx(Gt,{size:"small",onClick:()=>{P(""),de("")},sx:{"&:hover":{backgroundColor:s.palette.action.hover}},children:h.jsx(Fo,{})})})},fullWidth:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{backgroundColor:s.palette.background.paper,borderRadius:3,"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:s.palette.primary.main}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:s.palette.primary.main,borderWidth:2}}}}}),h.jsxs(bt,{direction:"row",spacing:1,justifyContent:"space-between",children:[h.jsxs(bt,{direction:"row",spacing:1,children:[h.jsx(Gt,{onClick:R=>V(R.currentTarget),color:"primary",size:"small",children:h.jsx(Nl,{})}),(g.type||g.priority||g.dateFrom||g.dateTo)&&h.jsx(Gt,{onClick:ae,color:"secondary",size:"small",children:h.jsx(Fo,{})}),u.length>0&&h.jsx(Gt,{onClick:R=>L(R.currentTarget),color:"secondary",size:"small",children:h.jsx(_r,{badgeContent:u.length,color:"primary",children:h.jsx(Bl,{})})})]}),h.jsx(ct,{startIcon:h.jsx(Ho,{}),onClick:()=>l?l():M(!0),variant:"contained",size:"small",sx:{background:`linear-gradient(135deg, ${s.palette.primary.main}, ${s.palette.primary.dark})`,boxShadow:"0 4px 15px rgba(37, 99, 235, 0.3)","&:hover":{background:`linear-gradient(135deg, ${s.palette.primary.dark}, ${s.palette.primary.main})`,boxShadow:"0 6px 20px rgba(37, 99, 235, 0.4)",transform:"translateY(-1px)"},transition:"all 0.3s ease-in-out",borderRadius:2},children:"New"})]})]}):h.jsxs(bt,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[h.jsx(Pn,{placeholder:"Search notes, patients, or content...",value:F,onChange:te,InputProps:{startAdornment:h.jsx(Jn,{position:"start",children:h.jsx(Rl,{sx:{color:s.palette.primary.main}})}),endAdornment:F&&h.jsx(Jn,{position:"end",children:h.jsx(Gt,{size:"small",onClick:()=>{P(""),de("")},sx:{"&:hover":{backgroundColor:s.palette.action.hover}},children:h.jsx(Fo,{})})})},sx:{minWidth:300,flex:1,"& .MuiOutlinedInput-root":{backgroundColor:s.palette.background.paper,borderRadius:3,"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:s.palette.primary.main}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:s.palette.primary.main,borderWidth:2}}}}}),h.jsx(ct,{startIcon:h.jsx(Nl,{}),onClick:R=>V(R.currentTarget),variant:"outlined",sx:{borderColor:s.palette.primary.main,color:s.palette.primary.main,"&:hover":{borderColor:s.palette.primary.dark,backgroundColor:`${s.palette.primary.main}08`,transform:"translateY(-1px)"},transition:"all 0.3s ease-in-out",borderRadius:2},children:"Filters"}),(g.type||g.priority||g.dateFrom||g.dateTo)&&h.jsx(ct,{startIcon:h.jsx(Fo,{}),onClick:ae,variant:"text",color:"secondary",children:"Clear Filters"}),h.jsx(ct,{startIcon:h.jsx(Ho,{}),onClick:()=>l?l():M(!0),variant:"contained",sx:{background:`linear-gradient(135deg, ${s.palette.primary.main}, ${s.palette.primary.dark})`,boxShadow:"0 4px 15px rgba(37, 99, 235, 0.3)","&:hover":{background:`linear-gradient(135deg, ${s.palette.primary.dark}, ${s.palette.primary.main})`,boxShadow:"0 6px 20px rgba(37, 99, 235, 0.4)",transform:"translateY(-1px)"},transition:"all 0.3s ease-in-out",borderRadius:2,px:3},children:"New Note"}),u.length>0&&h.jsxs(ct,{startIcon:h.jsx(Bl,{}),onClick:R=>L(R.currentTarget),variant:"outlined",color:"secondary",children:["Actions (",u.length,")"]})]}),(g.type||g.priority||g.dateFrom||g.dateTo)&&h.jsx(Ae,{sx:{mt:2},children:h.jsxs(bt,{direction:"row",spacing:1,flexWrap:"wrap",children:[g.type&&h.jsx(ft,{label:`Type: ${(qe=Sr.find(R=>R.value===g.type))==null?void 0:qe.label}`,onDelete:()=>ie("type",void 0),size:"small"}),g.priority&&h.jsx(ft,{label:`Priority: ${(we=yr.find(R=>R.value===g.priority))==null?void 0:we.label}`,onDelete:()=>ie("priority",void 0),size:"small"}),g.dateFrom&&h.jsx(ft,{label:`From: ${vr(Ir(g.dateFrom),"MMM dd, yyyy")}`,onDelete:()=>ie("dateFrom",void 0),size:"small"}),g.dateTo&&h.jsx(ft,{label:`To: ${vr(Ir(g.dateTo),"MMM dd, yyyy")}`,onDelete:()=>ie("dateTo",void 0),size:"small"})]})})]})}),d?h.jsx(Ae,{children:ge||p.fetchNotes?h.jsxs(Ae,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:8,gap:2},children:[h.jsx(Wr,{size:48,sx:{color:s.palette.primary.main,"& .MuiCircularProgress-circle":{strokeLinecap:"round"}}}),h.jsx(je,{variant:"body1",color:"text.secondary",sx:{fontWeight:500},children:"Loading clinical notes..."})]}):((q==null?void 0:q.notes)||[]).length===0?h.jsx(Kn,{sx:{textAlign:"center",py:8,background:`linear-gradient(135deg, ${s.palette.background.paper} 0%, ${s.palette.grey[50]} 100%)`,border:`2px dashed ${s.palette.divider}`,borderRadius:3},children:h.jsxs(Po,{children:[h.jsx(Ae,{sx:{mb:3},children:h.jsx(di,{sx:{fontSize:64,color:s.palette.text.secondary,opacity:.5,mb:2}})}),h.jsx(je,{variant:"h5",sx:{mb:2,fontWeight:600,color:s.palette.text.primary},children:"No clinical notes found"}),h.jsx(je,{variant:"body1",color:"text.secondary",sx:{mb:4,maxWidth:400,mx:"auto",lineHeight:1.6},children:m||g.type||g.priority?"Try adjusting your search criteria or filters to find the notes you're looking for.":"Get started by creating your first clinical note. Document patient consultations, medication reviews, and follow-ups all in one place."}),h.jsx(ct,{variant:"contained",startIcon:h.jsx(Ho,{}),size:"large",sx:{background:`linear-gradient(135deg, ${s.palette.primary.main}, ${s.palette.primary.dark})`,boxShadow:"0 4px 15px rgba(37, 99, 235, 0.3)","&:hover":{background:`linear-gradient(135deg, ${s.palette.primary.dark}, ${s.palette.primary.main})`,boxShadow:"0 6px 20px rgba(37, 99, 235, 0.4)",transform:"translateY(-1px)"},transition:"all 0.3s ease-in-out",borderRadius:2,px:4,py:1.5},onClick:()=>l?l():M(!0),children:"Create Note"})]})}):h.jsxs(h.Fragment,{children:[h.jsx(Ae,{children:((q==null?void 0:q.notes)||[]).map(R=>h.jsx(Ne,{note:R},R._id))}),q&&q.totalPages>1&&h.jsx(Kn,{sx:{mt:2},children:h.jsx(Po,{children:h.jsxs(bt,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[h.jsxs(je,{variant:"body2",color:"text.secondary",children:["Page ",q.currentPage," of ",q.totalPages]}),h.jsxs(bt,{direction:"row",spacing:1,children:[h.jsx(ct,{size:"small",disabled:q.currentPage<=1,onClick:()=>I(q.currentPage-1),children:"Previous"}),h.jsx(ct,{size:"small",disabled:q.currentPage>=q.totalPages,onClick:()=>I(q.currentPage+1),children:"Next"})]})]})})})]})}):h.jsx(Kn,{children:ge||p.fetchNotes?h.jsxs(Ae,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,flexDirection:"column",gap:2,children:[h.jsx(Wr,{}),h.jsx(je,{variant:"body2",color:"text.secondary",children:"Loading clinical notes..."})]}):ce?h.jsx(Ae,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,flexDirection:"column",gap:2,children:h.jsxs(je,{variant:"body2",color:"error",children:["Error loading notes: ",ce.message]})}):h.jsxs(h.Fragment,{children:[h.jsx(ui,{children:h.jsx(Gy,{rows:((q==null?void 0:q.notes)||[]).map(R=>({...R,id:R._id})),columns:ye,loading:ge||p.fetchNotes,checkboxSelection:Array.isArray(u),disableRowSelectionOnClick:!0,rowSelectionModel:{type:"include",ids:new Set(u)},onRowSelectionModelChange:he,paginationMode:"client",sortingMode:"client",filterMode:"client",pageSizeOptions:[10,25,50],initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},getRowId:R=>R._id||R.id,onSortModelChange:Ge,slots:{toolbar:Pw,footer:()=>null},slotProps:{toolbar:{showQuickFilter:!1,printOptions:{disableToolbarButton:!0}}},sx:{border:"none","& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#fafafa",borderBottom:"2px solid #e0e0e0"},"& .MuiDataGrid-row:hover":{backgroundColor:"#f5f5f5"},"& .MuiDataGrid-columnHeader .MuiCheckbox-root":{"& .MuiSvgIcon-root":{fontSize:"1.25rem"}},"& .MuiDataGrid-row .MuiCheckbox-root":{"& .MuiSvgIcon-root":{fontSize:"1.25rem"}}}})}),q&&q.totalPages>1&&h.jsxs(Ae,{sx:{p:2,borderTop:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(je,{variant:"body2",color:"text.secondary",children:["Showing ",q.notes.length," of ",q.total," total rows"]}),h.jsxs(bt,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(ct,{size:"small",disabled:q.currentPage<=1,onClick:()=>{const R={...g,page:q.currentPage-1};E(R),m?x(m,R):b(R)},children:"Previous"}),h.jsxs(je,{variant:"body2",color:"text.secondary",children:["Page ",q.currentPage," of ",q.totalPages]}),h.jsx(ct,{size:"small",disabled:q.currentPage>=q.totalPages,onClick:()=>{const R={...g,page:q.currentPage+1};E(R),m?x(m,R):b(R)},children:"Next"})]})]})]})}),h.jsx(Hl,{anchorEl:H,open:!!H,onClose:()=>V(null),PaperProps:{sx:{minWidth:300,p:2}},children:h.jsxs(bt,{spacing:2,children:[h.jsxs(Vr,{fullWidth:!0,size:"small",children:[h.jsx(Nr,{children:"Note Type"}),h.jsxs(Br,{value:g.type||"",onChange:R=>ie("type",R.target.value||void 0),label:"Note Type",children:[h.jsx(_t,{value:"",children:"All Types"}),Sr.map(R=>h.jsx(_t,{value:R.value,children:R.label},R.value))]})]}),h.jsxs(Vr,{fullWidth:!0,size:"small",children:[h.jsx(Nr,{children:"Priority"}),h.jsxs(Br,{value:g.priority||"",onChange:R=>ie("priority",R.target.value||void 0),label:"Priority",children:[h.jsx(_t,{value:"",children:"All Priorities"}),yr.map(R=>h.jsx(_t,{value:R.value,children:R.label},R.value))]})]}),h.jsx(Pn,{label:"Date From",type:"date",value:g.dateFrom||"",onChange:R=>ie("dateFrom",R.target.value||void 0),InputLabelProps:{shrink:!0},size:"small",fullWidth:!0}),h.jsx(Pn,{label:"Date To",type:"date",value:g.dateTo||"",onChange:R=>ie("dateTo",R.target.value||void 0),InputLabelProps:{shrink:!0},size:"small",fullWidth:!0})]})}),h.jsxs(Hl,{anchorEl:W,open:!!W,onClose:()=>L(null),children:[h.jsxs(_t,{onClick:()=>ve(!0),children:[h.jsx(ko,{sx:{mr:1}}),"Mark as Confidential"]}),h.jsxs(_t,{onClick:()=>ve(!1),children:[h.jsx(ko,{sx:{mr:1}}),"Remove Confidential"]}),h.jsx(li,{}),h.jsxs(_t,{onClick:()=>z(!0),sx:{color:"error.main"},children:[h.jsx(xr,{sx:{mr:1}}),"Delete Selected"]})]}),h.jsxs(Ol,{open:(S==null?void 0:S.isDeleteConfirmOpen)||!1,onClose:()=>G(!1),children:[h.jsx($l,{children:"Delete Note"}),h.jsx(Gl,{children:h.jsx(je,{children:"Are you sure you want to delete this note? This action cannot be undone."})}),h.jsxs(Ll,{children:[h.jsx(ct,{onClick:()=>G(!1),children:"Cancel"}),h.jsx(ct,{onClick:()=>A&&se(A),color:"error",variant:"contained",children:"Delete"})]})]}),h.jsxs(Ol,{open:(S==null?void 0:S.isBulkDeleteConfirmOpen)||!1,onClose:()=>z(!1),children:[h.jsx($l,{children:"Delete Multiple Notes"}),h.jsx(Gl,{children:h.jsxs(je,{children:["Are you sure you want to delete ",u.length," selected notes? This action cannot be undone."]})}),h.jsxs(Ll,{children:[h.jsx(ct,{onClick:()=>z(!1),children:"Cancel"}),h.jsxs(ct,{onClick:pe,color:"error",variant:"contained",children:["Delete ",u.length," Notes"]})]})]}),h.jsx(Yc,{open:Y.open,autoHideDuration:6e3,onClose:()=>_({...Y,open:!1}),children:h.jsx(jl,{onClose:()=>_({...Y,open:!1}),severity:Y.severity,sx:{width:"100%"},children:Y.message})}),(ce||v.fetchNotes)&&h.jsx(jl,{severity:"error",sx:{mt:2},children:(ce==null?void 0:ce.message)||v.fetchNotes||"An error occurred while loading notes"})]})},jy=e=>h.jsx(ui,{context:"clinical-notes-dashboard",children:h.jsx(Ly,{...e})}),pv=({patientId:e})=>{const t=ci(),n=$c(),o=er(),r=Gc(o.breakpoints.down("md")),l=()=>{t("/notes/new",{state:{from:n.pathname,patientId:e}})},s=u=>{t(`/notes/${u}/edit`,{state:{from:n.pathname}})},i=u=>{t(`/notes/${u}`,{state:{from:n.pathname}})},a=()=>h.jsxs(Ac,{"aria-label":"breadcrumb",sx:{mb:3,"& .MuiBreadcrumbs-separator":{mx:1,color:o.palette.primary.main}},children:[h.jsxs(zc,{component:Rc,to:"/dashboard",sx:{display:"flex",alignItems:"center",gap:.5,color:"text.secondary",textDecoration:"none",px:1.5,py:.5,borderRadius:2,transition:"all 0.2s ease-in-out","&:hover":{color:"primary.main",backgroundColor:`${o.palette.primary.main}10`,transform:"translateY(-1px)"}},children:[h.jsx(Zc,{fontSize:"small"}),h.jsx(je,{variant:"body2",fontWeight:500,children:"Dashboard"})]}),h.jsxs(Ae,{sx:{display:"flex",alignItems:"center",gap:.5,color:"primary.main",fontWeight:600,px:1.5,py:.5,backgroundColor:`${o.palette.primary.main}15`,borderRadius:2},children:[h.jsx(di,{fontSize:"small"}),h.jsx(je,{variant:"body2",color:"primary",fontWeight:600,children:"Clinical Notes"})]})]}),d=()=>h.jsxs(Ae,{sx:{mb:4},children:[a(),h.jsxs(Ae,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:r?"column":"row",gap:2,p:3,background:`linear-gradient(135deg, ${o.palette.primary.main}08 0%, ${o.palette.secondary.main}05 100%)`,borderRadius:3,border:`1px solid ${o.palette.divider}`,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.02"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")',opacity:.5}},children:[h.jsxs(Ae,{sx:{position:"relative",zIndex:1},children:[h.jsx(je,{variant:"h4",component:"h1",sx:{fontWeight:700,background:`linear-gradient(135deg, ${o.palette.primary.main}, ${o.palette.secondary.main})`,backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",display:"inline-block",mb:.5},children:"Clinical Notes"}),h.jsx(je,{variant:"body1",color:"text.secondary",sx:{opacity:.8},children:"Manage SOAP notes and clinical documentation"})]}),h.jsx(ct,{variant:"contained",startIcon:h.jsx(Ho,{}),onClick:l,sx:{minWidth:r?"100%":"auto",background:`linear-gradient(135deg, ${o.palette.primary.main}, ${o.palette.primary.dark})`,boxShadow:"0 4px 15px rgba(37, 99, 235, 0.3)","&:hover":{background:`linear-gradient(135deg, ${o.palette.primary.dark}, ${o.palette.primary.main})`,boxShadow:"0 6px 20px rgba(37, 99, 235, 0.4)",transform:"translateY(-1px)"},transition:"all 0.3s ease-in-out",borderRadius:2,px:3,py:1.5,position:"relative",zIndex:1},children:"New Clinical Note"})]})]});return h.jsx(Qc,{context:"clinical-notes-page",children:h.jsx(Ae,{sx:{minHeight:"100vh",background:`linear-gradient(135deg, ${o.palette.background.default} 0%, ${o.palette.grey[50]} 100%)`},children:h.jsxs(Lc,{maxWidth:"xl",sx:{py:3,px:{xs:2,sm:3},minHeight:"calc(100vh - 120px)"},children:[d(),h.jsx(jc,{in:!0,timeout:500,children:h.jsx(si,{elevation:0,sx:{height:"calc(100vh - 200px)",borderRadius:3,background:o.palette.background.paper,border:`1px solid ${o.palette.divider}`,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:h.jsx(jy,{patientId:e,onNoteSelect:i,onNoteEdit:s,onNoteCreate:l})})})]})})})};export{pv as default};
