import{g as y,aY as N,b3 as C,j as t,a_ as I,B as s,h as v,T as l,a$ as B,Q as S,b0 as k,b1 as z,b2 as E}from"./index-B_pWc9hu.js";import{C as $}from"./ClinicalNoteForm-CKRHmqbb.js";import{C as w}from"./ClinicalNotesUXEnhancer-DrCIfOgb.js";import{A as L}from"./ArrowBack-bh5q612l.js";import{H as A}from"./Home-C8eDz3RN.js";import{b as d}from"./clinicalNote-Dz3Qh_Vc.js";import{A as x}from"./Add-D5-B7xRD.js";import"./useClinicalNotesErrorHandling-DC3LTeok.js";import"./ExpandLess-CfW7CJI2.js";import"./BugReport-CefgtFkV.js";import"./usePatients-TJUphVTL.js";import"./CloudUpload-D6U8tbUo.js";import"./CardActions-DtPJ3__D.js";import"./Download-DRMVM3Bm.js";import"./Delete-BIyg2wQJ.js";import"./Image-B2lXq2kK.js";import"./LocalizationProvider-CB6kfikn.js";import"./AdapterDateFns-RQ5vW8pD.js";import"./addMonths-BkvcT9-f.js";import"./format-CQst3Dr_.js";import"./Switch-DtQ0auD3.js";import"./Save-DxF8g1QD.js";import"./Cancel-DzpQiNXV.js";import"./Autocomplete-HcpzFt3K.js";import"./DateTimePicker-DzpmGcCV.js";import"./useMobilePicker-CrD-8_S2.js";import"./index-BydA3A-2.js";import"./Sync-C9idAwzJ.js";const ct=()=>{var p;const o=y(),i=N(),c=C(),n=c.id,r=i.pathname.includes("/edit"),h=((p=i.state)==null?void 0:p.patientId)||c.patientId,m=()=>{var a;const e=(a=i.state)==null?void 0:a.from;o(e||"/notes")},f=e=>{o(`/notes/${e._id}`,{replace:!0,state:{from:"/notes",message:"Note created successfully"}})},u=e=>{o(`/notes/${e._id}`,{replace:!0,state:{from:"/notes",message:"Note updated successfully"}})},b=()=>{const e=[{label:"Dashboard",path:"/dashboard",icon:t.jsx(A,{fontSize:"small"})},{label:"Clinical Notes",path:"/notes",icon:t.jsx(d,{fontSize:"small"})}];return r?e.push({label:"Note Details",path:`/notes/${n}`,icon:t.jsx(d,{fontSize:"small"})},{label:"Edit",path:`/notes/${n}/edit`,icon:t.jsx(x,{fontSize:"small"})}):e.push({label:"New Note",path:"/notes/new",icon:t.jsx(x,{fontSize:"small"})}),e},j=()=>{const e=b();return t.jsx(k,{"aria-label":"breadcrumb",sx:{mb:2,"& .MuiBreadcrumbs-separator":{mx:1}},children:e.map((a,g)=>g===e.length-1?t.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:.5,color:"text.primary",fontWeight:500},children:[a.icon,t.jsx(l,{variant:"body2",color:"textPrimary",children:a.label})]},a.path):t.jsxs(z,{component:E,to:a.path,sx:{display:"flex",alignItems:"center",gap:.5,color:"text.secondary",textDecoration:"none","&:hover":{color:"primary.main",textDecoration:"underline"}},children:[a.icon,t.jsx(l,{variant:"body2",children:a.label})]},a.path))})};return t.jsx(w,{context:"clinical-note-form-page",children:t.jsxs(I,{maxWidth:"xl",sx:{py:3,px:{xs:2,sm:3},minHeight:"calc(100vh - 120px)"},children:[t.jsxs(s,{sx:{mb:3},children:[j(),t.jsx(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:2},children:t.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(v,{variant:"outlined",startIcon:t.jsx(L,{}),onClick:m,size:"sm",children:"Back"}),t.jsx(l,{variant:"h4",component:"h1",sx:{fontWeight:600,color:"text.primary"},children:r?"Edit Clinical Note":"Create New Clinical Note"})]})})]}),t.jsx(B,{in:!0,timeout:300,children:t.jsx(S,{elevation:1,sx:{p:3},children:t.jsx($,{noteId:n,patientId:h,onSave:r?u:f,onCancel:m})})})]})})};export{ct as default};
